(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))l(T);new MutationObserver(T=>{for(const D of T)if(D.type==="childList")for(const U of D.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&l(U)}).observe(document,{childList:!0,subtree:!0});function n(T){const D={};return T.integrity&&(D.integrity=T.integrity),T.referrerPolicy&&(D.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?D.credentials="include":T.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function l(T){if(T.ep)return;T.ep=!0;const D=n(T);fetch(T.href,D)}})();function bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ip={exports:{}},jl={},Rp={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Cv=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Mv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Fv=Symbol.for("react.memo"),Uv=Symbol.for("react.lazy"),pg=Symbol.iterator;function Zv(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var Np={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,Dp={};function ho(e,t,n){this.props=e,this.context=t,this.refs=Dp,this.updater=n||Np}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Op(){}Op.prototype=ho.prototype;function rf(e,t,n){this.props=e,this.context=t,this.refs=Dp,this.updater=n||Np}var af=rf.prototype=new Op;af.constructor=rf;Cp(af,ho.prototype);af.isPureReactComponent=!0;var hg=Array.isArray,Mp=Object.prototype.hasOwnProperty,of={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,n){var l,T={},D=null,U=null;if(t!=null)for(l in t.ref!==void 0&&(U=t.ref),t.key!==void 0&&(D=""+t.key),t)Mp.call(t,l)&&!Pp.hasOwnProperty(l)&&(T[l]=t[l]);var Y=arguments.length-2;if(Y===1)T.children=n;else if(1<Y){for(var v=Array(Y),j=0;j<Y;j++)v[j]=arguments[j+2];T.children=v}if(e&&e.defaultProps)for(l in Y=e.defaultProps,Y)T[l]===void 0&&(T[l]=Y[l]);return{$$typeof:ls,type:e,key:D,ref:U,props:T,_owner:of.current}}function Bv(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function Gv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mg=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gv(""+e.key):t.toString(36)}function ol(e,t,n,l,T){var D=typeof e;(D==="undefined"||D==="boolean")&&(e=null);var U=!1;if(e===null)U=!0;else switch(D){case"string":case"number":U=!0;break;case"object":switch(e.$$typeof){case ls:case Cv:U=!0}}if(U)return U=e,T=T(U),e=l===""?"."+Uu(U,0):l,hg(T)?(n="",e!=null&&(n=e.replace(mg,"$&/")+"/"),ol(T,t,n,"",function(j){return j})):T!=null&&(sf(T)&&(T=Bv(T,n+(!T.key||U&&U.key===T.key?"":(""+T.key).replace(mg,"$&/")+"/")+e)),t.push(T)),1;if(U=0,l=l===""?".":l+":",hg(e))for(var Y=0;Y<e.length;Y++){D=e[Y];var v=l+Uu(D,Y);U+=ol(D,t,n,v,T)}else if(v=Zv(e),typeof v=="function")for(e=v.call(e),Y=0;!(D=e.next()).done;)D=D.value,v=l+Uu(D,Y++),U+=ol(D,t,n,v,T);else if(D==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return U}function js(e,t,n){if(e==null)return e;var l=[],T=0;return ol(e,l,"","",function(D){return t.call(n,D,T++)}),l}function jv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},sl={transition:null},zv={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:sl,ReactCurrentOwner:of};function xp(){throw Error("act(...) is not supported in production builds of React.")}Rn.Children={map:js,forEach:function(e,t,n){js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return js(e,function(){t++}),t},toArray:function(e){return js(e,function(t){return t})||[]},only:function(e){if(!sf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rn.Component=ho;Rn.Fragment=Dv;Rn.Profiler=Mv;Rn.PureComponent=rf;Rn.StrictMode=Ov;Rn.Suspense=kv;Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;Rn.act=xp;Rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Cp({},e.props),T=e.key,D=e.ref,U=e._owner;if(t!=null){if(t.ref!==void 0&&(D=t.ref,U=of.current),t.key!==void 0&&(T=""+t.key),e.type&&e.type.defaultProps)var Y=e.type.defaultProps;for(v in t)Mp.call(t,v)&&!Pp.hasOwnProperty(v)&&(l[v]=t[v]===void 0&&Y!==void 0?Y[v]:t[v])}var v=arguments.length-2;if(v===1)l.children=n;else if(1<v){Y=Array(v);for(var j=0;j<v;j++)Y[j]=arguments[j+2];l.children=Y}return{$$typeof:ls,type:e.type,key:T,ref:D,props:l,_owner:U}};Rn.createContext=function(e){return e={$$typeof:Lv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pv,_context:e},e.Consumer=e};Rn.createElement=Lp;Rn.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};Rn.createRef=function(){return{current:null}};Rn.forwardRef=function(e){return{$$typeof:xv,render:e}};Rn.isValidElement=sf;Rn.lazy=function(e){return{$$typeof:Uv,_payload:{_status:-1,_result:e},_init:jv}};Rn.memo=function(e,t){return{$$typeof:Fv,type:e,compare:t===void 0?null:t}};Rn.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};Rn.unstable_act=xp;Rn.useCallback=function(e,t){return xr.current.useCallback(e,t)};Rn.useContext=function(e){return xr.current.useContext(e)};Rn.useDebugValue=function(){};Rn.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};Rn.useEffect=function(e,t){return xr.current.useEffect(e,t)};Rn.useId=function(){return xr.current.useId()};Rn.useImperativeHandle=function(e,t,n){return xr.current.useImperativeHandle(e,t,n)};Rn.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};Rn.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};Rn.useMemo=function(e,t){return xr.current.useMemo(e,t)};Rn.useReducer=function(e,t,n){return xr.current.useReducer(e,t,n)};Rn.useRef=function(e){return xr.current.useRef(e)};Rn.useState=function(e){return xr.current.useState(e)};Rn.useSyncExternalStore=function(e,t,n){return xr.current.useSyncExternalStore(e,t,n)};Rn.useTransition=function(){return xr.current.useTransition()};Rn.version="18.3.1";Rp.exports=Rn;var _n=Rp.exports;const qv=bp(_n);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=_n,Hv=Symbol.for("react.element"),Vv=Symbol.for("react.fragment"),Kv=Object.prototype.hasOwnProperty,Wv=Yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qv={key:!0,ref:!0,__self:!0,__source:!0};function kp(e,t,n){var l,T={},D=null,U=null;n!==void 0&&(D=""+n),t.key!==void 0&&(D=""+t.key),t.ref!==void 0&&(U=t.ref);for(l in t)Kv.call(t,l)&&!Qv.hasOwnProperty(l)&&(T[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)T[l]===void 0&&(T[l]=t[l]);return{$$typeof:Hv,type:e,key:D,ref:U,props:T,_owner:Wv.current}}jl.Fragment=Vv;jl.jsx=kp;jl.jsxs=kp;Ip.exports=jl;var nn=Ip.exports,cc={},Fp={exports:{}},Kr={},Up={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(be,Pe){var Ne=be.length;be.push(Pe);e:for(;0<Ne;){var me=Ne-1>>>1,Le=be[me];if(0<T(Le,Pe))be[me]=Pe,be[Ne]=Le,Ne=me;else break e}}function n(be){return be.length===0?null:be[0]}function l(be){if(be.length===0)return null;var Pe=be[0],Ne=be.pop();if(Ne!==Pe){be[0]=Ne;e:for(var me=0,Le=be.length,qe=Le>>>1;me<qe;){var $e=2*(me+1)-1,Re=be[$e],Fe=$e+1,Et=be[Fe];if(0>T(Re,Ne))Fe<Le&&0>T(Et,Re)?(be[me]=Et,be[Fe]=Ne,me=Fe):(be[me]=Re,be[$e]=Ne,me=$e);else if(Fe<Le&&0>T(Et,Ne))be[me]=Et,be[Fe]=Ne,me=Fe;else break e}}return Pe}function T(be,Pe){var Ne=be.sortIndex-Pe.sortIndex;return Ne!==0?Ne:be.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var D=performance;e.unstable_now=function(){return D.now()}}else{var U=Date,Y=U.now();e.unstable_now=function(){return U.now()-Y}}var v=[],j=[],A=1,o=null,i=3,E=!1,_=!1,f=!1,R=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,r=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(be){for(var Pe=n(j);Pe!==null;){if(Pe.callback===null)l(j);else if(Pe.startTime<=be)l(j),Pe.sortIndex=Pe.expirationTime,t(v,Pe);else break;Pe=n(j)}}function d(be){if(f=!1,u(be),!_)if(n(v)!==null)_=!0,Ce(I);else{var Pe=n(j);Pe!==null&&oe(d,Pe.startTime-be)}}function I(be,Pe){_=!1,f&&(f=!1,m(x),x=-1),E=!0;var Ne=i;try{for(u(Pe),o=n(v);o!==null&&(!(o.expirationTime>Pe)||be&&!te());){var me=o.callback;if(typeof me=="function"){o.callback=null,i=o.priorityLevel;var Le=me(o.expirationTime<=Pe);Pe=e.unstable_now(),typeof Le=="function"?o.callback=Le:o===n(v)&&l(v),u(Pe)}else l(v);o=n(v)}if(o!==null)var qe=!0;else{var $e=n(j);$e!==null&&oe(d,$e.startTime-Pe),qe=!1}return qe}finally{o=null,i=Ne,E=!1}}var Z=!1,z=null,x=-1,re=5,k=-1;function te(){return!(e.unstable_now()-k<re)}function ce(){if(z!==null){var be=e.unstable_now();k=be;var Pe=!0;try{Pe=z(!0,be)}finally{Pe?$():(Z=!1,z=null)}}else Z=!1}var $;if(typeof r=="function")$=function(){r(ce)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,he=ue.port2;ue.port1.onmessage=ce,$=function(){he.postMessage(null)}}else $=function(){R(ce,0)};function Ce(be){z=be,Z||(Z=!0,$())}function oe(be,Pe){x=R(function(){be(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(be){be.callback=null},e.unstable_continueExecution=function(){_||E||(_=!0,Ce(I))},e.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<be?Math.floor(1e3/be):5},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(be){switch(i){case 1:case 2:case 3:var Pe=3;break;default:Pe=i}var Ne=i;i=Pe;try{return be()}finally{i=Ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(be,Pe){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Ne=i;i=be;try{return Pe()}finally{i=Ne}},e.unstable_scheduleCallback=function(be,Pe,Ne){var me=e.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?me+Ne:me):Ne=me,be){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Ne+Le,be={id:A++,callback:Pe,priorityLevel:be,startTime:Ne,expirationTime:Le,sortIndex:-1},Ne>me?(be.sortIndex=Ne,t(j,be),n(v)===null&&be===n(j)&&(f?(m(x),x=-1):f=!0,oe(d,Ne-me))):(be.sortIndex=Le,t(v,be),_||E||(_=!0,Ce(I))),be},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(be){var Pe=i;return function(){var Ne=i;i=Pe;try{return be.apply(this,arguments)}finally{i=Ne}}}})(Zp);Up.exports=Zp;var Xv=Up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=_n,Vr=Xv;function en(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,Yo={};function Na(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(Yo[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,Jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yg={},vg={};function eE(e){return fc.call(vg,e)?!0:fc.call(yg,e)?!1:Jv.test(e)?vg[e]=!0:(yg[e]=!0,!1)}function tE(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nE(e,t,n,l){if(t===null||typeof t>"u"||tE(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,n,l,T,D,U){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=T,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=D,this.removeEmptyString=U}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var lf=/[\-:]([a-z])/g;function uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lf,uf);Sr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lf,uf);Sr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lf,uf);Sr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function cf(e,t,n,l){var T=Sr.hasOwnProperty(t)?Sr[t]:null;(T!==null?T.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nE(t,n,T,l)&&(n=null),l||T===null?eE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):T.mustUseProperty?e[T.propertyName]=n===null?T.type===3?!1:"":n:(t=T.attributeName,l=T.attributeNamespace,n===null?e.removeAttribute(t):(T=T.type,n=T===3||T===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var xi=$v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),za=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),jp=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),gc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),zp=Symbol.for("react.offscreen"),Eg=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var er=Object.assign,Zu;function Mo(e){if(Zu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zu=t&&t[1]||""}return`
`+Zu+e}var Bu=!1;function Gu(e,t){if(!e||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var l=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){l=j}e.call(t.prototype)}else{try{throw Error()}catch(j){l=j}e()}}catch(j){if(j&&l&&typeof j.stack=="string"){for(var T=j.stack.split(`
`),D=l.stack.split(`
`),U=T.length-1,Y=D.length-1;1<=U&&0<=Y&&T[U]!==D[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(T[U]!==D[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||T[U]!==D[Y]){var v=`
`+T[U].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=U&&0<=Y);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mo(e):""}function rE(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=Gu(e.type,!1),e;case 11:return e=Gu(e.type.render,!1),e;case 1:return e=Gu(e.type,!0),e;default:return""}}function hc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qa:return"Fragment";case za:return"Portal";case dc:return"Profiler";case ff:return"StrictMode";case gc:return"Suspense";case pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jp:return(e.displayName||"Context")+".Consumer";case Gp:return(e._context.displayName||"Context")+".Provider";case df:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return t=e.displayName||null,t!==null?t:hc(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return hc(e(t))}catch{}}return null}function iE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hc(t);case 8:return t===ff?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aE(e){var t=qp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var T=n.get,D=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return T.call(this)},set:function(U){l=""+U,D.call(this,U)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(U){l=""+U},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=aE(e))}function Yp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=qp(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mc(e,t){var n=t.checked;return er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _g(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=aa(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hp(e,t){t=t.checked,t!=null&&cf(e,"checked",t,!1)}function yc(e,t){Hp(e,t);var n=aa(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vc(e,t.type,n):t.hasOwnProperty("defaultValue")&&vc(e,t.type,aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vc(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Po=Array.isArray;function to(e,t,n,l){if(e=e.options,t){t={};for(var T=0;T<n.length;T++)t["$"+n[T]]=!0;for(n=0;n<e.length;n++)T=t.hasOwnProperty("$"+e[n].value),e[n].selected!==T&&(e[n].selected=T),T&&l&&(e[n].defaultSelected=!0)}else{for(n=""+aa(n),t=null,T=0;T<e.length;T++){if(e[T].value===n){e[T].selected=!0,l&&(e[T].defaultSelected=!0);return}t!==null||e[T].disabled||(t=e[T])}t!==null&&(t.selected=!0)}}function Ec(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(en(91));return er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(en(92));if(Po(n)){if(1<n.length)throw Error(en(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:aa(n)}}function Vp(e,t){var n=aa(t.value),l=aa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function Ag(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _c(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,Wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,T){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,T)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oE=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){oE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function Xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,T=Qp(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,T):e[n]=T}}var sE=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(e,t){if(t){if(sE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(en(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(en(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(en(61))}if(t.style!=null&&typeof t.style!="object")throw Error(en(62))}}function Sc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wc=null,no=null,ro=null;function wg(e){if(e=fs(e)){if(typeof wc!="function")throw Error(en(280));var t=e.stateNode;t&&(t=Vl(t),wc(e.stateNode,e.type,t))}}function $p(e){no?ro?ro.push(e):ro=[e]:no=e}function Jp(){if(no){var e=no,t=ro;if(ro=no=null,wg(e),t)for(e=0;e<t.length;e++)wg(t[e])}}function eh(e,t){return e(t)}function th(){}var ju=!1;function nh(e,t,n){if(ju)return e(t,n);ju=!0;try{return eh(e,t,n)}finally{ju=!1,(no!==null||ro!==null)&&(th(),Jp())}}function Vo(e,t){var n=e.stateNode;if(n===null)return null;var l=Vl(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(en(231,t,typeof n));return n}var bc=!1;if(Oi)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){bc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{bc=!1}function lE(e,t,n,l,T,D,U,Y,v){var j=Array.prototype.slice.call(arguments,3);try{t.apply(n,j)}catch(A){this.onError(A)}}var Fo=!1,El=null,_l=!1,Ic=null,uE={onError:function(e){Fo=!0,El=e}};function cE(e,t,n,l,T,D,U,Y,v){Fo=!1,El=null,lE.apply(uE,arguments)}function fE(e,t,n,l,T,D,U,Y,v){if(cE.apply(this,arguments),Fo){if(Fo){var j=El;Fo=!1,El=null}else throw Error(en(198));_l||(_l=!0,Ic=j)}}function Ca(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bg(e){if(Ca(e)!==e)throw Error(en(188))}function dE(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(en(188));return t!==e?null:e}for(var n=e,l=t;;){var T=n.return;if(T===null)break;var D=T.alternate;if(D===null){if(l=T.return,l!==null){n=l;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===n)return bg(T),e;if(D===l)return bg(T),t;D=D.sibling}throw Error(en(188))}if(n.return!==l.return)n=T,l=D;else{for(var U=!1,Y=T.child;Y;){if(Y===n){U=!0,n=T,l=D;break}if(Y===l){U=!0,l=T,n=D;break}Y=Y.sibling}if(!U){for(Y=D.child;Y;){if(Y===n){U=!0,n=D,l=T;break}if(Y===l){U=!0,l=D,n=T;break}Y=Y.sibling}if(!U)throw Error(en(189))}}if(n.alternate!==l)throw Error(en(190))}if(n.tag!==3)throw Error(en(188));return n.stateNode.current===n?e:t}function ih(e){return e=dE(e),e!==null?ah(e):null}function ah(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ah(e);if(t!==null)return t;e=e.sibling}return null}var oh=Vr.unstable_scheduleCallback,Ig=Vr.unstable_cancelCallback,gE=Vr.unstable_shouldYield,pE=Vr.unstable_requestPaint,sr=Vr.unstable_now,hE=Vr.unstable_getCurrentPriorityLevel,hf=Vr.unstable_ImmediatePriority,sh=Vr.unstable_UserBlockingPriority,Tl=Vr.unstable_NormalPriority,mE=Vr.unstable_LowPriority,lh=Vr.unstable_IdlePriority,zl=null,Si=null;function yE(e){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:_E,vE=Math.log,EE=Math.LN2;function _E(e){return e>>>=0,e===0?32:31-(vE(e)/EE|0)|0}var Hs=64,Vs=4194304;function Lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,T=e.suspendedLanes,D=e.pingedLanes,U=n&268435455;if(U!==0){var Y=U&~T;Y!==0?l=Lo(Y):(D&=U,D!==0&&(l=Lo(D)))}else U=n&~T,U!==0?l=Lo(U):D!==0&&(l=Lo(D));if(l===0)return 0;if(t!==0&&t!==l&&!(t&T)&&(T=l&-l,D=t&-t,T>=D||T===16&&(D&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-mi(t),T=1<<n,l|=e[n],t&=~T;return l}function TE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SE(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,T=e.expirationTimes,D=e.pendingLanes;0<D;){var U=31-mi(D),Y=1<<U,v=T[U];v===-1?(!(Y&n)||Y&l)&&(T[U]=TE(Y,t)):v<=t&&(e.expiredLanes|=Y),D&=~Y}}function Rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=Hs;return Hs<<=1,!(Hs&4194240)&&(Hs=64),e}function zu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function us(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mi(t),e[t]=n}function AE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var T=31-mi(n),D=1<<T;t[T]=0,l[T]=-1,e[T]=-1,n&=~D}}function mf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-mi(n),T=1<<l;T&t|e[l]&t&&(e[l]|=t),n&=~T}}var Gn=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,yf,dh,gh,ph,Nc=!1,Ks=[],Xi=null,$i=null,Ji=null,Ko=new Map,Wo=new Map,Hi=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function Io(e,t,n,l,T,D){return e===null||e.nativeEvent!==D?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:D,targetContainers:[T]},t!==null&&(t=fs(t),t!==null&&yf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,T!==null&&t.indexOf(T)===-1&&t.push(T),e)}function bE(e,t,n,l,T){switch(t){case"focusin":return Xi=Io(Xi,e,t,n,l,T),!0;case"dragenter":return $i=Io($i,e,t,n,l,T),!0;case"mouseover":return Ji=Io(Ji,e,t,n,l,T),!0;case"pointerover":var D=T.pointerId;return Ko.set(D,Io(Ko.get(D)||null,e,t,n,l,T)),!0;case"gotpointercapture":return D=T.pointerId,Wo.set(D,Io(Wo.get(D)||null,e,t,n,l,T)),!0}return!1}function hh(e){var t=va(e.target);if(t!==null){var n=Ca(t);if(n!==null){if(t=n.tag,t===13){if(t=rh(n),t!==null){e.blockedOn=t,ph(e.priority,function(){dh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ac=l,n.target.dispatchEvent(l),Ac=null}else return t=fs(n),t!==null&&yf(t),e.blockedOn=n,!1;t.shift()}return!0}function Ng(e,t,n){ll(e)&&n.delete(t)}function IE(){Nc=!1,Xi!==null&&ll(Xi)&&(Xi=null),$i!==null&&ll($i)&&($i=null),Ji!==null&&ll(Ji)&&(Ji=null),Ko.forEach(Ng),Wo.forEach(Ng)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Nc||(Nc=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,IE)))}function Qo(e){function t(T){return Ro(T,e)}if(0<Ks.length){Ro(Ks[0],e);for(var n=1;n<Ks.length;n++){var l=Ks[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Xi!==null&&Ro(Xi,e),$i!==null&&Ro($i,e),Ji!==null&&Ro(Ji,e),Ko.forEach(t),Wo.forEach(t),n=0;n<Hi.length;n++)l=Hi[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)hh(n),n.blockedOn===null&&Hi.shift()}var io=xi.ReactCurrentBatchConfig,Al=!0;function RE(e,t,n,l){var T=Gn,D=io.transition;io.transition=null;try{Gn=1,vf(e,t,n,l)}finally{Gn=T,io.transition=D}}function NE(e,t,n,l){var T=Gn,D=io.transition;io.transition=null;try{Gn=4,vf(e,t,n,l)}finally{Gn=T,io.transition=D}}function vf(e,t,n,l){if(Al){var T=Cc(e,t,n,l);if(T===null)Ju(e,t,l,wl,n),Rg(e,l);else if(bE(T,e,t,n,l))l.stopPropagation();else if(Rg(e,l),t&4&&-1<wE.indexOf(e)){for(;T!==null;){var D=fs(T);if(D!==null&&fh(D),D=Cc(e,t,n,l),D===null&&Ju(e,t,l,wl,n),D===T)break;T=D}T!==null&&l.stopPropagation()}else Ju(e,t,l,null,n)}}var wl=null;function Cc(e,t,n,l){if(wl=null,e=pf(l),e=va(e),e!==null)if(t=Ca(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wl=e,null}function mh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hE()){case hf:return 1;case sh:return 4;case Tl:case mE:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Ki=null,Ef=null,ul=null;function yh(){if(ul)return ul;var e,t=Ef,n=t.length,l,T="value"in Ki?Ki.value:Ki.textContent,D=T.length;for(e=0;e<n&&t[e]===T[e];e++);var U=n-e;for(l=1;l<=U&&t[n-l]===T[D-l];l++);return ul=T.slice(e,1<l?1-l:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function Cg(){return!1}function Wr(e){function t(n,l,T,D,U){this._reactName=n,this._targetInst=T,this.type=l,this.nativeEvent=D,this.target=U,this.currentTarget=null;for(var Y in e)e.hasOwnProperty(Y)&&(n=e[Y],this[Y]=n?n(D):D[Y]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Ws:Cg,this.isPropagationStopped=Cg,this}return er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Wr(mo),cs=er({},mo,{view:0,detail:0}),CE=Wr(cs),qu,Yu,No,ql=er({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(qu=e.screenX-No.screenX,Yu=e.screenY-No.screenY):Yu=qu=0,No=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Dg=Wr(ql),DE=er({},ql,{dataTransfer:0}),OE=Wr(DE),ME=er({},cs,{relatedTarget:0}),Hu=Wr(ME),PE=er({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),LE=Wr(PE),xE=er({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kE=Wr(xE),FE=er({},mo,{data:0}),Og=Wr(FE),UE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BE[e])?!!t[e]:!1}function Tf(){return GE}var jE=er({},cs,{key:function(e){if(e.key){var t=UE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zE=Wr(jE),qE=er({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=Wr(qE),YE=er({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),HE=Wr(YE),VE=er({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=Wr(VE),WE=er({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=Wr(WE),XE=[9,13,27,32],Sf=Oi&&"CompositionEvent"in window,Uo=null;Oi&&"documentMode"in document&&(Uo=document.documentMode);var $E=Oi&&"TextEvent"in window&&!Uo,vh=Oi&&(!Sf||Uo&&8<Uo&&11>=Uo),Pg=" ",Lg=!1;function Eh(e,t){switch(e){case"keyup":return XE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function JE(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(Lg=!0,Pg);case"textInput":return e=t.data,e===Pg&&Lg?null:e;default:return null}}function e_(e,t){if(Ya)return e==="compositionend"||!Sf&&Eh(e,t)?(e=yh(),ul=Ef=Ki=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var t_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t_[e.type]:t==="textarea"}function Th(e,t,n,l){$p(l),t=bl(t,"onChange"),0<t.length&&(n=new _f("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Zo=null,Xo=null;function n_(e){Mh(e,0)}function Yl(e){var t=Ka(e);if(Yp(t))return e}function r_(e,t){if(e==="change")return t}var Sh=!1;if(Oi){var Vu;if(Oi){var Ku="oninput"in document;if(!Ku){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Ku=typeof kg.oninput=="function"}Vu=Ku}else Vu=!1;Sh=Vu&&(!document.documentMode||9<document.documentMode)}function Fg(){Zo&&(Zo.detachEvent("onpropertychange",Ah),Xo=Zo=null)}function Ah(e){if(e.propertyName==="value"&&Yl(Xo)){var t=[];Th(t,Xo,e,pf(e)),nh(n_,t)}}function i_(e,t,n){e==="focusin"?(Fg(),Zo=t,Xo=n,Zo.attachEvent("onpropertychange",Ah)):e==="focusout"&&Fg()}function a_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(Xo)}function o_(e,t){if(e==="click")return Yl(t)}function s_(e,t){if(e==="input"||e==="change")return Yl(t)}function l_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vi=typeof Object.is=="function"?Object.is:l_;function $o(e,t){if(vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var T=n[l];if(!fc.call(t,T)||!vi(e[T],t[T]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zg(e,t){var n=Ug(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bh(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u_(e){var t=bh(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wh(n.ownerDocument.documentElement,n)){if(l!==null&&Af(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var T=n.textContent.length,D=Math.min(l.start,T);l=l.end===void 0?D:Math.min(l.end,T),!e.extend&&D>l&&(T=l,l=D,D=T),T=Zg(n,D);var U=Zg(n,l);T&&U&&(e.rangeCount!==1||e.anchorNode!==T.node||e.anchorOffset!==T.offset||e.focusNode!==U.node||e.focusOffset!==U.offset)&&(t=t.createRange(),t.setStart(T.node,T.offset),e.removeAllRanges(),D>l?(e.addRange(t),e.extend(U.node,U.offset)):(t.setEnd(U.node,U.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c_=Oi&&"documentMode"in document&&11>=document.documentMode,Ha=null,Dc=null,Bo=null,Oc=!1;function Bg(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oc||Ha==null||Ha!==vl(l)||(l=Ha,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&$o(Bo,l)||(Bo=l,l=bl(Dc,"onSelect"),0<l.length&&(t=new _f("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ha)))}function Qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Va={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Wu={},Ih={};Oi&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Hl(e){if(Wu[e])return Wu[e];if(!Va[e])return e;var t=Va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ih)return Wu[e]=t[n];return e}var Rh=Hl("animationend"),Nh=Hl("animationiteration"),Ch=Hl("animationstart"),Dh=Hl("transitionend"),Oh=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(e,t){Oh.set(e,t),Na(t,[e])}for(var Qu=0;Qu<Gg.length;Qu++){var Xu=Gg[Qu],f_=Xu.toLowerCase(),d_=Xu[0].toUpperCase()+Xu.slice(1);sa(f_,"on"+d_)}sa(Rh,"onAnimationEnd");sa(Nh,"onAnimationIteration");sa(Ch,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(Dh,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g_=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function jg(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,fE(l,t,void 0,e),e.currentTarget=null}function Mh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],T=l.event;l=l.listeners;e:{var D=void 0;if(t)for(var U=l.length-1;0<=U;U--){var Y=l[U],v=Y.instance,j=Y.currentTarget;if(Y=Y.listener,v!==D&&T.isPropagationStopped())break e;jg(T,Y,j),D=v}else for(U=0;U<l.length;U++){if(Y=l[U],v=Y.instance,j=Y.currentTarget,Y=Y.listener,v!==D&&T.isPropagationStopped())break e;jg(T,Y,j),D=v}}}if(_l)throw e=Ic,_l=!1,Ic=null,e}function Wn(e,t){var n=t[kc];n===void 0&&(n=t[kc]=new Set);var l=e+"__bubble";n.has(l)||(Ph(t,e,2,!1),n.add(l))}function $u(e,t,n){var l=0;t&&(l|=4),Ph(n,e,l,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Xs]){e[Xs]=!0,Bp.forEach(function(n){n!=="selectionchange"&&(g_.has(n)||$u(n,!1,e),$u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,$u("selectionchange",!1,t))}}function Ph(e,t,n,l){switch(mh(t)){case 1:var T=RE;break;case 4:T=NE;break;default:T=vf}n=T.bind(null,t,n,e),T=void 0,!bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(T=!0),l?T!==void 0?e.addEventListener(t,n,{capture:!0,passive:T}):e.addEventListener(t,n,!0):T!==void 0?e.addEventListener(t,n,{passive:T}):e.addEventListener(t,n,!1)}function Ju(e,t,n,l,T){var D=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var U=l.tag;if(U===3||U===4){var Y=l.stateNode.containerInfo;if(Y===T||Y.nodeType===8&&Y.parentNode===T)break;if(U===4)for(U=l.return;U!==null;){var v=U.tag;if((v===3||v===4)&&(v=U.stateNode.containerInfo,v===T||v.nodeType===8&&v.parentNode===T))return;U=U.return}for(;Y!==null;){if(U=va(Y),U===null)return;if(v=U.tag,v===5||v===6){l=D=U;continue e}Y=Y.parentNode}}l=l.return}nh(function(){var j=D,A=pf(n),o=[];e:{var i=Oh.get(e);if(i!==void 0){var E=_f,_=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":E=zE;break;case"focusin":_="focus",E=Hu;break;case"focusout":_="blur",E=Hu;break;case"beforeblur":case"afterblur":E=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=HE;break;case Rh:case Nh:case Ch:E=LE;break;case Dh:E=KE;break;case"scroll":E=CE;break;case"wheel":E=QE;break;case"copy":case"cut":case"paste":E=kE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Mg}var f=(t&4)!==0,R=!f&&e==="scroll",m=f?i!==null?i+"Capture":null:i;f=[];for(var r=j,u;r!==null;){u=r;var d=u.stateNode;if(u.tag===5&&d!==null&&(u=d,m!==null&&(d=Vo(r,m),d!=null&&f.push(es(r,d,u)))),R)break;r=r.return}0<f.length&&(i=new E(i,_,null,n,A),o.push({event:i,listeners:f}))}}if(!(t&7)){e:{if(i=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",i&&n!==Ac&&(_=n.relatedTarget||n.fromElement)&&(va(_)||_[Mi]))break e;if((E||i)&&(i=A.window===A?A:(i=A.ownerDocument)?i.defaultView||i.parentWindow:window,E?(_=n.relatedTarget||n.toElement,E=j,_=_?va(_):null,_!==null&&(R=Ca(_),_!==R||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=j),E!==_)){if(f=Dg,d="onMouseLeave",m="onMouseEnter",r="mouse",(e==="pointerout"||e==="pointerover")&&(f=Mg,d="onPointerLeave",m="onPointerEnter",r="pointer"),R=E==null?i:Ka(E),u=_==null?i:Ka(_),i=new f(d,r+"leave",E,n,A),i.target=R,i.relatedTarget=u,d=null,va(A)===j&&(f=new f(m,r+"enter",_,n,A),f.target=u,f.relatedTarget=R,d=f),R=d,E&&_)t:{for(f=E,m=_,r=0,u=f;u;u=ja(u))r++;for(u=0,d=m;d;d=ja(d))u++;for(;0<r-u;)f=ja(f),r--;for(;0<u-r;)m=ja(m),u--;for(;r--;){if(f===m||m!==null&&f===m.alternate)break t;f=ja(f),m=ja(m)}f=null}else f=null;E!==null&&zg(o,i,E,f,!1),_!==null&&R!==null&&zg(o,R,_,f,!0)}}e:{if(i=j?Ka(j):window,E=i.nodeName&&i.nodeName.toLowerCase(),E==="select"||E==="input"&&i.type==="file")var I=r_;else if(xg(i))if(Sh)I=s_;else{I=a_;var Z=i_}else(E=i.nodeName)&&E.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(I=o_);if(I&&(I=I(e,j))){Th(o,I,n,A);break e}Z&&Z(e,i,j),e==="focusout"&&(Z=i._wrapperState)&&Z.controlled&&i.type==="number"&&vc(i,"number",i.value)}switch(Z=j?Ka(j):window,e){case"focusin":(xg(Z)||Z.contentEditable==="true")&&(Ha=Z,Dc=j,Bo=null);break;case"focusout":Bo=Dc=Ha=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Bg(o,n,A);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":Bg(o,n,A)}var z;if(Sf)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ya?Eh(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(vh&&n.locale!=="ko"&&(Ya||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ya&&(z=yh()):(Ki=A,Ef="value"in Ki?Ki.value:Ki.textContent,Ya=!0)),Z=bl(j,x),0<Z.length&&(x=new Og(x,e,null,n,A),o.push({event:x,listeners:Z}),z?x.data=z:(z=_h(n),z!==null&&(x.data=z)))),(z=$E?JE(e,n):e_(e,n))&&(j=bl(j,"onBeforeInput"),0<j.length&&(A=new Og("onBeforeInput","beforeinput",null,n,A),o.push({event:A,listeners:j}),A.data=z))}Mh(o,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",l=[];e!==null;){var T=e,D=T.stateNode;T.tag===5&&D!==null&&(T=D,D=Vo(e,n),D!=null&&l.unshift(es(e,D,T)),D=Vo(e,t),D!=null&&l.push(es(e,D,T))),e=e.return}return l}function ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zg(e,t,n,l,T){for(var D=t._reactName,U=[];n!==null&&n!==l;){var Y=n,v=Y.alternate,j=Y.stateNode;if(v!==null&&v===l)break;Y.tag===5&&j!==null&&(Y=j,T?(v=Vo(n,D),v!=null&&U.unshift(es(n,v,Y))):T||(v=Vo(n,D),v!=null&&U.push(es(n,v,Y)))),n=n.return}U.length!==0&&e.push({event:t,listeners:U})}var p_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function qg(e){return(typeof e=="string"?e:""+e).replace(p_,`
`).replace(h_,"")}function $s(e,t,n){if(t=qg(t),qg(e)!==t&&n)throw Error(en(425))}function Il(){}var Mc=null,Pc=null;function Lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,m_=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(v_)}:xc;function v_(e){setTimeout(function(){throw e})}function ec(e,t){var n=t,l=0;do{var T=n.nextSibling;if(e.removeChild(n),T&&T.nodeType===8)if(n=T.data,n==="/$"){if(l===0){e.removeChild(T),Qo(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=T}while(n);Qo(t)}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Ti="__reactFiber$"+yo,ts="__reactProps$"+yo,Mi="__reactContainer$"+yo,kc="__reactEvents$"+yo,E_="__reactListeners$"+yo,__="__reactHandles$"+yo;function va(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hg(e);e!==null;){if(n=e[Ti])return n;e=Hg(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[Ti]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(en(33))}function Vl(e){return e[ts]||null}var Fc=[],Wa=-1;function la(e){return{current:e}}function Qn(e){0>Wa||(e.current=Fc[Wa],Fc[Wa]=null,Wa--)}function Hn(e,t){Wa++,Fc[Wa]=e.current,e.current=t}var oa={},Cr=la(oa),Zr=la(!1),Aa=oa;function lo(e,t){var n=e.type.contextTypes;if(!n)return oa;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var T={},D;for(D in n)T[D]=t[D];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=T),T}function Br(e){return e=e.childContextTypes,e!=null}function Rl(){Qn(Zr),Qn(Cr)}function Vg(e,t,n){if(Cr.current!==oa)throw Error(en(168));Hn(Cr,t),Hn(Zr,n)}function Lh(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var T in l)if(!(T in t))throw Error(en(108,iE(e)||"Unknown",T));return er({},n,l)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,Aa=Cr.current,Hn(Cr,e),Hn(Zr,Zr.current),!0}function Kg(e,t,n){var l=e.stateNode;if(!l)throw Error(en(169));n?(e=Lh(e,t,Aa),l.__reactInternalMemoizedMergedChildContext=e,Qn(Zr),Qn(Cr),Hn(Cr,e)):Qn(Zr),Hn(Zr,n)}var Ri=null,Kl=!1,tc=!1;function xh(e){Ri===null?Ri=[e]:Ri.push(e)}function T_(e){Kl=!0,xh(e)}function ua(){if(!tc&&Ri!==null){tc=!0;var e=0,t=Gn;try{var n=Ri;for(Gn=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Ri=null,Kl=!1}catch(T){throw Ri!==null&&(Ri=Ri.slice(e+1)),oh(hf,ua),T}finally{Gn=t,tc=!1}}return null}var Qa=[],Xa=0,Cl=null,Dl=0,ni=[],ri=0,wa=null,Ni=1,Ci="";function ma(e,t){Qa[Xa++]=Dl,Qa[Xa++]=Cl,Cl=e,Dl=t}function kh(e,t,n){ni[ri++]=Ni,ni[ri++]=Ci,ni[ri++]=wa,wa=e;var l=Ni;e=Ci;var T=32-mi(l)-1;l&=~(1<<T),n+=1;var D=32-mi(t)+T;if(30<D){var U=T-T%5;D=(l&(1<<U)-1).toString(32),l>>=U,T-=U,Ni=1<<32-mi(t)+T|n<<T|l,Ci=D+e}else Ni=1<<D|n<<T|l,Ci=e}function wf(e){e.return!==null&&(ma(e,1),kh(e,1,0))}function bf(e){for(;e===Cl;)Cl=Qa[--Xa],Qa[Xa]=null,Dl=Qa[--Xa],Qa[Xa]=null;for(;e===wa;)wa=ni[--ri],ni[ri]=null,Ci=ni[--ri],ni[ri]=null,Ni=ni[--ri],ni[ri]=null}var Hr=null,Yr=null,Xn=!1,hi=null;function Fh(e,t){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hr=e,Yr=ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hr=e,Yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wa!==null?{id:Ni,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hr=e,Yr=null,!0):!1;default:return!1}}function Uc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zc(e){if(Xn){var t=Yr;if(t){var n=t;if(!Wg(e,t)){if(Uc(e))throw Error(en(418));t=ea(n.nextSibling);var l=Hr;t&&Wg(e,t)?Fh(l,n):(e.flags=e.flags&-4097|2,Xn=!1,Hr=e)}}else{if(Uc(e))throw Error(en(418));e.flags=e.flags&-4097|2,Xn=!1,Hr=e}}}function Qg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hr=e}function Js(e){if(e!==Hr)return!1;if(!Xn)return Qg(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lc(e.type,e.memoizedProps)),t&&(t=Yr)){if(Uc(e))throw Uh(),Error(en(418));for(;t;)Fh(e,t),t=ea(t.nextSibling)}if(Qg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(en(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yr=ea(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yr=null}}else Yr=Hr?ea(e.stateNode.nextSibling):null;return!0}function Uh(){for(var e=Yr;e;)e=ea(e.nextSibling)}function uo(){Yr=Hr=null,Xn=!1}function If(e){hi===null?hi=[e]:hi.push(e)}var S_=xi.ReactCurrentBatchConfig;function Co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(en(309));var l=n.stateNode}if(!l)throw Error(en(147,e));var T=l,D=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===D?t.ref:(t=function(U){var Y=T.refs;U===null?delete Y[D]:Y[D]=U},t._stringRef=D,t)}if(typeof e!="string")throw Error(en(284));if(!n._owner)throw Error(en(290,e))}return e}function el(e,t){throw e=Object.prototype.toString.call(t),Error(en(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xg(e){var t=e._init;return t(e._payload)}function Zh(e){function t(m,r){if(e){var u=m.deletions;u===null?(m.deletions=[r],m.flags|=16):u.push(r)}}function n(m,r){if(!e)return null;for(;r!==null;)t(m,r),r=r.sibling;return null}function l(m,r){for(m=new Map;r!==null;)r.key!==null?m.set(r.key,r):m.set(r.index,r),r=r.sibling;return m}function T(m,r){return m=ia(m,r),m.index=0,m.sibling=null,m}function D(m,r,u){return m.index=u,e?(u=m.alternate,u!==null?(u=u.index,u<r?(m.flags|=2,r):u):(m.flags|=2,r)):(m.flags|=1048576,r)}function U(m){return e&&m.alternate===null&&(m.flags|=2),m}function Y(m,r,u,d){return r===null||r.tag!==6?(r=lc(u,m.mode,d),r.return=m,r):(r=T(r,u),r.return=m,r)}function v(m,r,u,d){var I=u.type;return I===qa?A(m,r,u.props.children,d,u.key):r!==null&&(r.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&Xg(I)===r.type)?(d=T(r,u.props),d.ref=Co(m,r,u),d.return=m,d):(d=yl(u.type,u.key,u.props,null,m.mode,d),d.ref=Co(m,r,u),d.return=m,d)}function j(m,r,u,d){return r===null||r.tag!==4||r.stateNode.containerInfo!==u.containerInfo||r.stateNode.implementation!==u.implementation?(r=uc(u,m.mode,d),r.return=m,r):(r=T(r,u.children||[]),r.return=m,r)}function A(m,r,u,d,I){return r===null||r.tag!==7?(r=Sa(u,m.mode,d,I),r.return=m,r):(r=T(r,u),r.return=m,r)}function o(m,r,u){if(typeof r=="string"&&r!==""||typeof r=="number")return r=lc(""+r,m.mode,u),r.return=m,r;if(typeof r=="object"&&r!==null){switch(r.$$typeof){case zs:return u=yl(r.type,r.key,r.props,null,m.mode,u),u.ref=Co(m,null,r),u.return=m,u;case za:return r=uc(r,m.mode,u),r.return=m,r;case qi:var d=r._init;return o(m,d(r._payload),u)}if(Po(r)||wo(r))return r=Sa(r,m.mode,u,null),r.return=m,r;el(m,r)}return null}function i(m,r,u,d){var I=r!==null?r.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return I!==null?null:Y(m,r,""+u,d);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case zs:return u.key===I?v(m,r,u,d):null;case za:return u.key===I?j(m,r,u,d):null;case qi:return I=u._init,i(m,r,I(u._payload),d)}if(Po(u)||wo(u))return I!==null?null:A(m,r,u,d,null);el(m,u)}return null}function E(m,r,u,d,I){if(typeof d=="string"&&d!==""||typeof d=="number")return m=m.get(u)||null,Y(r,m,""+d,I);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case zs:return m=m.get(d.key===null?u:d.key)||null,v(r,m,d,I);case za:return m=m.get(d.key===null?u:d.key)||null,j(r,m,d,I);case qi:var Z=d._init;return E(m,r,u,Z(d._payload),I)}if(Po(d)||wo(d))return m=m.get(u)||null,A(r,m,d,I,null);el(r,d)}return null}function _(m,r,u,d){for(var I=null,Z=null,z=r,x=r=0,re=null;z!==null&&x<u.length;x++){z.index>x?(re=z,z=null):re=z.sibling;var k=i(m,z,u[x],d);if(k===null){z===null&&(z=re);break}e&&z&&k.alternate===null&&t(m,z),r=D(k,r,x),Z===null?I=k:Z.sibling=k,Z=k,z=re}if(x===u.length)return n(m,z),Xn&&ma(m,x),I;if(z===null){for(;x<u.length;x++)z=o(m,u[x],d),z!==null&&(r=D(z,r,x),Z===null?I=z:Z.sibling=z,Z=z);return Xn&&ma(m,x),I}for(z=l(m,z);x<u.length;x++)re=E(z,m,x,u[x],d),re!==null&&(e&&re.alternate!==null&&z.delete(re.key===null?x:re.key),r=D(re,r,x),Z===null?I=re:Z.sibling=re,Z=re);return e&&z.forEach(function(te){return t(m,te)}),Xn&&ma(m,x),I}function f(m,r,u,d){var I=wo(u);if(typeof I!="function")throw Error(en(150));if(u=I.call(u),u==null)throw Error(en(151));for(var Z=I=null,z=r,x=r=0,re=null,k=u.next();z!==null&&!k.done;x++,k=u.next()){z.index>x?(re=z,z=null):re=z.sibling;var te=i(m,z,k.value,d);if(te===null){z===null&&(z=re);break}e&&z&&te.alternate===null&&t(m,z),r=D(te,r,x),Z===null?I=te:Z.sibling=te,Z=te,z=re}if(k.done)return n(m,z),Xn&&ma(m,x),I;if(z===null){for(;!k.done;x++,k=u.next())k=o(m,k.value,d),k!==null&&(r=D(k,r,x),Z===null?I=k:Z.sibling=k,Z=k);return Xn&&ma(m,x),I}for(z=l(m,z);!k.done;x++,k=u.next())k=E(z,m,x,k.value,d),k!==null&&(e&&k.alternate!==null&&z.delete(k.key===null?x:k.key),r=D(k,r,x),Z===null?I=k:Z.sibling=k,Z=k);return e&&z.forEach(function(ce){return t(m,ce)}),Xn&&ma(m,x),I}function R(m,r,u,d){if(typeof u=="object"&&u!==null&&u.type===qa&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case zs:e:{for(var I=u.key,Z=r;Z!==null;){if(Z.key===I){if(I=u.type,I===qa){if(Z.tag===7){n(m,Z.sibling),r=T(Z,u.props.children),r.return=m,m=r;break e}}else if(Z.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&Xg(I)===Z.type){n(m,Z.sibling),r=T(Z,u.props),r.ref=Co(m,Z,u),r.return=m,m=r;break e}n(m,Z);break}else t(m,Z);Z=Z.sibling}u.type===qa?(r=Sa(u.props.children,m.mode,d,u.key),r.return=m,m=r):(d=yl(u.type,u.key,u.props,null,m.mode,d),d.ref=Co(m,r,u),d.return=m,m=d)}return U(m);case za:e:{for(Z=u.key;r!==null;){if(r.key===Z)if(r.tag===4&&r.stateNode.containerInfo===u.containerInfo&&r.stateNode.implementation===u.implementation){n(m,r.sibling),r=T(r,u.children||[]),r.return=m,m=r;break e}else{n(m,r);break}else t(m,r);r=r.sibling}r=uc(u,m.mode,d),r.return=m,m=r}return U(m);case qi:return Z=u._init,R(m,r,Z(u._payload),d)}if(Po(u))return _(m,r,u,d);if(wo(u))return f(m,r,u,d);el(m,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,r!==null&&r.tag===6?(n(m,r.sibling),r=T(r,u),r.return=m,m=r):(n(m,r),r=lc(u,m.mode,d),r.return=m,m=r),U(m)):n(m,r)}return R}var co=Zh(!0),Bh=Zh(!1),Ol=la(null),Ml=null,$a=null,Rf=null;function Nf(){Rf=$a=Ml=null}function Cf(e){var t=Ol.current;Qn(Ol),e._currentValue=t}function Bc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function ao(e,t){Ml=e,Rf=$a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ur=!0),e.firstContext=null)}function oi(e){var t=e._currentValue;if(Rf!==e)if(e={context:e,memoizedValue:t,next:null},$a===null){if(Ml===null)throw Error(en(308));$a=e,Ml.dependencies={lanes:0,firstContext:e}}else $a=$a.next=e;return t}var Ea=null;function Df(e){Ea===null?Ea=[e]:Ea.push(e)}function Gh(e,t,n,l){var T=t.interleaved;return T===null?(n.next=n,Df(t)):(n.next=T.next,T.next=n),t.interleaved=n,Pi(e,l)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yi=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,On&2){var T=l.pending;return T===null?t.next=t:(t.next=T.next,T.next=t),l.pending=t,Pi(e,n)}return T=l.interleaved,T===null?(t.next=t,Df(l)):(t.next=T.next,T.next=t),l.interleaved=t,Pi(e,n)}function fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,mf(e,n)}}function $g(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var T=null,D=null;if(n=n.firstBaseUpdate,n!==null){do{var U={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};D===null?T=D=U:D=D.next=U,n=n.next}while(n!==null);D===null?T=D=t:D=D.next=t}else T=D=t;n={baseState:l.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,l){var T=e.updateQueue;Yi=!1;var D=T.firstBaseUpdate,U=T.lastBaseUpdate,Y=T.shared.pending;if(Y!==null){T.shared.pending=null;var v=Y,j=v.next;v.next=null,U===null?D=j:U.next=j,U=v;var A=e.alternate;A!==null&&(A=A.updateQueue,Y=A.lastBaseUpdate,Y!==U&&(Y===null?A.firstBaseUpdate=j:Y.next=j,A.lastBaseUpdate=v))}if(D!==null){var o=T.baseState;U=0,A=j=v=null,Y=D;do{var i=Y.lane,E=Y.eventTime;if((l&i)===i){A!==null&&(A=A.next={eventTime:E,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var _=e,f=Y;switch(i=t,E=n,f.tag){case 1:if(_=f.payload,typeof _=="function"){o=_.call(E,o,i);break e}o=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=f.payload,i=typeof _=="function"?_.call(E,o,i):_,i==null)break e;o=er({},o,i);break e;case 2:Yi=!0}}Y.callback!==null&&Y.lane!==0&&(e.flags|=64,i=T.effects,i===null?T.effects=[Y]:i.push(Y))}else E={eventTime:E,lane:i,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},A===null?(j=A=E,v=o):A=A.next=E,U|=i;if(Y=Y.next,Y===null){if(Y=T.shared.pending,Y===null)break;i=Y,Y=i.next,i.next=null,T.lastBaseUpdate=i,T.shared.pending=null}}while(!0);if(A===null&&(v=o),T.baseState=v,T.firstBaseUpdate=j,T.lastBaseUpdate=A,t=T.shared.interleaved,t!==null){T=t;do U|=T.lane,T=T.next;while(T!==t)}else D===null&&(T.shared.lanes=0);Ia|=U,e.lanes=U,e.memoizedState=o}}function Jg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],T=l.callback;if(T!==null){if(l.callback=null,l=n,typeof T!="function")throw Error(en(191,T));T.call(l)}}}var ds={},Ai=la(ds),ns=la(ds),rs=la(ds);function _a(e){if(e===ds)throw Error(en(174));return e}function Mf(e,t){switch(Hn(rs,t),Hn(ns,e),Hn(Ai,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_c(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_c(t,e)}Qn(Ai),Hn(Ai,t)}function fo(){Qn(Ai),Qn(ns),Qn(rs)}function zh(e){_a(rs.current);var t=_a(Ai.current),n=_c(t,e.type);t!==n&&(Hn(ns,e),Hn(Ai,n))}function Pf(e){ns.current===e&&(Qn(Ai),Qn(ns))}var $n=la(0);function Ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nc=[];function Lf(){for(var e=0;e<nc.length;e++)nc[e]._workInProgressVersionPrimary=null;nc.length=0}var dl=xi.ReactCurrentDispatcher,rc=xi.ReactCurrentBatchConfig,ba=0,Jn=null,fr=null,mr=null,xl=!1,Go=!1,is=0,A_=0;function Ir(){throw Error(en(321))}function xf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vi(e[n],t[n]))return!1;return!0}function kf(e,t,n,l,T,D){if(ba=D,Jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?R_:N_,e=n(l,T),Go){D=0;do{if(Go=!1,is=0,25<=D)throw Error(en(301));D+=1,mr=fr=null,t.updateQueue=null,dl.current=C_,e=n(l,T)}while(Go)}if(dl.current=kl,t=fr!==null&&fr.next!==null,ba=0,mr=fr=Jn=null,xl=!1,t)throw Error(en(300));return e}function Ff(){var e=is!==0;return is=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Jn.memoizedState=mr=e:mr=mr.next=e,mr}function si(){if(fr===null){var e=Jn.alternate;e=e!==null?e.memoizedState:null}else e=fr.next;var t=mr===null?Jn.memoizedState:mr.next;if(t!==null)mr=t,fr=e;else{if(e===null)throw Error(en(310));fr=e,e={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},mr===null?Jn.memoizedState=mr=e:mr=mr.next=e}return mr}function as(e,t){return typeof t=="function"?t(e):t}function ic(e){var t=si(),n=t.queue;if(n===null)throw Error(en(311));n.lastRenderedReducer=e;var l=fr,T=l.baseQueue,D=n.pending;if(D!==null){if(T!==null){var U=T.next;T.next=D.next,D.next=U}l.baseQueue=T=D,n.pending=null}if(T!==null){D=T.next,l=l.baseState;var Y=U=null,v=null,j=D;do{var A=j.lane;if((ba&A)===A)v!==null&&(v=v.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),l=j.hasEagerState?j.eagerState:e(l,j.action);else{var o={lane:A,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};v===null?(Y=v=o,U=l):v=v.next=o,Jn.lanes|=A,Ia|=A}j=j.next}while(j!==null&&j!==D);v===null?U=l:v.next=Y,vi(l,t.memoizedState)||(Ur=!0),t.memoizedState=l,t.baseState=U,t.baseQueue=v,n.lastRenderedState=l}if(e=n.interleaved,e!==null){T=e;do D=T.lane,Jn.lanes|=D,Ia|=D,T=T.next;while(T!==e)}else T===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ac(e){var t=si(),n=t.queue;if(n===null)throw Error(en(311));n.lastRenderedReducer=e;var l=n.dispatch,T=n.pending,D=t.memoizedState;if(T!==null){n.pending=null;var U=T=T.next;do D=e(D,U.action),U=U.next;while(U!==T);vi(D,t.memoizedState)||(Ur=!0),t.memoizedState=D,t.baseQueue===null&&(t.baseState=D),n.lastRenderedState=D}return[D,l]}function qh(){}function Yh(e,t){var n=Jn,l=si(),T=t(),D=!vi(l.memoizedState,T);if(D&&(l.memoizedState=T,Ur=!0),l=l.queue,Uf(Kh.bind(null,n,l,e),[e]),l.getSnapshot!==t||D||mr!==null&&mr.memoizedState.tag&1){if(n.flags|=2048,os(9,Vh.bind(null,n,l,T,t),void 0,null),yr===null)throw Error(en(349));ba&30||Hh(n,t,T)}return T}function Hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vh(e,t,n,l){t.value=n,t.getSnapshot=l,Wh(t)&&Qh(e)}function Kh(e,t,n){return n(function(){Wh(t)&&Qh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vi(e,n)}catch{return!0}}function Qh(e){var t=Pi(e,1);t!==null&&yi(t,e,1,-1)}function ep(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=I_.bind(null,Jn,e),[t.memoizedState,e]}function os(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Xh(){return si().memoizedState}function gl(e,t,n,l){var T=_i();Jn.flags|=e,T.memoizedState=os(1|t,n,void 0,l===void 0?null:l)}function Wl(e,t,n,l){var T=si();l=l===void 0?null:l;var D=void 0;if(fr!==null){var U=fr.memoizedState;if(D=U.destroy,l!==null&&xf(l,U.deps)){T.memoizedState=os(t,n,D,l);return}}Jn.flags|=e,T.memoizedState=os(1|t,n,D,l)}function tp(e,t){return gl(8390656,8,e,t)}function Uf(e,t){return Wl(2048,8,e,t)}function $h(e,t){return Wl(4,2,e,t)}function Jh(e,t){return Wl(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,em.bind(null,t,e),n)}function Zf(){}function nm(e,t){var n=si();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&xf(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=si();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&xf(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function im(e,t,n){return ba&21?(vi(n,t)||(n=uh(),Jn.lanes|=n,Ia|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ur=!0),e.memoizedState=n)}function w_(e,t){var n=Gn;Gn=n!==0&&4>n?n:4,e(!0);var l=rc.transition;rc.transition={};try{e(!1),t()}finally{Gn=n,rc.transition=l}}function am(){return si().memoizedState}function b_(e,t,n){var l=ra(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))sm(t,n);else if(n=Gh(e,t,n,l),n!==null){var T=Lr();yi(n,e,l,T),lm(n,t,l)}}function I_(e,t,n){var l=ra(e),T={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))sm(t,T);else{var D=e.alternate;if(e.lanes===0&&(D===null||D.lanes===0)&&(D=t.lastRenderedReducer,D!==null))try{var U=t.lastRenderedState,Y=D(U,n);if(T.hasEagerState=!0,T.eagerState=Y,vi(Y,U)){var v=t.interleaved;v===null?(T.next=T,Df(t)):(T.next=v.next,v.next=T),t.interleaved=T;return}}catch{}finally{}n=Gh(e,t,T,l),n!==null&&(T=Lr(),yi(n,e,l,T),lm(n,t,l))}}function om(e){var t=e.alternate;return e===Jn||t!==null&&t===Jn}function sm(e,t){Go=xl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lm(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,mf(e,n)}}var kl={readContext:oi,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},R_={readContext:oi,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:oi,useEffect:tp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gl(4194308,4,em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=_i();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=b_.bind(null,Jn,e),[l.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:ep,useDebugValue:Zf,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=ep(!1),t=e[0];return e=w_.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=Jn,T=_i();if(Xn){if(n===void 0)throw Error(en(407));n=n()}else{if(n=t(),yr===null)throw Error(en(349));ba&30||Hh(l,t,n)}T.memoizedState=n;var D={value:n,getSnapshot:t};return T.queue=D,tp(Kh.bind(null,l,D,e),[e]),l.flags|=2048,os(9,Vh.bind(null,l,D,n,t),void 0,null),n},useId:function(){var e=_i(),t=yr.identifierPrefix;if(Xn){var n=Ci,l=Ni;n=(l&~(1<<32-mi(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N_={readContext:oi,useCallback:nm,useContext:oi,useEffect:Uf,useImperativeHandle:tm,useInsertionEffect:$h,useLayoutEffect:Jh,useMemo:rm,useReducer:ic,useRef:Xh,useState:function(){return ic(as)},useDebugValue:Zf,useDeferredValue:function(e){var t=si();return im(t,fr.memoizedState,e)},useTransition:function(){var e=ic(as)[0],t=si().memoizedState;return[e,t]},useMutableSource:qh,useSyncExternalStore:Yh,useId:am,unstable_isNewReconciler:!1},C_={readContext:oi,useCallback:nm,useContext:oi,useEffect:Uf,useImperativeHandle:tm,useInsertionEffect:$h,useLayoutEffect:Jh,useMemo:rm,useReducer:ac,useRef:Xh,useState:function(){return ac(as)},useDebugValue:Zf,useDeferredValue:function(e){var t=si();return fr===null?t.memoizedState=e:im(t,fr.memoizedState,e)},useTransition:function(){var e=ac(as)[0],t=si().memoizedState;return[e,t]},useMutableSource:qh,useSyncExternalStore:Yh,useId:am,unstable_isNewReconciler:!1};function gi(e,t){if(e&&e.defaultProps){t=er({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:er({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Lr(),T=ra(e),D=Di(l,T);D.payload=t,n!=null&&(D.callback=n),t=ta(e,D,T),t!==null&&(yi(t,e,T,l),fl(t,e,T))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Lr(),T=ra(e),D=Di(l,T);D.tag=1,D.payload=t,n!=null&&(D.callback=n),t=ta(e,D,T),t!==null&&(yi(t,e,T,l),fl(t,e,T))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lr(),l=ra(e),T=Di(n,l);T.tag=2,t!=null&&(T.callback=t),t=ta(e,T,l),t!==null&&(yi(t,e,l,n),fl(t,e,l))}};function np(e,t,n,l,T,D,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,D,U):t.prototype&&t.prototype.isPureReactComponent?!$o(n,l)||!$o(T,D):!0}function um(e,t,n){var l=!1,T=oa,D=t.contextType;return typeof D=="object"&&D!==null?D=oi(D):(T=Br(t)?Aa:Cr.current,l=t.contextTypes,D=(l=l!=null)?lo(e,T):oa),t=new t(n,D),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=T,e.__reactInternalMemoizedMaskedChildContext=D),t}function rp(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function jc(e,t,n,l){var T=e.stateNode;T.props=n,T.state=e.memoizedState,T.refs={},Of(e);var D=t.contextType;typeof D=="object"&&D!==null?T.context=oi(D):(D=Br(t)?Aa:Cr.current,T.context=lo(e,D)),T.state=e.memoizedState,D=t.getDerivedStateFromProps,typeof D=="function"&&(Gc(e,t,D,n),T.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(t=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),t!==T.state&&Ql.enqueueReplaceState(T,T.state,null),Pl(e,n,T,l),T.state=e.memoizedState),typeof T.componentDidMount=="function"&&(e.flags|=4194308)}function go(e,t){try{var n="",l=t;do n+=rE(l),l=l.return;while(l);var T=n}catch(D){T=`
Error generating stack: `+D.message+`
`+D.stack}return{value:e,source:t,stack:T,digest:null}}function oc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var D_=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Ul||(Ul=!0,Jc=l),zc(e,t)},n}function fm(e,t,n){n=Di(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var T=t.value;n.payload=function(){return l(T)},n.callback=function(){zc(e,t)}}var D=e.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){zc(e,t),typeof l!="function"&&(na===null?na=new Set([this]):na.add(this));var U=t.stack;this.componentDidCatch(t.value,{componentStack:U!==null?U:""})}),n}function ip(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new D_;var T=new Set;l.set(t,T)}else T=l.get(t),T===void 0&&(T=new Set,l.set(t,T));T.has(n)||(T.add(n),e=q_.bind(null,e,t,n),t.then(e,e))}function ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function op(e,t,n,l,T){return e.mode&1?(e.flags|=65536,e.lanes=T,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Di(-1,1),t.tag=2,ta(n,t,1))),n.lanes|=1),e)}var O_=xi.ReactCurrentOwner,Ur=!1;function Pr(e,t,n,l){t.child=e===null?Bh(t,null,n,l):co(t,e.child,n,l)}function sp(e,t,n,l,T){n=n.render;var D=t.ref;return ao(t,T),l=kf(e,t,n,l,D,T),n=Ff(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~T,Li(e,t,T)):(Xn&&n&&wf(t),t.flags|=1,Pr(e,t,l,T),t.child)}function lp(e,t,n,l,T){if(e===null){var D=n.type;return typeof D=="function"&&!Vf(D)&&D.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=D,dm(e,t,D,l,T)):(e=yl(n.type,null,l,t,t.mode,T),e.ref=t.ref,e.return=t,t.child=e)}if(D=e.child,!(e.lanes&T)){var U=D.memoizedProps;if(n=n.compare,n=n!==null?n:$o,n(U,l)&&e.ref===t.ref)return Li(e,t,T)}return t.flags|=1,e=ia(D,l),e.ref=t.ref,e.return=t,t.child=e}function dm(e,t,n,l,T){if(e!==null){var D=e.memoizedProps;if($o(D,l)&&e.ref===t.ref)if(Ur=!1,t.pendingProps=l=D,(e.lanes&T)!==0)e.flags&131072&&(Ur=!0);else return t.lanes=e.lanes,Li(e,t,T)}return qc(e,t,n,l,T)}function gm(e,t,n){var l=t.pendingProps,T=l.children,D=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(eo,qr),qr|=n;else{if(!(n&1073741824))return e=D!==null?D.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(eo,qr),qr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=D!==null?D.baseLanes:n,Hn(eo,qr),qr|=l}else D!==null?(l=D.baseLanes|n,t.memoizedState=null):l=n,Hn(eo,qr),qr|=l;return Pr(e,t,T,n),t.child}function pm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qc(e,t,n,l,T){var D=Br(n)?Aa:Cr.current;return D=lo(t,D),ao(t,T),n=kf(e,t,n,l,D,T),l=Ff(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~T,Li(e,t,T)):(Xn&&l&&wf(t),t.flags|=1,Pr(e,t,n,T),t.child)}function up(e,t,n,l,T){if(Br(n)){var D=!0;Nl(t)}else D=!1;if(ao(t,T),t.stateNode===null)pl(e,t),um(t,n,l),jc(t,n,l,T),l=!0;else if(e===null){var U=t.stateNode,Y=t.memoizedProps;U.props=Y;var v=U.context,j=n.contextType;typeof j=="object"&&j!==null?j=oi(j):(j=Br(n)?Aa:Cr.current,j=lo(t,j));var A=n.getDerivedStateFromProps,o=typeof A=="function"||typeof U.getSnapshotBeforeUpdate=="function";o||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==l||v!==j)&&rp(t,U,l,j),Yi=!1;var i=t.memoizedState;U.state=i,Pl(t,l,U,T),v=t.memoizedState,Y!==l||i!==v||Zr.current||Yi?(typeof A=="function"&&(Gc(t,n,A,l),v=t.memoizedState),(Y=Yi||np(t,n,Y,l,i,v,j))?(o||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(t.flags|=4194308)):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=v),U.props=l,U.state=v,U.context=j,l=Y):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{U=t.stateNode,jh(e,t),Y=t.memoizedProps,j=t.type===t.elementType?Y:gi(t.type,Y),U.props=j,o=t.pendingProps,i=U.context,v=n.contextType,typeof v=="object"&&v!==null?v=oi(v):(v=Br(n)?Aa:Cr.current,v=lo(t,v));var E=n.getDerivedStateFromProps;(A=typeof E=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==o||i!==v)&&rp(t,U,l,v),Yi=!1,i=t.memoizedState,U.state=i,Pl(t,l,U,T);var _=t.memoizedState;Y!==o||i!==_||Zr.current||Yi?(typeof E=="function"&&(Gc(t,n,E,l),_=t.memoizedState),(j=Yi||np(t,n,j,l,i,_,v)||!1)?(A||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(l,_,v),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(l,_,v)),typeof U.componentDidUpdate=="function"&&(t.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===e.memoizedProps&&i===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&i===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=_),U.props=l,U.state=_,U.context=v,l=j):(typeof U.componentDidUpdate!="function"||Y===e.memoizedProps&&i===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&i===e.memoizedState||(t.flags|=1024),l=!1)}return Yc(e,t,n,l,D,T)}function Yc(e,t,n,l,T,D){pm(e,t);var U=(t.flags&128)!==0;if(!l&&!U)return T&&Kg(t,n,!1),Li(e,t,D);l=t.stateNode,O_.current=t;var Y=U&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&U?(t.child=co(t,e.child,null,D),t.child=co(t,null,Y,D)):Pr(e,t,Y,D),t.memoizedState=l.state,T&&Kg(t,n,!0),t.child}function hm(e){var t=e.stateNode;t.pendingContext?Vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vg(e,t.context,!1),Mf(e,t.containerInfo)}function cp(e,t,n,l,T){return uo(),If(T),t.flags|=256,Pr(e,t,n,l),t.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function Vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,t,n){var l=t.pendingProps,T=$n.current,D=!1,U=(t.flags&128)!==0,Y;if((Y=U)||(Y=e!==null&&e.memoizedState===null?!1:(T&2)!==0),Y?(D=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(T|=1),Hn($n,T&1),e===null)return Zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(U=l.children,e=l.fallback,D?(l=t.mode,D=t.child,U={mode:"hidden",children:U},!(l&1)&&D!==null?(D.childLanes=0,D.pendingProps=U):D=Jl(U,l,0,null),e=Sa(e,l,n,null),D.return=t,e.return=t,D.sibling=e,t.child=D,t.child.memoizedState=Vc(n),t.memoizedState=Hc,e):Bf(t,U));if(T=e.memoizedState,T!==null&&(Y=T.dehydrated,Y!==null))return M_(e,t,U,l,Y,T,n);if(D){D=l.fallback,U=t.mode,T=e.child,Y=T.sibling;var v={mode:"hidden",children:l.children};return!(U&1)&&t.child!==T?(l=t.child,l.childLanes=0,l.pendingProps=v,t.deletions=null):(l=ia(T,v),l.subtreeFlags=T.subtreeFlags&14680064),Y!==null?D=ia(Y,D):(D=Sa(D,U,n,null),D.flags|=2),D.return=t,l.return=t,l.sibling=D,t.child=l,l=D,D=t.child,U=e.child.memoizedState,U=U===null?Vc(n):{baseLanes:U.baseLanes|n,cachePool:null,transitions:U.transitions},D.memoizedState=U,D.childLanes=e.childLanes&~n,t.memoizedState=Hc,l}return D=e.child,e=D.sibling,l=ia(D,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Bf(e,t){return t=Jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tl(e,t,n,l){return l!==null&&If(l),co(t,e.child,null,n),e=Bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M_(e,t,n,l,T,D,U){if(n)return t.flags&256?(t.flags&=-257,l=oc(Error(en(422))),tl(e,t,U,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(D=l.fallback,T=t.mode,l=Jl({mode:"visible",children:l.children},T,0,null),D=Sa(D,T,U,null),D.flags|=2,l.return=t,D.return=t,l.sibling=D,t.child=l,t.mode&1&&co(t,e.child,null,U),t.child.memoizedState=Vc(U),t.memoizedState=Hc,D);if(!(t.mode&1))return tl(e,t,U,null);if(T.data==="$!"){if(l=T.nextSibling&&T.nextSibling.dataset,l)var Y=l.dgst;return l=Y,D=Error(en(419)),l=oc(D,l,void 0),tl(e,t,U,l)}if(Y=(U&e.childLanes)!==0,Ur||Y){if(l=yr,l!==null){switch(U&-U){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(l.suspendedLanes|U)?0:T,T!==0&&T!==D.retryLane&&(D.retryLane=T,Pi(e,T),yi(l,e,T,-1))}return Hf(),l=oc(Error(en(421))),tl(e,t,U,l)}return T.data==="$?"?(t.flags|=128,t.child=e.child,t=Y_.bind(null,e),T._reactRetry=t,null):(e=D.treeContext,Yr=ea(T.nextSibling),Hr=t,Xn=!0,hi=null,e!==null&&(ni[ri++]=Ni,ni[ri++]=Ci,ni[ri++]=wa,Ni=e.id,Ci=e.overflow,wa=t),t=Bf(t,l.children),t.flags|=4096,t)}function fp(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Bc(e.return,t,n)}function sc(e,t,n,l,T){var D=e.memoizedState;D===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:T}:(D.isBackwards=t,D.rendering=null,D.renderingStartTime=0,D.last=l,D.tail=n,D.tailMode=T)}function ym(e,t,n){var l=t.pendingProps,T=l.revealOrder,D=l.tail;if(Pr(e,t,l.children,n),l=$n.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,n,t);else if(e.tag===19)fp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Hn($n,l),!(t.mode&1))t.memoizedState=null;else switch(T){case"forwards":for(n=t.child,T=null;n!==null;)e=n.alternate,e!==null&&Ll(e)===null&&(T=n),n=n.sibling;n=T,n===null?(T=t.child,t.child=null):(T=n.sibling,n.sibling=null),sc(t,!1,T,n,D);break;case"backwards":for(n=null,T=t.child,t.child=null;T!==null;){if(e=T.alternate,e!==null&&Ll(e)===null){t.child=T;break}e=T.sibling,T.sibling=n,n=T,T=e}sc(t,!0,n,null,D);break;case"together":sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(en(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P_(e,t,n){switch(t.tag){case 3:hm(t),uo();break;case 5:zh(t);break;case 1:Br(t.type)&&Nl(t);break;case 4:Mf(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,T=t.memoizedProps.value;Hn(Ol,l._currentValue),l._currentValue=T;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Hn($n,$n.current&1),t.flags|=128,null):n&t.child.childLanes?mm(e,t,n):(Hn($n,$n.current&1),e=Li(e,t,n),e!==null?e.sibling:null);Hn($n,$n.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return ym(e,t,n);t.flags|=128}if(T=t.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Hn($n,$n.current),l)break;return null;case 22:case 23:return t.lanes=0,gm(e,t,n)}return Li(e,t,n)}var vm,Kc,Em,_m;vm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kc=function(){};Em=function(e,t,n,l){var T=e.memoizedProps;if(T!==l){e=t.stateNode,_a(Ai.current);var D=null;switch(n){case"input":T=mc(e,T),l=mc(e,l),D=[];break;case"select":T=er({},T,{value:void 0}),l=er({},l,{value:void 0}),D=[];break;case"textarea":T=Ec(e,T),l=Ec(e,l),D=[];break;default:typeof T.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Il)}Tc(n,l);var U;n=null;for(j in T)if(!l.hasOwnProperty(j)&&T.hasOwnProperty(j)&&T[j]!=null)if(j==="style"){var Y=T[j];for(U in Y)Y.hasOwnProperty(U)&&(n||(n={}),n[U]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(Yo.hasOwnProperty(j)?D||(D=[]):(D=D||[]).push(j,null));for(j in l){var v=l[j];if(Y=T!=null?T[j]:void 0,l.hasOwnProperty(j)&&v!==Y&&(v!=null||Y!=null))if(j==="style")if(Y){for(U in Y)!Y.hasOwnProperty(U)||v&&v.hasOwnProperty(U)||(n||(n={}),n[U]="");for(U in v)v.hasOwnProperty(U)&&Y[U]!==v[U]&&(n||(n={}),n[U]=v[U])}else n||(D||(D=[]),D.push(j,n)),n=v;else j==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,Y=Y?Y.__html:void 0,v!=null&&Y!==v&&(D=D||[]).push(j,v)):j==="children"?typeof v!="string"&&typeof v!="number"||(D=D||[]).push(j,""+v):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(j)?(v!=null&&j==="onScroll"&&Wn("scroll",e),D||Y===v||(D=[])):(D=D||[]).push(j,v))}n&&(D=D||[]).push("style",n);var j=D;(t.updateQueue=j)&&(t.flags|=4)}};_m=function(e,t,n,l){n!==l&&(t.flags|=4)};function Do(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var T=e.child;T!==null;)n|=T.lanes|T.childLanes,l|=T.subtreeFlags&14680064,l|=T.flags&14680064,T.return=e,T=T.sibling;else for(T=e.child;T!==null;)n|=T.lanes|T.childLanes,l|=T.subtreeFlags,l|=T.flags,T.return=e,T=T.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function L_(e,t,n){var l=t.pendingProps;switch(bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(t),null;case 1:return Br(t.type)&&Rl(),Rr(t),null;case 3:return l=t.stateNode,fo(),Qn(Zr),Qn(Cr),Lf(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hi!==null&&(nf(hi),hi=null))),Kc(e,t),Rr(t),null;case 5:Pf(t);var T=_a(rs.current);if(n=t.type,e!==null&&t.stateNode!=null)Em(e,t,n,l,T),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(en(166));return Rr(t),null}if(e=_a(Ai.current),Js(t)){l=t.stateNode,n=t.type;var D=t.memoizedProps;switch(l[Ti]=t,l[ts]=D,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",l),Wn("close",l);break;case"iframe":case"object":case"embed":Wn("load",l);break;case"video":case"audio":for(T=0;T<xo.length;T++)Wn(xo[T],l);break;case"source":Wn("error",l);break;case"img":case"image":case"link":Wn("error",l),Wn("load",l);break;case"details":Wn("toggle",l);break;case"input":_g(l,D),Wn("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!D.multiple},Wn("invalid",l);break;case"textarea":Sg(l,D),Wn("invalid",l)}Tc(n,D),T=null;for(var U in D)if(D.hasOwnProperty(U)){var Y=D[U];U==="children"?typeof Y=="string"?l.textContent!==Y&&(D.suppressHydrationWarning!==!0&&$s(l.textContent,Y,e),T=["children",Y]):typeof Y=="number"&&l.textContent!==""+Y&&(D.suppressHydrationWarning!==!0&&$s(l.textContent,Y,e),T=["children",""+Y]):Yo.hasOwnProperty(U)&&Y!=null&&U==="onScroll"&&Wn("scroll",l)}switch(n){case"input":qs(l),Tg(l,D,!0);break;case"textarea":qs(l),Ag(l);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(l.onclick=Il)}l=T,t.updateQueue=l,l!==null&&(t.flags|=4)}else{U=T.nodeType===9?T:T.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=U.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=U.createElement(n,{is:l.is}):(e=U.createElement(n),n==="select"&&(U=e,l.multiple?U.multiple=!0:l.size&&(U.size=l.size))):e=U.createElementNS(e,n),e[Ti]=t,e[ts]=l,vm(e,t,!1,!1),t.stateNode=e;e:{switch(U=Sc(n,l),n){case"dialog":Wn("cancel",e),Wn("close",e),T=l;break;case"iframe":case"object":case"embed":Wn("load",e),T=l;break;case"video":case"audio":for(T=0;T<xo.length;T++)Wn(xo[T],e);T=l;break;case"source":Wn("error",e),T=l;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),T=l;break;case"details":Wn("toggle",e),T=l;break;case"input":_g(e,l),T=mc(e,l),Wn("invalid",e);break;case"option":T=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},T=er({},l,{value:void 0}),Wn("invalid",e);break;case"textarea":Sg(e,l),T=Ec(e,l),Wn("invalid",e);break;default:T=l}Tc(n,T),Y=T;for(D in Y)if(Y.hasOwnProperty(D)){var v=Y[D];D==="style"?Xp(e,v):D==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Wp(e,v)):D==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&Ho(e,v):typeof v=="number"&&Ho(e,""+v):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(Yo.hasOwnProperty(D)?v!=null&&D==="onScroll"&&Wn("scroll",e):v!=null&&cf(e,D,v,U))}switch(n){case"input":qs(e),Tg(e,l,!1);break;case"textarea":qs(e),Ag(e);break;case"option":l.value!=null&&e.setAttribute("value",""+aa(l.value));break;case"select":e.multiple=!!l.multiple,D=l.value,D!=null?to(e,!!l.multiple,D,!1):l.defaultValue!=null&&to(e,!!l.multiple,l.defaultValue,!0);break;default:typeof T.onClick=="function"&&(e.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rr(t),null;case 6:if(e&&t.stateNode!=null)_m(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(en(166));if(n=_a(rs.current),_a(Ai.current),Js(t)){if(l=t.stateNode,n=t.memoizedProps,l[Ti]=t,(D=l.nodeValue!==n)&&(e=Hr,e!==null))switch(e.tag){case 3:$s(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(l.nodeValue,n,(e.mode&1)!==0)}D&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Ti]=t,t.stateNode=l}return Rr(t),null;case 13:if(Qn($n),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&Yr!==null&&t.mode&1&&!(t.flags&128))Uh(),uo(),t.flags|=98560,D=!1;else if(D=Js(t),l!==null&&l.dehydrated!==null){if(e===null){if(!D)throw Error(en(318));if(D=t.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(en(317));D[Ti]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rr(t),D=!1}else hi!==null&&(nf(hi),hi=null),D=!0;if(!D)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||$n.current&1?dr===0&&(dr=3):Hf())),t.updateQueue!==null&&(t.flags|=4),Rr(t),null);case 4:return fo(),Kc(e,t),e===null&&Jo(t.stateNode.containerInfo),Rr(t),null;case 10:return Cf(t.type._context),Rr(t),null;case 17:return Br(t.type)&&Rl(),Rr(t),null;case 19:if(Qn($n),D=t.memoizedState,D===null)return Rr(t),null;if(l=(t.flags&128)!==0,U=D.rendering,U===null)if(l)Do(D,!1);else{if(dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(U=Ll(e),U!==null){for(t.flags|=128,Do(D,!1),l=U.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)D=n,e=l,D.flags&=14680066,U=D.alternate,U===null?(D.childLanes=0,D.lanes=e,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=U.childLanes,D.lanes=U.lanes,D.child=U.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=U.memoizedProps,D.memoizedState=U.memoizedState,D.updateQueue=U.updateQueue,D.type=U.type,e=U.dependencies,D.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn($n,$n.current&1|2),t.child}e=e.sibling}D.tail!==null&&sr()>po&&(t.flags|=128,l=!0,Do(D,!1),t.lanes=4194304)}else{if(!l)if(e=Ll(U),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Do(D,!0),D.tail===null&&D.tailMode==="hidden"&&!U.alternate&&!Xn)return Rr(t),null}else 2*sr()-D.renderingStartTime>po&&n!==1073741824&&(t.flags|=128,l=!0,Do(D,!1),t.lanes=4194304);D.isBackwards?(U.sibling=t.child,t.child=U):(n=D.last,n!==null?n.sibling=U:t.child=U,D.last=U)}return D.tail!==null?(t=D.tail,D.rendering=t,D.tail=t.sibling,D.renderingStartTime=sr(),t.sibling=null,n=$n.current,Hn($n,l?n&1|2:n&1),t):(Rr(t),null);case 22:case 23:return Yf(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?qr&1073741824&&(Rr(t),t.subtreeFlags&6&&(t.flags|=8192)):Rr(t),null;case 24:return null;case 25:return null}throw Error(en(156,t.tag))}function x_(e,t){switch(bf(t),t.tag){case 1:return Br(t.type)&&Rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),Qn(Zr),Qn(Cr),Lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pf(t),null;case 13:if(Qn($n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(en(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn($n),null;case 4:return fo(),null;case 10:return Cf(t.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var nl=!1,Nr=!1,k_=typeof WeakSet=="function"?WeakSet:Set,cn=null;function Ja(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){ir(e,t,l)}else n.current=null}function Wc(e,t,n){try{n()}catch(l){ir(e,t,l)}}var dp=!1;function F_(e,t){if(Mc=Al,e=bh(),Af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var T=l.anchorOffset,D=l.focusNode;l=l.focusOffset;try{n.nodeType,D.nodeType}catch{n=null;break e}var U=0,Y=-1,v=-1,j=0,A=0,o=e,i=null;t:for(;;){for(var E;o!==n||T!==0&&o.nodeType!==3||(Y=U+T),o!==D||l!==0&&o.nodeType!==3||(v=U+l),o.nodeType===3&&(U+=o.nodeValue.length),(E=o.firstChild)!==null;)i=o,o=E;for(;;){if(o===e)break t;if(i===n&&++j===T&&(Y=U),i===D&&++A===l&&(v=U),(E=o.nextSibling)!==null)break;o=i,i=o.parentNode}o=E}n=Y===-1||v===-1?null:{start:Y,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pc={focusedElem:e,selectionRange:n},Al=!1,cn=t;cn!==null;)if(t=cn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,cn=e;else for(;cn!==null;){t=cn;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var f=_.memoizedProps,R=_.memoizedState,m=t.stateNode,r=m.getSnapshotBeforeUpdate(t.elementType===t.type?f:gi(t.type,f),R);m.__reactInternalSnapshotBeforeUpdate=r}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(en(163))}}catch(d){ir(t,t.return,d)}if(e=t.sibling,e!==null){e.return=t.return,cn=e;break}cn=t.return}return _=dp,dp=!1,_}function jo(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var T=l=l.next;do{if((T.tag&e)===e){var D=T.destroy;T.destroy=void 0,D!==void 0&&Wc(t,n,D)}T=T.next}while(T!==l)}}function Xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Qc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tm(e){var t=e.alternate;t!==null&&(e.alternate=null,Tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[ts],delete t[kc],delete t[E_],delete t[__])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Il));else if(l!==4&&(e=e.child,e!==null))for(Xc(e,t,n),e=e.sibling;e!==null;)Xc(e,t,n),e=e.sibling}function $c(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}var _r=null,pi=!1;function ji(e,t,n){for(n=n.child;n!==null;)Am(e,t,n),n=n.sibling}function Am(e,t,n){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:Nr||Ja(n,t);case 6:var l=_r,T=pi;_r=null,ji(e,t,n),_r=l,pi=T,_r!==null&&(pi?(e=_r,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_r.removeChild(n.stateNode));break;case 18:_r!==null&&(pi?(e=_r,n=n.stateNode,e.nodeType===8?ec(e.parentNode,n):e.nodeType===1&&ec(e,n),Qo(e)):ec(_r,n.stateNode));break;case 4:l=_r,T=pi,_r=n.stateNode.containerInfo,pi=!0,ji(e,t,n),_r=l,pi=T;break;case 0:case 11:case 14:case 15:if(!Nr&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){T=l=l.next;do{var D=T,U=D.destroy;D=D.tag,U!==void 0&&(D&2||D&4)&&Wc(n,t,U),T=T.next}while(T!==l)}ji(e,t,n);break;case 1:if(!Nr&&(Ja(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(Y){ir(n,t,Y)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(Nr=(l=Nr)||n.memoizedState!==null,ji(e,t,n),Nr=l):ji(e,t,n);break;default:ji(e,t,n)}}function pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k_),t.forEach(function(l){var T=H_.bind(null,e,l);n.has(l)||(n.add(l),l.then(T,T))})}}function di(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var T=n[l];try{var D=e,U=t,Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:_r=Y.stateNode,pi=!1;break e;case 3:_r=Y.stateNode.containerInfo,pi=!0;break e;case 4:_r=Y.stateNode.containerInfo,pi=!0;break e}Y=Y.return}if(_r===null)throw Error(en(160));Am(D,U,T),_r=null,pi=!1;var v=T.alternate;v!==null&&(v.return=null),T.return=null}catch(j){ir(T,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wm(t,e),t=t.sibling}function wm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(di(t,e),Ei(e),l&4){try{jo(3,e,e.return),Xl(3,e)}catch(f){ir(e,e.return,f)}try{jo(5,e,e.return)}catch(f){ir(e,e.return,f)}}break;case 1:di(t,e),Ei(e),l&512&&n!==null&&Ja(n,n.return);break;case 5:if(di(t,e),Ei(e),l&512&&n!==null&&Ja(n,n.return),e.flags&32){var T=e.stateNode;try{Ho(T,"")}catch(f){ir(e,e.return,f)}}if(l&4&&(T=e.stateNode,T!=null)){var D=e.memoizedProps,U=n!==null?n.memoizedProps:D,Y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{Y==="input"&&D.type==="radio"&&D.name!=null&&Hp(T,D),Sc(Y,U);var j=Sc(Y,D);for(U=0;U<v.length;U+=2){var A=v[U],o=v[U+1];A==="style"?Xp(T,o):A==="dangerouslySetInnerHTML"?Wp(T,o):A==="children"?Ho(T,o):cf(T,A,o,j)}switch(Y){case"input":yc(T,D);break;case"textarea":Vp(T,D);break;case"select":var i=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!D.multiple;var E=D.value;E!=null?to(T,!!D.multiple,E,!1):i!==!!D.multiple&&(D.defaultValue!=null?to(T,!!D.multiple,D.defaultValue,!0):to(T,!!D.multiple,D.multiple?[]:"",!1))}T[ts]=D}catch(f){ir(e,e.return,f)}}break;case 6:if(di(t,e),Ei(e),l&4){if(e.stateNode===null)throw Error(en(162));T=e.stateNode,D=e.memoizedProps;try{T.nodeValue=D}catch(f){ir(e,e.return,f)}}break;case 3:if(di(t,e),Ei(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(f){ir(e,e.return,f)}break;case 4:di(t,e),Ei(e);break;case 13:di(t,e),Ei(e),T=e.child,T.flags&8192&&(D=T.memoizedState!==null,T.stateNode.isHidden=D,!D||T.alternate!==null&&T.alternate.memoizedState!==null||(zf=sr())),l&4&&pp(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(Nr=(j=Nr)||A,di(t,e),Nr=j):di(t,e),Ei(e),l&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!A&&e.mode&1)for(cn=e,A=e.child;A!==null;){for(o=cn=A;cn!==null;){switch(i=cn,E=i.child,i.tag){case 0:case 11:case 14:case 15:jo(4,i,i.return);break;case 1:Ja(i,i.return);var _=i.stateNode;if(typeof _.componentWillUnmount=="function"){l=i,n=i.return;try{t=l,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(f){ir(l,n,f)}}break;case 5:Ja(i,i.return);break;case 22:if(i.memoizedState!==null){mp(o);continue}}E!==null?(E.return=i,cn=E):mp(o)}A=A.sibling}e:for(A=null,o=e;;){if(o.tag===5){if(A===null){A=o;try{T=o.stateNode,j?(D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Y=o.stateNode,v=o.memoizedProps.style,U=v!=null&&v.hasOwnProperty("display")?v.display:null,Y.style.display=Qp("display",U))}catch(f){ir(e,e.return,f)}}}else if(o.tag===6){if(A===null)try{o.stateNode.nodeValue=j?"":o.memoizedProps}catch(f){ir(e,e.return,f)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===e)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;A===o&&(A=null),o=o.return}A===o&&(A=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:di(t,e),Ei(e),l&4&&pp(e);break;case 21:break;default:di(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var l=n;break e}n=n.return}throw Error(en(160))}switch(l.tag){case 5:var T=l.stateNode;l.flags&32&&(Ho(T,""),l.flags&=-33);var D=gp(e);$c(e,D,T);break;case 3:case 4:var U=l.stateNode.containerInfo,Y=gp(e);Xc(e,Y,U);break;default:throw Error(en(161))}}catch(v){ir(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U_(e,t,n){cn=e,bm(e)}function bm(e,t,n){for(var l=(e.mode&1)!==0;cn!==null;){var T=cn,D=T.child;if(T.tag===22&&l){var U=T.memoizedState!==null||nl;if(!U){var Y=T.alternate,v=Y!==null&&Y.memoizedState!==null||Nr;Y=nl;var j=Nr;if(nl=U,(Nr=v)&&!j)for(cn=T;cn!==null;)U=cn,v=U.child,U.tag===22&&U.memoizedState!==null?yp(T):v!==null?(v.return=U,cn=v):yp(T);for(;D!==null;)cn=D,bm(D),D=D.sibling;cn=T,nl=Y,Nr=j}hp(e)}else T.subtreeFlags&8772&&D!==null?(D.return=T,cn=D):hp(e)}}function hp(e){for(;cn!==null;){var t=cn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nr||Xl(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Nr)if(n===null)l.componentDidMount();else{var T=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);l.componentDidUpdate(T,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var D=t.updateQueue;D!==null&&Jg(t,D,l);break;case 3:var U=t.updateQueue;if(U!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jg(t,U,n)}break;case 5:var Y=t.stateNode;if(n===null&&t.flags&4){n=Y;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var j=t.alternate;if(j!==null){var A=j.memoizedState;if(A!==null){var o=A.dehydrated;o!==null&&Qo(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(en(163))}Nr||t.flags&512&&Qc(t)}catch(i){ir(t,t.return,i)}}if(t===e){cn=null;break}if(n=t.sibling,n!==null){n.return=t.return,cn=n;break}cn=t.return}}function mp(e){for(;cn!==null;){var t=cn;if(t===e){cn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,cn=n;break}cn=t.return}}function yp(e){for(;cn!==null;){var t=cn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xl(4,t)}catch(v){ir(t,n,v)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var T=t.return;try{l.componentDidMount()}catch(v){ir(t,T,v)}}var D=t.return;try{Qc(t)}catch(v){ir(t,D,v)}break;case 5:var U=t.return;try{Qc(t)}catch(v){ir(t,U,v)}}}catch(v){ir(t,t.return,v)}if(t===e){cn=null;break}var Y=t.sibling;if(Y!==null){Y.return=t.return,cn=Y;break}cn=t.return}}var Z_=Math.ceil,Fl=xi.ReactCurrentDispatcher,Gf=xi.ReactCurrentOwner,ai=xi.ReactCurrentBatchConfig,On=0,yr=null,ur=null,Tr=0,qr=0,eo=la(0),dr=0,ss=null,Ia=0,$l=0,jf=0,zo=null,Fr=null,zf=0,po=1/0,Ii=null,Ul=!1,Jc=null,na=null,rl=!1,Wi=null,Zl=0,qo=0,ef=null,hl=-1,ml=0;function Lr(){return On&6?sr():hl!==-1?hl:hl=sr()}function ra(e){return e.mode&1?On&2&&Tr!==0?Tr&-Tr:S_.transition!==null?(ml===0&&(ml=uh()),ml):(e=Gn,e!==0||(e=window.event,e=e===void 0?16:mh(e.type)),e):1}function yi(e,t,n,l){if(50<qo)throw qo=0,ef=null,Error(en(185));us(e,n,l),(!(On&2)||e!==yr)&&(e===yr&&(!(On&2)&&($l|=n),dr===4&&Vi(e,Tr)),Gr(e,l),n===1&&On===0&&!(t.mode&1)&&(po=sr()+500,Kl&&ua()))}function Gr(e,t){var n=e.callbackNode;SE(e,t);var l=Sl(e,e===yr?Tr:0);if(l===0)n!==null&&Ig(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&Ig(n),t===1)e.tag===0?T_(vp.bind(null,e)):xh(vp.bind(null,e)),y_(function(){!(On&6)&&ua()}),n=null;else{switch(ch(l)){case 1:n=hf;break;case 4:n=sh;break;case 16:n=Tl;break;case 536870912:n=lh;break;default:n=Tl}n=Pm(n,Im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Im(e,t){if(hl=-1,ml=0,On&6)throw Error(en(327));var n=e.callbackNode;if(oo()&&e.callbackNode!==n)return null;var l=Sl(e,e===yr?Tr:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Bl(e,l);else{t=l;var T=On;On|=2;var D=Nm();(yr!==e||Tr!==t)&&(Ii=null,po=sr()+500,Ta(e,t));do try{j_();break}catch(Y){Rm(e,Y)}while(!0);Nf(),Fl.current=D,On=T,ur!==null?t=0:(yr=null,Tr=0,t=dr)}if(t!==0){if(t===2&&(T=Rc(e),T!==0&&(l=T,t=tf(e,T))),t===1)throw n=ss,Ta(e,0),Vi(e,l),Gr(e,sr()),n;if(t===6)Vi(e,l);else{if(T=e.current.alternate,!(l&30)&&!B_(T)&&(t=Bl(e,l),t===2&&(D=Rc(e),D!==0&&(l=D,t=tf(e,D))),t===1))throw n=ss,Ta(e,0),Vi(e,l),Gr(e,sr()),n;switch(e.finishedWork=T,e.finishedLanes=l,t){case 0:case 1:throw Error(en(345));case 2:ya(e,Fr,Ii);break;case 3:if(Vi(e,l),(l&130023424)===l&&(t=zf+500-sr(),10<t)){if(Sl(e,0)!==0)break;if(T=e.suspendedLanes,(T&l)!==l){Lr(),e.pingedLanes|=e.suspendedLanes&T;break}e.timeoutHandle=xc(ya.bind(null,e,Fr,Ii),t);break}ya(e,Fr,Ii);break;case 4:if(Vi(e,l),(l&4194240)===l)break;for(t=e.eventTimes,T=-1;0<l;){var U=31-mi(l);D=1<<U,U=t[U],U>T&&(T=U),l&=~D}if(l=T,l=sr()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Z_(l/1960))-l,10<l){e.timeoutHandle=xc(ya.bind(null,e,Fr,Ii),l);break}ya(e,Fr,Ii);break;case 5:ya(e,Fr,Ii);break;default:throw Error(en(329))}}}return Gr(e,sr()),e.callbackNode===n?Im.bind(null,e):null}function tf(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(Ta(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=Fr,Fr=n,t!==null&&nf(t)),e}function nf(e){Fr===null?Fr=e:Fr.push.apply(Fr,e)}function B_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var T=n[l],D=T.getSnapshot;T=T.value;try{if(!vi(D(),T))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t){for(t&=~jf,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mi(t),l=1<<n;e[n]=-1,t&=~l}}function vp(e){if(On&6)throw Error(en(327));oo();var t=Sl(e,0);if(!(t&1))return Gr(e,sr()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var l=Rc(e);l!==0&&(t=l,n=tf(e,l))}if(n===1)throw n=ss,Ta(e,0),Vi(e,t),Gr(e,sr()),n;if(n===6)throw Error(en(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,Fr,Ii),Gr(e,sr()),null}function qf(e,t){var n=On;On|=1;try{return e(t)}finally{On=n,On===0&&(po=sr()+500,Kl&&ua())}}function Ra(e){Wi!==null&&Wi.tag===0&&!(On&6)&&oo();var t=On;On|=1;var n=ai.transition,l=Gn;try{if(ai.transition=null,Gn=1,e)return e()}finally{Gn=l,ai.transition=n,On=t,!(On&6)&&ua()}}function Yf(){qr=eo.current,Qn(eo)}function Ta(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,m_(n)),ur!==null)for(n=ur.return;n!==null;){var l=n;switch(bf(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Rl();break;case 3:fo(),Qn(Zr),Qn(Cr),Lf();break;case 5:Pf(l);break;case 4:fo();break;case 13:Qn($n);break;case 19:Qn($n);break;case 10:Cf(l.type._context);break;case 22:case 23:Yf()}n=n.return}if(yr=e,ur=e=ia(e.current,null),Tr=qr=t,dr=0,ss=null,jf=$l=Ia=0,Fr=zo=null,Ea!==null){for(t=0;t<Ea.length;t++)if(n=Ea[t],l=n.interleaved,l!==null){n.interleaved=null;var T=l.next,D=n.pending;if(D!==null){var U=D.next;D.next=T,l.next=U}n.pending=l}Ea=null}return e}function Rm(e,t){do{var n=ur;try{if(Nf(),dl.current=kl,xl){for(var l=Jn.memoizedState;l!==null;){var T=l.queue;T!==null&&(T.pending=null),l=l.next}xl=!1}if(ba=0,mr=fr=Jn=null,Go=!1,is=0,Gf.current=null,n===null||n.return===null){dr=1,ss=t,ur=null;break}e:{var D=e,U=n.return,Y=n,v=t;if(t=Tr,Y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var j=v,A=Y,o=A.tag;if(!(A.mode&1)&&(o===0||o===11||o===15)){var i=A.alternate;i?(A.updateQueue=i.updateQueue,A.memoizedState=i.memoizedState,A.lanes=i.lanes):(A.updateQueue=null,A.memoizedState=null)}var E=ap(U);if(E!==null){E.flags&=-257,op(E,U,Y,D,t),E.mode&1&&ip(D,j,t),t=E,v=j;var _=t.updateQueue;if(_===null){var f=new Set;f.add(v),t.updateQueue=f}else _.add(v);break e}else{if(!(t&1)){ip(D,j,t),Hf();break e}v=Error(en(426))}}else if(Xn&&Y.mode&1){var R=ap(U);if(R!==null){!(R.flags&65536)&&(R.flags|=256),op(R,U,Y,D,t),If(go(v,Y));break e}}D=v=go(v,Y),dr!==4&&(dr=2),zo===null?zo=[D]:zo.push(D),D=U;do{switch(D.tag){case 3:D.flags|=65536,t&=-t,D.lanes|=t;var m=cm(D,v,t);$g(D,m);break e;case 1:Y=v;var r=D.type,u=D.stateNode;if(!(D.flags&128)&&(typeof r.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(na===null||!na.has(u)))){D.flags|=65536,t&=-t,D.lanes|=t;var d=fm(D,Y,t);$g(D,d);break e}}D=D.return}while(D!==null)}Dm(n)}catch(I){t=I,ur===n&&n!==null&&(ur=n=n.return);continue}break}while(!0)}function Nm(){var e=Fl.current;return Fl.current=kl,e===null?kl:e}function Hf(){(dr===0||dr===3||dr===2)&&(dr=4),yr===null||!(Ia&268435455)&&!($l&268435455)||Vi(yr,Tr)}function Bl(e,t){var n=On;On|=2;var l=Nm();(yr!==e||Tr!==t)&&(Ii=null,Ta(e,t));do try{G_();break}catch(T){Rm(e,T)}while(!0);if(Nf(),On=n,Fl.current=l,ur!==null)throw Error(en(261));return yr=null,Tr=0,dr}function G_(){for(;ur!==null;)Cm(ur)}function j_(){for(;ur!==null&&!gE();)Cm(ur)}function Cm(e){var t=Mm(e.alternate,e,qr);e.memoizedProps=e.pendingProps,t===null?Dm(e):ur=t,Gf.current=null}function Dm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x_(n,t),n!==null){n.flags&=32767,ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dr=6,ur=null;return}}else if(n=L_(n,t,qr),n!==null){ur=n;return}if(t=t.sibling,t!==null){ur=t;return}ur=t=e}while(t!==null);dr===0&&(dr=5)}function ya(e,t,n){var l=Gn,T=ai.transition;try{ai.transition=null,Gn=1,z_(e,t,n,l)}finally{ai.transition=T,Gn=l}return null}function z_(e,t,n,l){do oo();while(Wi!==null);if(On&6)throw Error(en(327));n=e.finishedWork;var T=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(en(177));e.callbackNode=null,e.callbackPriority=0;var D=n.lanes|n.childLanes;if(AE(e,D),e===yr&&(ur=yr=null,Tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rl||(rl=!0,Pm(Tl,function(){return oo(),null})),D=(n.flags&15990)!==0,n.subtreeFlags&15990||D){D=ai.transition,ai.transition=null;var U=Gn;Gn=1;var Y=On;On|=4,Gf.current=null,F_(e,n),wm(n,e),u_(Pc),Al=!!Mc,Pc=Mc=null,e.current=n,U_(n),pE(),On=Y,Gn=U,ai.transition=D}else e.current=n;if(rl&&(rl=!1,Wi=e,Zl=T),D=e.pendingLanes,D===0&&(na=null),yE(n.stateNode),Gr(e,sr()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)T=t[n],l(T.value,{componentStack:T.stack,digest:T.digest});if(Ul)throw Ul=!1,e=Jc,Jc=null,e;return Zl&1&&e.tag!==0&&oo(),D=e.pendingLanes,D&1?e===ef?qo++:(qo=0,ef=e):qo=0,ua(),null}function oo(){if(Wi!==null){var e=ch(Zl),t=ai.transition,n=Gn;try{if(ai.transition=null,Gn=16>e?16:e,Wi===null)var l=!1;else{if(e=Wi,Wi=null,Zl=0,On&6)throw Error(en(331));var T=On;for(On|=4,cn=e.current;cn!==null;){var D=cn,U=D.child;if(cn.flags&16){var Y=D.deletions;if(Y!==null){for(var v=0;v<Y.length;v++){var j=Y[v];for(cn=j;cn!==null;){var A=cn;switch(A.tag){case 0:case 11:case 15:jo(8,A,D)}var o=A.child;if(o!==null)o.return=A,cn=o;else for(;cn!==null;){A=cn;var i=A.sibling,E=A.return;if(Tm(A),A===j){cn=null;break}if(i!==null){i.return=E,cn=i;break}cn=E}}}var _=D.alternate;if(_!==null){var f=_.child;if(f!==null){_.child=null;do{var R=f.sibling;f.sibling=null,f=R}while(f!==null)}}cn=D}}if(D.subtreeFlags&2064&&U!==null)U.return=D,cn=U;else e:for(;cn!==null;){if(D=cn,D.flags&2048)switch(D.tag){case 0:case 11:case 15:jo(9,D,D.return)}var m=D.sibling;if(m!==null){m.return=D.return,cn=m;break e}cn=D.return}}var r=e.current;for(cn=r;cn!==null;){U=cn;var u=U.child;if(U.subtreeFlags&2064&&u!==null)u.return=U,cn=u;else e:for(U=r;cn!==null;){if(Y=cn,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:Xl(9,Y)}}catch(I){ir(Y,Y.return,I)}if(Y===U){cn=null;break e}var d=Y.sibling;if(d!==null){d.return=Y.return,cn=d;break e}cn=Y.return}}if(On=T,ua(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(zl,e)}catch{}l=!0}return l}finally{Gn=n,ai.transition=t}}return!1}function Ep(e,t,n){t=go(n,t),t=cm(e,t,1),e=ta(e,t,1),t=Lr(),e!==null&&(us(e,1,t),Gr(e,t))}function ir(e,t,n){if(e.tag===3)Ep(e,e,n);else for(;t!==null;){if(t.tag===3){Ep(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){e=go(n,e),e=fm(t,e,1),t=ta(t,e,1),e=Lr(),t!==null&&(us(t,1,e),Gr(t,e));break}}t=t.return}}function q_(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&n,yr===e&&(Tr&n)===n&&(dr===4||dr===3&&(Tr&130023424)===Tr&&500>sr()-zf?Ta(e,0):jf|=n),Gr(e,t)}function Om(e,t){t===0&&(e.mode&1?(t=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):t=1);var n=Lr();e=Pi(e,t),e!==null&&(us(e,t,n),Gr(e,n))}function Y_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Om(e,n)}function H_(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,T=e.memoizedState;T!==null&&(n=T.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(en(314))}l!==null&&l.delete(t),Om(e,n)}var Mm;Mm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zr.current)Ur=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ur=!1,P_(e,t,n);Ur=!!(e.flags&131072)}else Ur=!1,Xn&&t.flags&1048576&&kh(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;pl(e,t),e=t.pendingProps;var T=lo(t,Cr.current);ao(t,n),T=kf(null,t,l,e,T,n);var D=Ff();return t.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(l)?(D=!0,Nl(t)):D=!1,t.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Of(t),T.updater=Ql,t.stateNode=T,T._reactInternals=t,jc(t,l,e,n),t=Yc(null,t,l,!0,D,n)):(t.tag=0,Xn&&D&&wf(t),Pr(null,t,T,n),t=t.child),t;case 16:l=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,T=l._init,l=T(l._payload),t.type=l,T=t.tag=K_(l),e=gi(l,e),T){case 0:t=qc(null,t,l,e,n);break e;case 1:t=up(null,t,l,e,n);break e;case 11:t=sp(null,t,l,e,n);break e;case 14:t=lp(null,t,l,gi(l.type,e),n);break e}throw Error(en(306,l,""))}return t;case 0:return l=t.type,T=t.pendingProps,T=t.elementType===l?T:gi(l,T),qc(e,t,l,T,n);case 1:return l=t.type,T=t.pendingProps,T=t.elementType===l?T:gi(l,T),up(e,t,l,T,n);case 3:e:{if(hm(t),e===null)throw Error(en(387));l=t.pendingProps,D=t.memoizedState,T=D.element,jh(e,t),Pl(t,l,null,n);var U=t.memoizedState;if(l=U.element,D.isDehydrated)if(D={element:l,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},t.updateQueue.baseState=D,t.memoizedState=D,t.flags&256){T=go(Error(en(423)),t),t=cp(e,t,l,n,T);break e}else if(l!==T){T=go(Error(en(424)),t),t=cp(e,t,l,n,T);break e}else for(Yr=ea(t.stateNode.containerInfo.firstChild),Hr=t,Xn=!0,hi=null,n=Bh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),l===T){t=Li(e,t,n);break e}Pr(e,t,l,n)}t=t.child}return t;case 5:return zh(t),e===null&&Zc(t),l=t.type,T=t.pendingProps,D=e!==null?e.memoizedProps:null,U=T.children,Lc(l,T)?U=null:D!==null&&Lc(l,D)&&(t.flags|=32),pm(e,t),Pr(e,t,U,n),t.child;case 6:return e===null&&Zc(t),null;case 13:return mm(e,t,n);case 4:return Mf(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=co(t,null,l,n):Pr(e,t,l,n),t.child;case 11:return l=t.type,T=t.pendingProps,T=t.elementType===l?T:gi(l,T),sp(e,t,l,T,n);case 7:return Pr(e,t,t.pendingProps,n),t.child;case 8:return Pr(e,t,t.pendingProps.children,n),t.child;case 12:return Pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,T=t.pendingProps,D=t.memoizedProps,U=T.value,Hn(Ol,l._currentValue),l._currentValue=U,D!==null)if(vi(D.value,U)){if(D.children===T.children&&!Zr.current){t=Li(e,t,n);break e}}else for(D=t.child,D!==null&&(D.return=t);D!==null;){var Y=D.dependencies;if(Y!==null){U=D.child;for(var v=Y.firstContext;v!==null;){if(v.context===l){if(D.tag===1){v=Di(-1,n&-n),v.tag=2;var j=D.updateQueue;if(j!==null){j=j.shared;var A=j.pending;A===null?v.next=v:(v.next=A.next,A.next=v),j.pending=v}}D.lanes|=n,v=D.alternate,v!==null&&(v.lanes|=n),Bc(D.return,n,t),Y.lanes|=n;break}v=v.next}}else if(D.tag===10)U=D.type===t.type?null:D.child;else if(D.tag===18){if(U=D.return,U===null)throw Error(en(341));U.lanes|=n,Y=U.alternate,Y!==null&&(Y.lanes|=n),Bc(U,n,t),U=D.sibling}else U=D.child;if(U!==null)U.return=D;else for(U=D;U!==null;){if(U===t){U=null;break}if(D=U.sibling,D!==null){D.return=U.return,U=D;break}U=U.return}D=U}Pr(e,t,T.children,n),t=t.child}return t;case 9:return T=t.type,l=t.pendingProps.children,ao(t,n),T=oi(T),l=l(T),t.flags|=1,Pr(e,t,l,n),t.child;case 14:return l=t.type,T=gi(l,t.pendingProps),T=gi(l.type,T),lp(e,t,l,T,n);case 15:return dm(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,T=t.pendingProps,T=t.elementType===l?T:gi(l,T),pl(e,t),t.tag=1,Br(l)?(e=!0,Nl(t)):e=!1,ao(t,n),um(t,l,T),jc(t,l,T,n),Yc(null,t,l,!0,e,n);case 19:return ym(e,t,n);case 22:return gm(e,t,n)}throw Error(en(156,t.tag))};function Pm(e,t){return oh(e,t)}function V_(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,l){return new V_(e,t,n,l)}function Vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K_(e){if(typeof e=="function")return Vf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===df)return 11;if(e===gf)return 14}return 2}function ia(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yl(e,t,n,l,T,D){var U=2;if(l=e,typeof e=="function")Vf(e)&&(U=1);else if(typeof e=="string")U=5;else e:switch(e){case qa:return Sa(n.children,T,D,t);case ff:U=8,T|=8;break;case dc:return e=ii(12,n,t,T|2),e.elementType=dc,e.lanes=D,e;case gc:return e=ii(13,n,t,T),e.elementType=gc,e.lanes=D,e;case pc:return e=ii(19,n,t,T),e.elementType=pc,e.lanes=D,e;case zp:return Jl(n,T,D,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gp:U=10;break e;case jp:U=9;break e;case df:U=11;break e;case gf:U=14;break e;case qi:U=16,l=null;break e}throw Error(en(130,e==null?e:typeof e,""))}return t=ii(U,n,t,T),t.elementType=e,t.type=l,t.lanes=D,t}function Sa(e,t,n,l){return e=ii(7,e,l,t),e.lanes=n,e}function Jl(e,t,n,l){return e=ii(22,e,l,t),e.elementType=zp,e.lanes=n,e.stateNode={isHidden:!1},e}function lc(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function uc(e,t,n){return t=ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W_(e,t,n,l,T){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=l,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Kf(e,t,n,l,T,D,U,Y,v){return e=new W_(e,t,n,Y,v),t===1?(t=1,D===!0&&(t|=8)):t=0,D=ii(3,null,null,t),e.current=D,D.stateNode=e,D.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(D),e}function Q_(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return oa;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(en(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(en(171))}if(e.tag===1){var n=e.type;if(Br(n))return Lh(e,n,t)}return t}function xm(e,t,n,l,T,D,U,Y,v){return e=Kf(n,l,!0,e,T,D,U,Y,v),e.context=Lm(null),n=e.current,l=Lr(),T=ra(n),D=Di(l,T),D.callback=t??null,ta(n,D,T),e.current.lanes=T,us(e,T,l),Gr(e,l),e}function eu(e,t,n,l){var T=t.current,D=Lr(),U=ra(T);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=Di(D,U),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=ta(T,t,U),e!==null&&(yi(e,T,U,D),fl(e,T,U)),U}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function X_(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qf(e){this._internalRoot=e}tu.prototype.render=Qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(en(409));eu(e,t,null,null)};tu.prototype.unmount=Qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ra(function(){eu(null,e,null,null)}),t[Mi]=null}};function tu(e){this._internalRoot=e}tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=gh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hi.length&&t!==0&&t<Hi[n].priority;n++);Hi.splice(n,0,e),n===0&&hh(e)}};function Xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function $_(e,t,n,l,T){if(T){if(typeof l=="function"){var D=l;l=function(){var j=Gl(U);D.call(j)}}var U=xm(t,l,e,0,null,!1,!1,"",Tp);return e._reactRootContainer=U,e[Mi]=U.current,Jo(e.nodeType===8?e.parentNode:e),Ra(),U}for(;T=e.lastChild;)e.removeChild(T);if(typeof l=="function"){var Y=l;l=function(){var j=Gl(v);Y.call(j)}}var v=Kf(e,0,!1,null,null,!1,!1,"",Tp);return e._reactRootContainer=v,e[Mi]=v.current,Jo(e.nodeType===8?e.parentNode:e),Ra(function(){eu(t,v,n,l)}),v}function ru(e,t,n,l,T){var D=n._reactRootContainer;if(D){var U=D;if(typeof T=="function"){var Y=T;T=function(){var v=Gl(U);Y.call(v)}}eu(t,U,e,T)}else U=$_(n,t,e,T,l);return Gl(U)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lo(t.pendingLanes);n!==0&&(mf(t,n|1),Gr(t,sr()),!(On&6)&&(po=sr()+500,ua()))}break;case 13:Ra(function(){var l=Pi(e,1);if(l!==null){var T=Lr();yi(l,e,1,T)}}),Wf(e,1)}};yf=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=Lr();yi(t,e,134217728,n)}Wf(e,134217728)}};dh=function(e){if(e.tag===13){var t=ra(e),n=Pi(e,t);if(n!==null){var l=Lr();yi(n,e,t,l)}Wf(e,t)}};gh=function(){return Gn};ph=function(e,t){var n=Gn;try{return Gn=e,t()}finally{Gn=n}};wc=function(e,t,n){switch(t){case"input":if(yc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var T=Vl(l);if(!T)throw Error(en(90));Yp(l),yc(l,T)}}}break;case"textarea":Vp(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};eh=qf;th=Ra;var J_={usingClientEntryPoint:!1,Events:[fs,Ka,Vl,$p,Jp,qf]},Oo={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eT={bundleType:Oo.bundleType,version:Oo.version,rendererPackageName:Oo.rendererPackageName,rendererConfig:Oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ih(e),e===null?null:e.stateNode},findFiberByHostInstance:Oo.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{zl=il.inject(eT),Si=il}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_;Kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xf(t))throw Error(en(200));return Q_(e,t,null,n)};Kr.createRoot=function(e,t){if(!Xf(e))throw Error(en(299));var n=!1,l="",T=km;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=Kf(e,1,!1,null,null,n,!1,l,T),e[Mi]=t.current,Jo(e.nodeType===8?e.parentNode:e),new Qf(t)};Kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(en(188)):(e=Object.keys(e).join(","),Error(en(268,e)));return e=ih(t),e=e===null?null:e.stateNode,e};Kr.flushSync=function(e){return Ra(e)};Kr.hydrate=function(e,t,n){if(!nu(t))throw Error(en(200));return ru(null,e,t,!0,n)};Kr.hydrateRoot=function(e,t,n){if(!Xf(e))throw Error(en(405));var l=n!=null&&n.hydratedSources||null,T=!1,D="",U=km;if(n!=null&&(n.unstable_strictMode===!0&&(T=!0),n.identifierPrefix!==void 0&&(D=n.identifierPrefix),n.onRecoverableError!==void 0&&(U=n.onRecoverableError)),t=xm(t,null,e,1,n??null,T,!1,D,U),e[Mi]=t.current,Jo(e),l)for(e=0;e<l.length;e++)n=l[e],T=n._getVersion,T=T(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,T]:t.mutableSourceEagerHydrationData.push(n,T);return new tu(t)};Kr.render=function(e,t,n){if(!nu(t))throw Error(en(200));return ru(null,e,t,!1,n)};Kr.unmountComponentAtNode=function(e){if(!nu(e))throw Error(en(40));return e._reactRootContainer?(Ra(function(){ru(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};Kr.unstable_batchedUpdates=qf;Kr.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!nu(n))throw Error(en(200));if(e==null||e._reactInternals===void 0)throw Error(en(38));return ru(e,t,n,!1,l)};Kr.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Fp.exports=Kr;var tT=Fp.exports,Sp=tT;cc.createRoot=Sp.createRoot,cc.hydrateRoot=Sp.hydrateRoot;function nT({onSubmit:e,pending:t,error:n,switchToRegister:l}){const[T,D]=_n.useState(""),[U,Y]=_n.useState("");return nn.jsxs("form",{className:"space-y-4",onSubmit:v=>{v.preventDefault(),e(T.trim(),U)},children:[nn.jsxs("div",{children:[nn.jsx("label",{className:"block text-left text-sm font-medium text-zinc-300",htmlFor:"identifier",children:"Username or email"}),nn.jsx("input",{id:"identifier",type:"text",autoComplete:"username",className:"mt-1 w-full rounded-xl border border-zinc-700 bg-zinc-900/80 px-4 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-amber-500 focus:outline-none focus:ring focus:ring-amber-500/30",value:T,onChange:v=>D(v.target.value),disabled:t,required:!0})]}),nn.jsxs("div",{children:[nn.jsx("label",{className:"block text-left text-sm font-medium text-zinc-300",htmlFor:"password",children:"Password"}),nn.jsx("input",{id:"password",type:"password",autoComplete:"current-password",className:"mt-1 w-full rounded-xl border border-zinc-700 bg-zinc-900/80 px-4 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-amber-500 focus:outline-none focus:ring focus:ring-amber-500/30",value:U,onChange:v=>Y(v.target.value),disabled:t,required:!0})]}),n?nn.jsx("p",{className:"text-sm text-rose-300",children:n}):null,nn.jsx("button",{type:"submit",disabled:t,className:"w-full rounded-full bg-amber-500 px-5 py-2 text-sm font-semibold text-zinc-950 transition hover:bg-amber-400 disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",children:t?"Signing in…":"Sign in"}),nn.jsxs("p",{className:"text-center text-sm text-zinc-400",children:["Need an account?"," ",nn.jsx("button",{type:"button",className:"font-medium text-amber-400 transition hover:text-amber-300",onClick:l,disabled:t,children:"Register"})]})]})}function rT({onSubmit:e,pending:t,error:n,switchToLogin:l}){const[T,D]=_n.useState(""),[U,Y]=_n.useState(""),[v,j]=_n.useState("");return nn.jsxs("form",{className:"space-y-4",onSubmit:A=>{A.preventDefault(),e(T.trim(),U.trim(),v)},children:[nn.jsxs("div",{children:[nn.jsx("label",{className:"block text-left text-sm font-medium text-zinc-300",htmlFor:"reg-username",children:"Username"}),nn.jsx("input",{id:"reg-username",type:"text",autoComplete:"username",className:"mt-1 w-full rounded-xl border border-zinc-700 bg-zinc-900/80 px-4 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-amber-500 focus:outline-none focus:ring focus:ring-amber-500/30",value:T,onChange:A=>D(A.target.value),disabled:t,required:!0})]}),nn.jsxs("div",{children:[nn.jsx("label",{className:"block text-left text-sm font-medium text-zinc-300",htmlFor:"reg-email",children:"Email"}),nn.jsx("input",{id:"reg-email",type:"email",autoComplete:"email",className:"mt-1 w-full rounded-xl border border-zinc-700 bg-zinc-900/80 px-4 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-amber-500 focus:outline-none focus:ring focus:ring-amber-500/30",value:U,onChange:A=>Y(A.target.value),disabled:t,required:!0})]}),nn.jsxs("div",{children:[nn.jsx("label",{className:"block text-left text-sm font-medium text-zinc-300",htmlFor:"reg-password",children:"Password"}),nn.jsx("input",{id:"reg-password",type:"password",autoComplete:"new-password",className:"mt-1 w-full rounded-xl border border-zinc-700 bg-zinc-900/80 px-4 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:border-amber-500 focus:outline-none focus:ring focus:ring-amber-500/30",value:v,onChange:A=>j(A.target.value),disabled:t,required:!0})]}),n?nn.jsx("p",{className:"text-sm text-rose-300",children:n}):null,nn.jsx("button",{type:"submit",disabled:t,className:"w-full rounded-full bg-emerald-500 px-5 py-2 text-sm font-semibold text-zinc-950 transition hover:bg-emerald-400 disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",children:t?"Creating account…":"Create account"}),nn.jsxs("p",{className:"text-center text-sm text-zinc-400",children:["Already registered?"," ",nn.jsx("button",{type:"button",className:"font-medium text-amber-400 transition hover:text-amber-300",onClick:l,disabled:t,children:"Sign in"})]})]})}function iT({mode:e,setMode:t,pending:n,error:l,onLogin:T,onRegister:D}){return nn.jsx("main",{className:"flex min-h-screen items-center justify-center bg-gradient-to-b from-zinc-950 via-zinc-950 to-zinc-900 px-4 text-zinc-100",children:nn.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-zinc-800/80 bg-zinc-900/90 p-10 shadow-2xl",children:[nn.jsxs("div",{className:"space-y-2 text-center",children:[nn.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Publex Control"}),nn.jsx("p",{className:"text-sm text-zinc-400",children:e==="login"?"Sign in to manage your transcoder.":"Create an account to manage your transcoder."})]}),e==="login"?nn.jsx(nT,{onSubmit:T,pending:n,error:l,switchToRegister:()=>t("register")}):nn.jsx(rT,{onSubmit:D,pending:n,error:l,switchToLogin:()=>t("login")})]})})}var Um={exports:{}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(e,t){(function(n,l){e.exports=l()})(self,function(){return function(){var n={4593:function(U,Y){var v,j,A,o,i,E=function(R){for(var m=[],r=0;r<R.length;++r){var u=R.charCodeAt(r);u<128?m.push(u):u<2048?(m.push(192|u>>6),m.push(128|63&u)):u<65536?(m.push(224|u>>12),m.push(128|63&u>>6),m.push(128|63&u)):(m.push(240|u>>18),m.push(128|63&u>>12),m.push(128|63&u>>6),m.push(128|63&u))}return m},_=function(R){for(var m=[],r=0;r<R.length;){var u=R[r++];u<128||(u<224?(u=(31&u)<<6,u|=63&R[r++]):u<240?(u=(15&u)<<12,u|=(63&R[r++])<<6,u|=63&R[r++]):(u=(7&u)<<18,u|=(63&R[r++])<<12,u|=(63&R[r++])<<6,u|=63&R[r++])),m.push(String.fromCharCode(u))}return m.join("")},f={};v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=function(R){for(var m=0,r=[],u=0|R.length/3;0<u--;){var d=(R[m]<<16)+(R[m+1]<<8)+R[m+2];m+=3,r.push(v.charAt(63&d>>18)),r.push(v.charAt(63&d>>12)),r.push(v.charAt(63&d>>6)),r.push(v.charAt(63&d))}return R.length-m==2?(d=(R[m]<<16)+(R[m+1]<<8),r.push(v.charAt(63&d>>18)),r.push(v.charAt(63&d>>12)),r.push(v.charAt(63&d>>6)),r.push("=")):R.length-m==1&&(d=R[m]<<16,r.push(v.charAt(63&d>>18)),r.push(v.charAt(63&d>>12)),r.push("==")),r.join("")},A=function(){for(var R=[],m=0;m<v.length;++m)R[v.charCodeAt(m)]=m;return R[61]=0,R}(),o=function(R){for(var m=0,r=[],u=0|R.length/4;0<u--;){var d=(A[R.charCodeAt(m)]<<18)+(A[R.charCodeAt(m+1)]<<12)+(A[R.charCodeAt(m+2)]<<6)+A[R.charCodeAt(m+3)];r.push(255&d>>16),r.push(255&d>>8),r.push(255&d),m+=4}return r&&(R.charAt(m-2)=="="?(r.pop(),r.pop()):R.charAt(m-1)=="="&&r.pop()),r},i={encode:function(R){for(var m=[],r=0;r<R.length;++r)m.push(R.charCodeAt(r));return m},decode:function(R){for(var m=0;m<s.length;++m)a[m]=String.fromCharCode(a[m]);return a.join("")}},f.decodeArray=function(R){var m=o(R);return new Uint8Array(m)},f.encodeASCII=function(R){var m=i.encode(R);return j(m)},f.decodeASCII=function(R){var m=o(R);return i.decode(m)},f.encode=function(R){var m=E(R);return j(m)},f.decode=function(R){var m=o(R);return _(m)},Y.decode=f.decode,Y.decodeArray=f.decodeArray,Y.encode=f.encode,Y.encodeASCII=f.encodeASCII},452:function(U,Y){(function(v){var j={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},A=function(k){var te=k;return j.hasOwnProperty(k)&&(te=j[k]),String.fromCharCode(te)},o=15,i=32,E={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},R={25:2,26:4,29:6,30:8,31:10,27:13,28:15},m=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],r={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(k){this.time=k},log:function(k,te){var ce=this.verboseFilter[k];this.verboseLevel>=ce&&console.log(this.time+" ["+k+"] "+te)}},u=function(k){for(var te=[],ce=0;ce<k.length;ce++)te.push(k[ce].toString(16));return te},d=function(k,te,ce,$,ue){this.foreground=k||"white",this.underline=te||!1,this.italics=ce||!1,this.background=$||"black",this.flash=ue||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(k){for(var te=["foreground","underline","italics","background","flash"],ce=0;ce<te.length;ce++){var $=te[ce];k.hasOwnProperty($)&&(this[$]=k[$])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(k){return this.foreground===k.foreground&&this.underline===k.underline&&this.italics===k.italics&&this.background===k.background&&this.flash===k.flash},copy:function(k){this.foreground=k.foreground,this.underline=k.underline,this.italics=k.italics,this.background=k.background,this.flash=k.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var I=function(k,te,ce,$,ue,he){this.uchar=k||" ",this.penState=new d(te,ce,$,ue,he)};I.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(k,te){this.uchar=k,this.penState.copy(te)},setPenState:function(k){this.penState.copy(k)},equals:function(k){return this.uchar===k.uchar&&this.penState.equals(k.penState)},copy:function(k){this.uchar=k.uchar,this.penState.copy(k.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var Z=function(){this.chars=[];for(var k=0;k<i;k++)this.chars.push(new I);this.pos=0,this.currPenState=new d};Z.prototype={equals:function(k){for(var te=!0,ce=0;ce<i;ce++)if(!this.chars[ce].equals(k.chars[ce])){te=!1;break}return te},copy:function(k){for(var te=0;te<i;te++)this.chars[te].copy(k.chars[te])},isEmpty:function(){for(var k=!0,te=0;te<i;te++)if(!this.chars[te].isEmpty()){k=!1;break}return k},setCursor:function(k){this.pos!==k&&(this.pos=k),this.pos<0?(r.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(r.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(k){var te=this.pos+k;if(k>1)for(var ce=this.pos+1;ce<te+1;ce++)this.chars[ce].setPenState(this.currPenState);this.setCursor(te)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(k){k>=144&&this.backSpace();var te=A(k);this.pos>=i?r.log("ERROR","Cannot insert "+k.toString(16)+" ("+te+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(te,this.currPenState),this.moveCursor(1))},clearFromPos:function(k){var te;for(te=k;te<i;te++)this.chars[te].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var k=[],te=!0,ce=0;ce<i;ce++){var $=this.chars[ce].uchar;$!==" "&&(te=!1),k.push($)}return te?"":k.join("")},setPenStyles:function(k){this.currPenState.setStyles(k),this.chars[this.pos].setPenState(this.currPenState)}};var z=function(){this.rows=[];for(var k=0;k<o;k++)this.rows.push(new Z);this.currRow=14,this.nrRollUpRows=null,this.reset()};z.prototype={reset:function(){for(var k=0;k<o;k++)this.rows[k].clear();this.currRow=14},equals:function(k){for(var te=!0,ce=0;ce<o;ce++)if(!this.rows[ce].equals(k.rows[ce])){te=!1;break}return te},copy:function(k){for(var te=0;te<o;te++)this.rows[te].copy(k.rows[te])},isEmpty:function(){for(var k=!0,te=0;te<o;te++)if(!this.rows[te].isEmpty()){k=!1;break}return k},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(k){this.rows[this.currRow].insertChar(k)},setPen:function(k){this.rows[this.currRow].setPenStyles(k)},moveCursor:function(k){this.rows[this.currRow].moveCursor(k)},setCursor:function(k){r.log("INFO","setCursor: "+k),this.rows[this.currRow].setCursor(k)},setPAC:function(k){r.log("INFO","pacData = "+JSON.stringify(k));var te=k.row-1;this.nrRollUpRows&&te<this.nrRollUpRows-1&&(te=this.nrRollUpRows-1),this.currRow=te;var ce=this.rows[this.currRow];if(k.indent!==null){var $=k.indent,ue=Math.max($-1,0);ce.setCursor(k.indent),k.color=ce.chars[ue].penState.foreground}var he={foreground:k.color,underline:k.underline,italics:k.italics,background:"black",flash:!1};this.setPen(he)},setBkgData:function(k){r.log("INFO","bkgData = "+JSON.stringify(k)),this.backSpace(),this.setPen(k),this.insertChar(32)},setRollUpRows:function(k){this.nrRollUpRows=k},rollUp:function(){if(this.nrRollUpRows!==null){r.log("TEXT",this.getDisplayText());var k=this.currRow+1-this.nrRollUpRows,te=this.rows.splice(k,1)[0];te.clear(),this.rows.splice(this.currRow,0,te),r.log("INFO","Rolling up")}else r.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(k){k=k||!1;for(var te=[],ce="",$=-1,ue=0;ue<o;ue++){var he=this.rows[ue].getTextString();he&&($=ue+1,k?te.push("Row "+$+': "'+he+'"'):te.push(he.trim()))}return te.length>0&&(ce=k?"["+te.join(" | ")+"]":te.join(`
`)),ce},getTextAndFormat:function(){return this.rows}};var x=function(k,te){this.chNr=k,this.outputFilter=te,this.mode=null,this.verbose=0,this.displayedMemory=new z,this.nonDisplayedMemory=new z,this.lastOutputScreen=new z,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};x.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(k){this.outputFilter=k},setPAC:function(k){this.writeScreen.setPAC(k)},setBkgData:function(k){this.writeScreen.setBkgData(k)},setMode:function(k){k!==this.mode&&(this.mode=k,r.log("INFO","MODE="+k),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=k)},insertChars:function(k){for(var te=0;te<k.length;te++)this.writeScreen.insertChar(k[te]);var ce=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";r.log("INFO",ce+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(r.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){r.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){r.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){r.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(k){r.log("INFO","RU("+k+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(k)},cc_FON:function(){r.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){r.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){r.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){r.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){r.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){r.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){r.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(r.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var k=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=k,this.writeScreen=this.nonDisplayedMemory,r.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(k){r.log("INFO","TO("+k+") - Tab Offset"),this.writeScreen.moveCursor(k)},cc_MIDROW:function(k){var te={flash:!1};if(te.underline=k%2==1,te.italics=k>=46,te.italics)te.foreground="white";else{var ce=Math.floor(k/2)-16;te.foreground=["white","green","blue","cyan","red","yellow","magenta"][ce]}r.log("INFO","MIDROW: "+JSON.stringify(te)),this.writeScreen.setPen(te)},outputDataUpdate:function(){var k=r.time;k!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(k,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,k,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:k):this.cueStartTime=k,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(k){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,k,this.displayedMemory),this.cueStartTime=k))}};var re=function(k,te,ce){this.field=k||1,this.outputs=[te,ce],this.channels=[new x(1,te),new x(2,ce)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};re.prototype={getHandler:function(k){return this.channels[k].getHandler()},setHandler:function(k,te){this.channels[k].setHandler(te)},addData:function(k,te){var ce,$,ue,he=!1;this.lastTime=k,r.setTime(k);for(var Ce=0;Ce<te.length;Ce+=2)$=127&te[Ce],ue=127&te[Ce+1],$>=16&&$<=31&&$===this.lastCmdA&&ue===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,r.log("DEBUG","Repeated command ("+u([$,ue])+") is dropped")):$!==0||ue!==0?(r.log("DATA","["+u([te[Ce],te[Ce+1]])+"] -> ("+u([$,ue])+")"),(ce=this.parseCmd($,ue))||(ce=this.parseMidrow($,ue)),ce||(ce=this.parsePAC($,ue)),ce||(ce=this.parseBackgroundAttributes($,ue)),ce||(he=this.parseChars($,ue))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(he):r.log("WARNING","No channel found yet. TEXT-MODE?")),ce?this.dataCounters.cmd+=2:he?this.dataCounters.char+=2:(this.dataCounters.other+=2,r.log("WARNING","Couldn't parse cleaned data "+u([$,ue])+" orig: "+u([te[Ce],te[Ce+1]])))):this.dataCounters.padding+=2},parseCmd:function(k,te){var ce;if(!((k===20||k===21||k===28||k===29)&&32<=te&&te<=47||(k===23||k===31)&&33<=te&&te<=35))return!1;ce=k===20||k===21||k===23?1:2;var $=this.channels[ce-1];return k===20||k===21||k===28||k===29?te===32?$.cc_RCL():te===33?$.cc_BS():te===34?$.cc_AOF():te===35?$.cc_AON():te===36?$.cc_DER():te===37?$.cc_RU(2):te===38?$.cc_RU(3):te===39?$.cc_RU(4):te===40?$.cc_FON():te===41?$.cc_RDC():te===42?$.cc_TR():te===43?$.cc_RTD():te===44?$.cc_EDM():te===45?$.cc_CR():te===46?$.cc_ENM():te===47&&$.cc_EOC():$.cc_TO(te-32),this.lastCmdA=k,this.lastCmdB=te,this.currChNr=ce,!0},parseMidrow:function(k,te){var ce=null;if((k===17||k===25)&&32<=te&&te<=47){if((ce=k===17?1:2)!==this.currChNr)return r.log("ERROR","Mismatch channel in midrow parsing"),!1;var $=this.channels[ce-1];return $.insertChars([32]),$.cc_MIDROW(te),r.log("DEBUG","MIDROW ("+u([k,te])+")"),this.lastCmdA=k,this.lastCmdB=te,!0}return!1},parsePAC:function(k,te){var ce,$;if(!((17<=k&&k<=23||25<=k&&k<=31)&&64<=te&&te<=127||(k===16||k===24)&&64<=te&&te<=95))return!1;ce=k<=23?1:2,$=64<=te&&te<=95?ce===1?E[k]:f[k]:ce===1?_[k]:R[k];var ue=this.interpretPAC($,te);return this.channels[ce-1].setPAC(ue),this.lastCmdA=k,this.lastCmdB=te,this.currChNr=ce,!0},interpretPAC:function(k,te){var ce,$={color:null,italics:!1,indent:null,underline:!1,row:k};return ce=te>95?te-96:te-64,$.underline=(1&ce)==1,ce<=13?$.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(ce/2)]:ce<=15?($.italics=!0,$.color="white"):$.indent=4*Math.floor((ce-16)/2),$},parseChars:function(k,te){var ce=null,$=null,ue=null;if(k>=25?(ce=2,ue=k-8):(ce=1,ue=k),17<=ue&&ue<=19){var he;he=ue===17?te+80:ue===18?te+112:te+144,r.log("INFO","Special char '"+A(he)+"' in channel "+ce),$=[he],this.lastCmdA=k,this.lastCmdB=te}else 32<=k&&k<=127&&($=te===0?[k]:[k,te],this.lastCmdA=null,this.lastCmdB=null);if($){var Ce=u($);r.log("DEBUG","Char codes =  "+Ce.join(","))}return $},parseBackgroundAttributes:function(k,te){var ce,$,ue;return((k===16||k===24)&&32<=te&&te<=47||(k===23||k===31)&&45<=te&&te<=47)&&(ce={},k===16||k===24?($=Math.floor((te-32)/2),ce.background=m[$],te%2==1&&(ce.background=ce.background+"_semi")):te===45?ce.background="transparent":(ce.foreground="black",te===47&&(ce.underline=!0)),ue=k<24?1:2,this.channels[ue-1].setBkgData(ce),this.lastCmdA=k,this.lastCmdB=te,!0)},reset:function(){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(k){for(var te=0;te<this.channels.length;te++)this.channels[te]&&this.channels[te].cueSplitAtTime(k)}},v.logger=r,v.PenState=d,v.CaptionScreen=z,v.Cea608Parser=re,v.findCea608Nalus=function(k,te,ce){for(var $=0,ue=te,he=[],Ce=function(me,Le,qe,$e){if(me!==4||Le<8)return null;var Re=qe.getUint8($e),Fe=qe.getUint16($e+1),Et=qe.getUint32($e+3),gt=qe.getUint8($e+7);return Re==181&&Fe==49&&Et==1195456820&&gt==3};ue<te+ce;){if($=k.getUint32(ue),(31&k.getUint8(ue+4))==6)for(var oe=ue+5,be=-1;oe<ue+4+$-1;){be=0;for(var Pe=255;Pe===255;)be+=Pe=k.getUint8(oe),oe++;var Ne=0;for(Pe=255;Pe===255;)Ne+=Pe=k.getUint8(oe),oe++;Ce(be,Ne,k,oe)&&he.push([oe,Ne]),oe+=Ne}ue+=$+4}return he},v.extractCea608DataFromRange=function(k,te){var ce=te[0],$=[[],[]];ce+=8;var ue=31&k.getUint8(ce);ce+=2;for(var he=0;he<ue;he++){var Ce=k.getUint8(ce),oe=4&Ce,be=3&Ce;ce++;var Pe=k.getUint8(ce);ce++;var Ne=k.getUint8(ce);ce++,oe&&(127&Pe)+(127&Ne)!=0&&(be===0?($[0].push(Pe),$[0].push(Ne)):be===1&&($[1].push(Pe),$[1].push(Ne)))}return $}})(Y)},8416:function(U,Y,v){var j=v(1139),A=v(5448),o=v(6398),i=v(2032),E=(v(5530),typeof window<"u"&&window||v.g),_=E.dashjs;_||(_=E.dashjs={}),_.MediaPlayer=j.Z,_.FactoryMaker=A.Z,_.Debug=o.Z,_.Version=(0,i.e)()},6398:function(U,Y,v){var j=v(5595),A=v(8512),o=v(5448),i=1,E=2,_=3,f=4,R=5;function m(u){u=u||{};var d,I,Z,z,x=this.context,re=(0,j.Z)(x).getInstance(),k=u.settings,te=[];function ce(Pe){return Pe&&Pe.bind?Pe.bind(window.console):window.console.log.bind(window.console)}function $(){for(var Pe=arguments.length,Ne=new Array(Pe),me=0;me<Pe;me++)Ne[me]=arguments[me];be.apply(void 0,[i,this].concat(Ne))}function ue(){for(var Pe=arguments.length,Ne=new Array(Pe),me=0;me<Pe;me++)Ne[me]=arguments[me];be.apply(void 0,[E,this].concat(Ne))}function he(){for(var Pe=arguments.length,Ne=new Array(Pe),me=0;me<Pe;me++)Ne[me]=arguments[me];be.apply(void 0,[_,this].concat(Ne))}function Ce(){for(var Pe=arguments.length,Ne=new Array(Pe),me=0;me<Pe;me++)Ne[me]=arguments[me];be.apply(void 0,[f,this].concat(Ne))}function oe(){for(var Pe=arguments.length,Ne=new Array(Pe),me=0;me<Pe;me++)Ne[me]=arguments[me];be.apply(void 0,[R,this].concat(Ne))}function be(Pe,Ne){var me="",Le=null;I&&(Le=new Date().getTime(),me+="["+(Le-z)+"]"),Z&&Ne&&Ne.getClassName&&(me+="["+Ne.getClassName()+"]",Ne.getType&&(me+="["+Ne.getType()+"]")),me.length>0&&(me+=" ");for(var qe=arguments.length,$e=new Array(qe>2?qe-2:0),Re=2;Re<qe;Re++)$e[Re-2]=arguments[Re];Array.apply(null,$e).forEach(function(Fe){me+=Fe+" "}),te[Pe]&&k&&k.get().debug.logLevel>=Pe&&te[Pe](me),k&&k.get().debug.dispatchEvent&&re.trigger(A.Z.LOG,{message:me,level:Pe})}return d={getLogger:function(Pe){return{fatal:$.bind(Pe),error:ue.bind(Pe),warn:he.bind(Pe),info:Ce.bind(Pe),debug:oe.bind(Pe)}},setLogTimestampVisible:function(Pe){I=Pe},setCalleeNameVisible:function(Pe){Z=Pe}},I=!0,Z=!0,z=new Date().getTime(),typeof window<"u"&&window.console&&(te[i]=ce(window.console.error),te[E]=ce(window.console.error),te[_]=ce(window.console.warn),te[f]=ce(window.console.info),te[R]=ce(window.console.debug)),d}m.__dashjs_factory_name="Debug";var r=o.Z.getSingletonFactory(m);r.LOG_LEVEL_NONE=0,r.LOG_LEVEL_FATAL=i,r.LOG_LEVEL_ERROR=E,r.LOG_LEVEL_WARNING=_,r.LOG_LEVEL_INFO=f,r.LOG_LEVEL_DEBUG=R,o.Z.updateSingletonFactory(m.__dashjs_factory_name,r),Y.Z=r},5595:function(U,Y,v){var j=v(5448),A=v(8825);function o(){var E={};function _(R,m,r){var u=-1;return E[R]&&E[R].some(function(d,I){if(d&&d.callback===m&&(!r||r===d.scope))return u=I,!0}),u}var f={on:function(R,m,r){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!m||typeof m!="function")throw new Error("listener must be a function: "+m);var d=u.priority||0;if(!(_(R,m,r)>=0)){E[R]=E[R]||[];var I={callback:m,scope:r,priority:d};r&&r.getStreamId&&(I.streamId=r.getStreamId()),r&&r.getType&&(I.mediaType=r.getType()),u&&u.mode&&(I.mode=u.mode);var Z=E[R].some(function(z,x){if(z&&d>z.priority)return E[R].splice(x,0,I),!0});Z||E[R].push(I)}},off:function(R,m,r){if(R&&m&&E[R]){var u=_(R,m,r);u<0||(E[R][u]=null)}},trigger:function(R){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(R&&E[R]){if((m=m||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");m.type=R,r.streamId&&(m.streamId=r.streamId),r.mediaType&&(m.mediaType=r.mediaType),E[R].filter(function(u){return!(!u||r.streamId&&u.streamId&&u.streamId!==r.streamId||r.mediaType&&u.mediaType&&u.mediaType!==r.mediaType||r.mode&&u.mode&&u.mode!==r.mode||!u.mode&&r.mode&&r.mode===A.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(u){return u&&u.callback.call(u.scope,m)})}},reset:function(){E={}}};return f}o.__dashjs_factory_name="EventBus";var i=j.Z.getSingletonFactory(o);i.EVENT_PRIORITY_LOW=0,i.EVENT_PRIORITY_HIGH=5e3,j.Z.updateSingletonFactory(o.__dashjs_factory_name,i),Y.Z=i},5448:function(U,Y){var v=function(){var j,A=[],o={},i={};function E(m,r){for(var u in A){var d=A[u];if(d.context===m&&d.name===r)return d.instance}return null}function _(m,r){return r[m]}function f(m,r,u){m in u&&(u[m]=r)}function R(m,r,u){var d,I=m.__dashjs_factory_name,Z=r[I];if(Z){var z=Z.instance;if(!Z.override)return z.apply({context:r,factory:j},u);for(var x in d=m.apply({context:r},u),z=z.apply({context:r,factory:j,parent:d},u))d.hasOwnProperty(x)&&(d[x]=z[x])}else d=m.apply({context:r},u);return d.getClassName=function(){return I},d}return j={extend:function(m,r,u,d){!d[m]&&r&&(d[m]={instance:r,override:u})},getSingletonInstance:E,setSingletonInstance:function(m,r,u){for(var d in A){var I=A[d];if(I.context===m&&I.name===r)return void(A[d].instance=u)}A.push({name:r,context:m,instance:u})},deleteSingletonInstances:function(m){A=A.filter(function(r){return r.context!==m})},getSingletonFactory:function(m){var r=_(m.__dashjs_factory_name,o);return r||(r=function(u){var d;return u===void 0&&(u={}),{getInstance:function(){return d||(d=E(u,m.__dashjs_factory_name)),d||(d=R(m,u,arguments),A.push({name:m.__dashjs_factory_name,context:u,instance:d})),d}}},o[m.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(m){return _(m,o)},updateSingletonFactory:function(m,r){f(m,r,o)},getClassFactory:function(m){var r=_(m.__dashjs_factory_name,i);return r||(r=function(u){return u===void 0&&(u={}),{create:function(){return R(m,u,arguments)}}},i[m.__dashjs_factory_name]=r),r},getClassFactoryByName:function(m){return _(m,i)},updateClassFactory:function(m,r){f(m,r,i)}},j}();Y.Z=v},1264:function(U,Y,v){var j=v(5448),A=v(703),o=v(6398),i=v(3393),E=v(7855),_=v(5595),f=v(8512);function R(d){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},R(d)}function m(d,I,Z){return I in d?Object.defineProperty(d,I,{value:Z,enumerable:!0,configurable:!0,writable:!0}):d[I]=Z,d}function r(){var d,I,Z=this.context,z=(0,_.Z)(Z).getInstance(),x={"streaming.delay.liveDelay":f.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":f.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},re={debug:{logLevel:o.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:i.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:i.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:i.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:i.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(d={},m(d,E.w.MPD_TYPE,500),m(d,E.w.XLINK_EXPANSION_TYPE,500),m(d,E.w.MEDIA_SEGMENT_TYPE,1e3),m(d,E.w.INIT_SEGMENT_TYPE,1e3),m(d,E.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),m(d,E.w.INDEX_SEGMENT_TYPE,1e3),m(d,E.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),m(d,E.w.LICENSE,1e3),m(d,E.w.OTHER_TYPE,1e3),m(d,"lowLatencyReductionFactor",10),d),retryAttempts:(I={},m(I,E.w.MPD_TYPE,3),m(I,E.w.XLINK_EXPANSION_TYPE,1),m(I,E.w.MEDIA_SEGMENT_TYPE,3),m(I,E.w.INIT_SEGMENT_TYPE,3),m(I,E.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),m(I,E.w.INDEX_SEGMENT_TYPE,3),m(I,E.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),m(I,E.w.LICENSE,3),m(I,E.w.OTHER_TYPE,3),m(I,"lowLatencyMultiplyFactor",5),I),abr:{movingAverageMethod:i.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:i.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:i.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},k=A.Z.clone(re);function te(ce,$,ue){for(var he in ce)ce.hasOwnProperty(he)&&($.hasOwnProperty(he)?R(ce[he])!=="object"||ce[he]instanceof Array||ce[he]===null?($[he]=A.Z.clone(ce[he]),x[ue+he]&&z.trigger(x[ue+he])):te(ce[he],$[he],ue.slice()+he+"."):console.error("Settings parameter "+ue+he+" is not supported"))}return{get:function(){return k},update:function(ce){R(ce)==="object"&&te(ce,k,"")},reset:function(){k=A.Z.clone(re)}}}r.__dashjs_factory_name="Settings";var u=j.Z.getSingletonFactory(r);Y.Z=u},703:function(U,Y,v){var j=v(3875),A=v.n(j),o=v(1067);function i(f){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(f)}function E(f,R){for(var m=0;m<R.length;m++){var r=R[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}var _=function(){function f(){(function(r,u){if(!(r instanceof u))throw new TypeError("Cannot call a class as a function")})(this,f)}var R,m;return R=f,m=[{key:"mixin",value:function(r,u,d){var I,Z={};if(r)for(var z in u)u.hasOwnProperty(z)&&(I=u[z],z in r&&(r[z]===I||z in Z&&Z[z]===I)||(i(r[z])==="object"&&r[z]!==null?r[z]=f.mixin(r[z],I,d):r[z]=d(I)));return r}},{key:"clone",value:function(r){if(!r||i(r)!=="object")return r;var u;if(r instanceof Array){u=[];for(var d=0,I=r.length;d<I;++d)d in r&&u.push(f.clone(r[d]))}else u={};return f.mixin(u,r,f.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(r,u){try{if(!u||u.length===0)return r;var d=new URL(r);return u.forEach(function(I){I.key&&I.value&&d.searchParams.set(I.key,I.value)}),d.href}catch{return r}}},{key:"parseHttpHeaders",value:function(r){var u={};if(!r)return u;for(var d=r.trim().split(`\r
`),I=0,Z=d.length;I<Z;I++){var z=d[I],x=z.indexOf(": ");x>0&&(u[z.substring(0,x)]=z.substring(x+2))}return u}},{key:"generateUuid",value:function(){var r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var d=(r+16*Math.random())%16|0;return r=Math.floor(r/16),(u=="x"?d:3&d|8).toString(16)})}},{key:"generateHashCode",value:function(r){var u=0;if(r.length===0)return u;for(var d=0;d<r.length;d++)u=(u<<5)-u+r.charCodeAt(d),u|=0;return u}},{key:"getRelativeUrl",value:function(r,u){try{var d=new URL(r),I=new URL(u);if(d.protocol=I.protocol,d.origin!==I.origin)return u;var Z=A().relative(d.pathname.substr(0,d.pathname.lastIndexOf("/")),I.pathname.substr(0,I.pathname.lastIndexOf("/"))),z=Z.length===0?1:0;return Z+=I.pathname.substr(I.pathname.lastIndexOf("/")+z,I.pathname.length-1),I.pathname.length<Z.length?I.pathname:Z}catch{return u}}},{key:"parseUserAgent",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var u=r===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,o.UAParser)(u)}catch{return{}}}},{key:"stringHasProtocol",value:function(r){return/(http(s?)):\/\//i.test(r)}}],m&&E(R,m),f}();Y.Z=_},2032:function(U,Y,v){function j(){return"4.7.4"}v.d(Y,{e:function(){return j}})},2230:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=function(){function A(){(function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")})(this,A)}var o,i;return o=A,(i=[{key:"extend",value:function(E,_){if(E){var f=!!_&&_.override,R=!!_&&_.publicOnly;for(var m in E)!E.hasOwnProperty(m)||this[m]&&!f||R&&E[m].indexOf("public_")===-1||(this[m]=E[m])}}}])&&v(o.prototype,i),A}();Y.Z=j},4351:function(U,Y,v){function j(_){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},j(_)}function A(_,f){return A=Object.setPrototypeOf||function(R,m){return R.__proto__=m,R},A(_,f)}function o(_,f){return!f||j(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(_):f}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(_)}var E=function(_){(function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&A(u,d)})(r,_);var f,R,m=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,d=i(f);if(R){var I=i(this).constructor;u=Reflect.construct(d,arguments,I)}else u=d.apply(this,arguments);return o(this,u)});function r(){var u;return function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}(this,r),(u=m.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",u.BUFFERING_COMPLETED="bufferingCompleted",u.BUFFER_CLEARED="bufferCleared",u.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",u.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",u.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",u.CMSD_STATIC_HEADER="cmsdStaticHeader",u.CURRENT_TRACK_CHANGED="currentTrackChanged",u.DATA_UPDATE_COMPLETED="dataUpdateCompleted",u.INBAND_EVENTS="inbandEvents",u.INITIAL_STREAM_SWITCH="initialStreamSwitch",u.INIT_FRAGMENT_LOADED="initFragmentLoaded",u.INIT_FRAGMENT_NEEDED="initFragmentNeeded",u.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",u.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",u.LOADING_COMPLETED="loadingCompleted",u.LOADING_PROGRESS="loadingProgress",u.LOADING_DATA_PROGRESS="loadingDataProgress",u.LOADING_ABANDONED="loadingAborted",u.MANIFEST_UPDATED="manifestUpdated",u.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",u.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",u.QUOTA_EXCEEDED="quotaExceeded",u.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",u.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",u.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",u.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",u.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",u.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",u.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",u.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",u.SOURCE_BUFFER_ERROR="sourceBufferError",u.STREAMS_COMPOSED="streamsComposed",u.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",u.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",u.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",u.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",u.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",u.URL_RESOLUTION_FAILED="urlResolutionFailed",u.VIDEO_CHUNK_RECEIVED="videoChunkReceived",u.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",u.XLINK_ELEMENT_LOADED="xlinkElementLoaded",u.XLINK_READY="xlinkReady",u.SEEK_TARGET="seekTarget",u.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",u.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",u.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",u.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",u.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",u}return r}(v(8342).Z);Y.Z=E},8512:function(U,Y,v){function j(R){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},j(R)}function A(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}function o(R,m){return o=Object.setPrototypeOf||function(r,u){return r.__proto__=u,r},o(R,m)}function i(R,m){return!m||j(m)!=="object"&&typeof m!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(R):m}function E(R){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},E(R)}var _=function(R){(function(I,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(Z&&Z.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Z&&o(I,Z)})(d,R);var m,r,u=(m=d,r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var I,Z=E(m);if(r){var z=E(this).constructor;I=Reflect.construct(Z,arguments,z)}else I=Z.apply(this,arguments);return i(this,I)});function d(){return A(this,d),u.apply(this,arguments)}return d}(v(4351).Z),f=new _;Y.Z=f},8342:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=function(){function A(){(function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")})(this,A)}var o,i;return o=A,(i=[{key:"extend",value:function(E,_){if(E){var f=!!_&&_.override,R=!!_&&_.publicOnly;for(var m in E)!E.hasOwnProperty(m)||this[m]&&!f||R&&E[m].indexOf("public_")===-1||(this[m]=E[m])}}}])&&v(o.prototype,i),A}();Y.Z=j},9326:function(U,Y,v){var j=v(3186),A=v(7855),o=v(5448),i=v(8825),E=v(7387),_=v(1553);function f(R){var m,r,u,d,I,Z=(R=R||{}).eventBus,z=R.debug,x=R.urlUtils,re=R.type,k=R.streamInfo,te=R.segmentsController,ce=R.timelineConverter,$=R.baseURLController;function ue(){return re}function he(){u=null}function Ce(me,Le,qe){var $e,Re,Fe=$.resolve(qe.path),Et={};return Fe&&Le!==Fe.url&&x.isRelative(Le)?($e=Fe.url,Re=Fe.serviceLocation,Et=Fe.queryParams,Le&&($e=x.resolve(Le,$e))):$e=Le,!x.isRelative($e)&&(me.url=$e,me.serviceLocation=Re,me.queryParams=Et,!0)}function oe(me,Le){if(Le==null)return null;var qe=new j.Z,$e=Le.representation,Re=$e.adaptation.period.mpd.manifest.Period_asArray[$e.adaptation.period.index].AdaptationSet_asArray[$e.adaptation.index].Representation_asArray[$e.index].bandwidth,Fe=Le.media;return Fe=(0,E.vi)(Fe,"Number",Le.replacementNumber),Fe=(0,E.vi)(Fe,"Time",Le.replacementTime),Fe=(0,E.vi)(Fe,"Bandwidth",Re),Fe=(0,E.Aj)(Fe,$e.id),Fe=(0,E.eR)(Fe),qe.mediaType=ue(),qe.type=A.w.MEDIA_SEGMENT_TYPE,qe.range=Le.mediaRange,qe.startTime=Le.presentationStartTime,qe.mediaStartTime=Le.mediaStartTime,qe.duration=Le.duration,qe.timescale=$e.timescale,qe.availabilityStartTime=Le.availabilityStartTime,qe.availabilityEndTime=Le.availabilityEndTime,qe.availabilityTimeComplete=$e.availabilityTimeComplete,qe.wallStartTime=Le.wallStartTime,qe.quality=$e.index,qe.index=Le.index,qe.mediaInfo=me,qe.adaptationIndex=$e.adaptation.index,qe.representationId=$e.id,Ce(qe,Fe,$e)?qe:void 0}function be(me,Le,qe){var $e=null;if(!Le||!Le.segmentInfoType)return $e;var Re=te.getSegmentByTime(Le,qe);return Re&&(u=Re,r.debug("Index for time "+qe+" is "+Re.index),$e=oe(me,Re)),$e}function Pe(me,Le,qe){var $e=null,Re=te.getSegmentByIndex(Le,qe,u?u.mediaStartTime:-1);if(Re)$e=oe(me,Re),u=Re;else{if(d&&!I)return r.debug(ue()+" No segment found at index: "+qe+". Wait for next loop"),null;I=!0}return $e}function Ne(){r.debug("Dynamic stream complete"),I=!0}return m={getCurrentIndex:function(){return u?u.index:-1},getInitRequest:function(me,Le){return Le?function(qe,$e,Re){var Fe=new j.Z,Et=$e.adaptation.period,gt=Et.start;if(Fe.mediaType=Re,Fe.type=A.w.INIT_SEGMENT_TYPE,Fe.range=$e.range,Fe.availabilityStartTime=ce.calcAvailabilityStartTimeFromPresentationTime(gt,$e,d),Fe.availabilityEndTime=ce.calcAvailabilityEndTimeFromPresentationTime(gt+Et.duration,$e,d),Fe.quality=$e.index,Fe.mediaInfo=qe,Fe.representationId=$e.id,Ce(Fe,$e.initialization,$e))return Fe.url=(0,E.vi)(Fe.url,"Bandwidth",$e.bandwidth),Fe}(me,Le,ue()):null},getNextSegmentRequest:function(me,Le){return Le&&Le.segmentInfoType?Pe(me,Le,u?u.index+1:0):null},getNextSegmentRequestIdempotent:function(me,Le){var qe=u?u.index+1:0,$e=te.getSegmentByIndex(Le,qe,u?u.mediaStartTime:-1);return $e?oe(me,$e):null},getSegmentRequestForTime:be,getStreamId:function(){return k.id},getStreamInfo:function(){return k},getType:ue,getValidTimeAheadOfTargetTime:function(me,Le,qe,$e){try{if(isNaN(me)||!Le||!qe)return NaN;if(me<0&&(me=0),isNaN($e)&&($e=.5),be(Le,qe,me))return me;if(qe.adaptation.period.start+qe.adaptation.period.duration<me)return NaN;for(var Re=isFinite(qe.adaptation.period.duration)?qe.adaptation.period.start+qe.adaptation.period.duration:me+30,Fe=Math.min(me+$e,Re),Et=NaN,gt=null;Fe<=Re;){var He=null;if(Fe<=Re&&(He=be(Le,qe,Fe)),He){Et=Fe,gt=He;break}Fe+=$e}if(gt){var ot=gt.startTime+gt.duration;return me>gt.startTime&&ot-me>$e?me:!isNaN(gt.startTime)&&me<gt.startTime&&Et>gt.startTime?gt.startTime+.001:Math.min(ot-$e,Et)}return Et}catch{return NaN}},initialize:function(me){d=me,I=!1,te.initialize(me)},isLastSegmentRequested:function(me,Le){return!me||!u?!1:I?!0:!isFinite(me.adaptation.period.duration)||u.presentationStartTime+u.duration>Le?!1:me.mediaFinishedInformation&&!isNaN(me.mediaFinishedInformation.numberOfSegments)&&!isNaN(u.index)&&u.index>=me.mediaFinishedInformation.numberOfSegments-1&&(!d||me.segmentInfoType===_.Z.SEGMENT_TEMPLATE||d&&me.segmentInfoType===_.Z.SEGMENT_LIST&&me.adaptation.period.nextPeriodId)?!0:!!(d&&me.adaptation.period.nextPeriodId&&me.segmentInfoType===_.Z.SEGMENT_TIMELINE&&me.mediaFinishedInformation&&!isNaN(me.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&u&&!isNaN(u.mediaStartTime)&&!isNaN(u.duration)&&u.mediaStartTime+u.duration>=me.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(me,Le){return Le&&Le.segmentInfoType?Pe(me,Le,u?u.index:0):null},reset:function(){he(),Z.off(i.Z.DYNAMIC_TO_STATIC,Ne,m)}},r=z.getLogger(m),he(),Z.on(i.Z.DYNAMIC_TO_STATIC,Ne,m),m}f.__dashjs_factory_name="DashHandler",Y.Z=o.Z.getClassFactory(f)},1553:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=new(function(){function A(){(function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.ESSENTIAL_PROPERTY_ASARRAY="EssentialProperty_asArray",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.DVB_URL="dvb:url",this.DVB_MIMETYPE="dvb:mimeType",this.DVB_FONTFAMILY="dvb:fontFamily",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&v(o.prototype,i),A}());Y.Z=j},7802:function(U,Y,v){var j=v(5448),A=v(1724),o=v(3636),i=v(1736),E=v(5246);function _(R){R=R||{};var m,r,u=this.context,d=R.dashConstants,I=R.type,Z=R.segmentBaseController;function z(x){return x?x.segments?r[d.SEGMENT_BASE]:r[x.segmentInfoType]:null}return m={initialize:function(x){r[d.SEGMENT_TIMELINE]=(0,A.Z)(u).create(R,x),r[d.SEGMENT_TEMPLATE]=(0,o.Z)(u).create(R,x),r[d.SEGMENT_LIST]=(0,i.Z)(u).create(R,x),r[d.SEGMENT_BASE]=(0,E.Z)(u).create(R,x)},updateInitData:function(x,re){return re?Promise.resolve():Z.getSegmentBaseInitSegment({representation:x,mediaType:I})},updateSegmentData:function(x,re){return re?Promise.resolve():Z.getSegmentList({mimeType:x.mimeType,representation:x,mediaType:I})},getSegmentByIndex:function(x,re,k){var te=z(x);return te?te.getSegmentByIndex(x,re,k):null},getSegmentByTime:function(x,re){var k=z(x);return k?k.getSegmentByTime(x,re):null},getMediaFinishedInformation:function(x){var re=z(x);return re?re.getMediaFinishedInformation(x):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},r={},m}_.__dashjs_factory_name="SegmentsController";var f=j.Z.getClassFactory(_);Y.Z=f},1736:function(U,Y,v){var j=v(5448),A=v(3393),o=v(7387);function i(_,f){var R=(_=_||{}).timelineConverter;function m(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function r(u,d){if(m(),!u)return null;var I=u.adaptation.period.mpd.manifest.Period_asArray[u.adaptation.period.index].AdaptationSet_asArray[u.adaptation.index].Representation_asArray[u.index].SegmentList,Z=I.SegmentURL_asArray.length,z=u&&!isNaN(u.startNumber)?u.startNumber:1,x=Math.max(z-1,0),re=Math.max(d-x,0),k=null;if(re<Z){var te=I.SegmentURL_asArray[re];(k=(0,o.NF)(R,f,u,d))&&(k.replacementTime=(z+d-1)*u.segmentDuration,k.media=te.media?te.media:"",k.mediaRange=te.mediaRange,k.indexRange=te.indexRange)}return k}return{getSegmentByIndex:r,getSegmentByTime:function(u,d){if(m(),!u)return null;var I=u.segmentDuration;if(isNaN(I))return null;var Z=R.calcPeriodRelativeTimeFromMpdRelativeTime(u,d);return r(u,Math.floor(Z/I))},getMediaFinishedInformation:function(u){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!u)return d;var I=u.adaptation.period.mpd.manifest.Period_asArray[u.adaptation.period.index].AdaptationSet_asArray[u.adaptation.index].Representation_asArray[u.index].SegmentList,Z=u&&!isNaN(u.startNumber)?u.startNumber:1,z=Math.max(Z-1,0);return d.numberOfSegments=z+I.SegmentURL_asArray.length,d}}}i.__dashjs_factory_name="ListSegmentsGetter";var E=j.Z.getClassFactory(i);Y.Z=E},5246:function(U,Y,v){var j=v(5448),A=v(3393);function o(E){var _=(E=E||{}).timelineConverter;function f(){if(!_||!_.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function R(m,r){if(f(),!m)return null;var u,d=m.segments?m.segments.length:-1;if(r<d&&(u=m.segments[r])&&u.index===r)return u;for(var I=0;I<d;I++)if((u=m.segments[I])&&u.index===r)return u;return null}return{getSegmentByIndex:R,getSegmentByTime:function(m,r){f();var u=function(d,I){if(!d)return-1;var Z,z,x,re,k,te=d.segments,ce=te?te.length:null,$=-1;if(te&&ce>0){for(k=0;k<ce;k++)if(x=(z=te[k]).presentationStartTime,I+(Z=(re=z.duration)/2)>=x&&I-Z<x+re){$=z.index;break}}return $}(m,r);return R(m,u)},getMediaFinishedInformation:function(m){var r={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return m&&m.segments&&(r.numberOfSegments=m.segments.length),r}}}o.__dashjs_factory_name="SegmentBaseGetter";var i=j.Z.getClassFactory(o);Y.Z=i},7387:function(U,Y,v){v.d(Y,{Aj:function(){return i},NF:function(){return R},TJ:function(){return m},eR:function(){return o},vi:function(){return E}});var j=v(2011);function A(r,u){for(;r.length<u;)r="0"+r;return r}function o(r){return r&&r.split("$$").join("$")}function i(r,u){if(!u||!r||r.indexOf("$RepresentationID$")===-1)return r;var d=u.toString();return r.split("$RepresentationID$").join(d)}function E(r,u,d){var I,Z,z,x,re,k,te=u.length,ce=2;if(!r)return r;for(;;){if((I=r.indexOf("$"+u))<0||(Z=r.indexOf("$",I+te))<0)return r;if((z=r.indexOf("%0",I+te))>I&&z<Z)switch(x=r.charAt(Z-1),re=parseInt(r.substring(z+ce,Z-1),10),x){case"d":case"i":case"u":k=A(d.toString(),re);break;case"x":k=A(d.toString(16),re);break;case"X":k=A(d.toString(16),re).toUpperCase();break;case"o":k=A(d.toString(8),re);break;default:return r}else k=d;r=r.substring(0,I)+k+r.substring(Z+1)}}function _(r,u,d,I,Z,z,x,re){var k,te=new j.Z;return te.representation=r,te.duration=u,te.presentationStartTime=d,te.mediaStartTime=I,te.availabilityStartTime=Z.calcAvailabilityStartTimeFromPresentationTime(z,r,x),te.availabilityEndTime=Z.calcAvailabilityEndTimeFromPresentationTime(z+u,r,x),te.wallStartTime=Z.calcWallTimeForSegment(te,x),te.replacementNumber=(k=re,te.representation.startNumber+k),te.index=re,te}function f(r,u,d,I){var Z=u.adaptation.period;if(isFinite(Z.duration)&&Z.start+Z.duration<=d.presentationStartTime)return!1;if(I){if(u.availabilityTimeOffset==="INF")return!0;var z=r.getClientReferenceTime();return d.availabilityStartTime.getTime()<=z&&(!isFinite(d.availabilityEndTime)||d.availabilityEndTime.getTime()>=z)}return!0}function R(r,u,d,I){var Z,z,x;Z=d.segmentDuration,isNaN(Z)&&(Z=d.adaptation.period.duration),z=parseFloat((d.adaptation.period.start+I*Z).toFixed(5)),x=parseFloat((z+Z).toFixed(5));var re=_(d,Z,z,r.calcMediaTimeFromPresentationTime(z,d),r,x,u,I);return f(r,d,re,u)?re:null}function m(r,u,d,I,Z,z,x,re,k,te){var ce,$,ue=I/z,he=Z/z;return ce=r.calcPresentationTimeFromMediaTime(ue,d),f(r,d,$=_(d,he,ce,ue,r,ce+he,u,k),u)?($.replacementTime=te||I,x=E(x,"Number",$.replacementNumber),x=E(x,"Time",$.replacementTime),$.media=x,$.mediaRange=re,$):null}},3636:function(U,Y,v){var j=v(5448),A=v(3393),o=v(7387);function i(_,f){var R=(_=_||{}).timelineConverter;function m(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function r(u,d){if(m(),!u)return null;var I=u.adaptation.period.mpd.manifest.Period_asArray[u.adaptation.period.index].AdaptationSet_asArray[u.adaptation.index].Representation_asArray[u.index].SegmentTemplate;d=Math.max(d,0);var Z=(0,o.NF)(R,f,u,d);if(Z){Z.replacementTime=Math.round((d-1)*u.segmentDuration*u.timescale,10);var z=I.media;z=(0,o.vi)(z,"Number",Z.replacementNumber),z=(0,o.vi)(z,"Time",Z.replacementTime),Z.media=z}return Z}return{getSegmentByIndex:r,getSegmentByTime:function(u,d){if(m(),!u)return null;var I=u.segmentDuration;if(isNaN(I))return null;var Z=R.calcPeriodRelativeTimeFromMpdRelativeTime(u,d);return r(u,Math.floor(Z/I))},getMediaFinishedInformation:function(u){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!u)return d;var I=u.segmentDuration;return isNaN(I)?d.numberOfSegments=1:d.numberOfSegments=Math.ceil(u.adaptation.period.duration/I),d}}}i.__dashjs_factory_name="TemplateSegmentsGetter";var E=j.Z.getClassFactory(i);Y.Z=E},1724:function(U,Y,v){var j=v(5448),A=v(3393),o=v(7387);function i(_,f){var R=(_=_||{}).timelineConverter,m=_.dashMetrics;function r(){if(!R)throw new Error(A.Z.MISSING_CONFIG_ERROR)}function u(I,Z){var z,x,re,k,te,ce,$,ue=I.adaptation.period.mpd.manifest.Period_asArray[I.adaptation.period.index].AdaptationSet_asArray[I.adaptation.index].Representation_asArray[I.index].SegmentTemplate||I.adaptation.period.mpd.manifest.Period_asArray[I.adaptation.period.index].AdaptationSet_asArray[I.adaptation.index].Representation_asArray[I.index].SegmentList,he=ue.SegmentTimeline,Ce=ue.SegmentURL_asArray,oe=0,be=-1;$=I.timescale;var Pe=!1;for(re=0,k=(z=he.S_asArray).length;re<k&&!Pe;re++)for(ce=0,(x=z[re]).hasOwnProperty("r")&&(ce=x.r),x.hasOwnProperty("t")&&(oe=x.t),ce<0&&(ce=d(I,z[re+1],x,$,oe/$)),te=0;te<=ce&&!Pe;te++)(Pe=Z(oe,ue,Ce,x,$,++be,re))&&(I.segmentDuration=x.d/$),oe+=x.d}function d(I,Z,z,x,re){var k;if(Z&&Z.hasOwnProperty("t"))k=Z.t/x;else try{var te=0;if(isNaN(I.adaptation.period.start)||isNaN(I.adaptation.period.duration)||!isFinite(I.adaptation.period.duration)){var ce=m.getCurrentDVRInfo();te=isNaN(ce.end)?0:ce.end}else te=I.adaptation.period.start+I.adaptation.period.duration;k=R.calcMediaTimeFromPresentationTime(te,I),I.segmentDuration=z.d/x}catch{k=0}return Math.max(Math.ceil((k-re)/(z.d/x))-1,0)}return{getSegmentByIndex:function(I,Z,z){if(r(),!I)return null;var x=null,re=!1;return u(I,function(k,te,ce,$,ue,he,Ce){if(re||z<0){var oe=te.media,be=$.mediaRange;return ce&&(oe=ce[Ce].media||"",be=ce[Ce].mediaRange),x=(0,o.TJ)(R,f,I,k,$.d,ue,oe,be,he,$.tManifest),!0}return k>=z*ue-.5*$.d&&(re=!0),!1}),x},getSegmentByTime:function(I,Z){if(r(),!I)return null;Z===void 0&&(Z=null);var z=null,x=R.calcMediaTimeFromPresentationTime(Z,I);return u(I,function(re,k,te,ce,$,ue,he){var Ce=parseFloat((x*$).toPrecision(15));if(Ce<re+ce.d&&Ce>=re){var oe=k.media,be=ce.mediaRange;return te&&(oe=te[he].media||"",be=te[he].mediaRange),z=(0,o.TJ)(R,f,I,re,ce.d,$,oe,be,ue,ce.tManifest),!0}return!1}),z},getMediaFinishedInformation:function(I){if(!I)return 0;var Z,z,x,re,k,te,ce,$=(I.adaptation.period.mpd.manifest.Period_asArray[I.adaptation.period.index].AdaptationSet_asArray[I.adaptation.index].Representation_asArray[I.index].SegmentTemplate||I.adaptation.period.mpd.manifest.Period_asArray[I.adaptation.period.index].AdaptationSet_asArray[I.adaptation.index].Representation_asArray[I.index].SegmentList).SegmentTimeline,ue=0,he=0,Ce=0;for(ce=I.timescale,re=(Z=$.S_asArray).length,x=0;x<re;x++)for(te=0,(z=Z[x]).hasOwnProperty("r")&&(te=z.r),z.hasOwnProperty("t")&&(he=(ue=z.t)/ce),te<0&&(te=d(I,Z[x+1],z,ce,he)),k=0;k<=te;k++)Ce++,he=(ue+=z.d)/ce;return{numberOfSegments:Ce,mediaTimeOfLastSignaledSegment:he}}}}i.__dashjs_factory_name="TimelineSegmentsGetter";var E=j.Z.getClassFactory(i);Y.Z=E},2011:function(U,Y){Y.Z=function v(){(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(U,Y){Y.Z=function v(){(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.schemeIdUri="",this.value=""}},1139:function(U,Y,v){v.d(Y,{Z:function(){return Nv}});var j=v(452),A=v.n(j),o=v(3393),i=v(1553),E=v(3860),_=v(5595),f=v(8512),R=v(5448),m=v(6398),r=v(8825);function u(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve,S,q,B,G=this.context,O=(0,_.Z)(G).getInstance();function de(){V(),K=!1,J=0,Q=0,ye=0,S=!1,Te=!0,X=!1,q=!1,ge=NaN,fe=NaN,w&&(O.off(f.Z.DATA_UPDATE_COMPLETED,Xe,g),O.off(f.Z.LOADING_PROGRESS,zt,g),O.off(f.Z.MANIFEST_UPDATED,ct,g),O.off(f.Z.STREAMS_COMPOSED,_e,g),O.off(r.Z.PLAYBACK_ENDED,ht,g),O.off(r.Z.STREAM_INITIALIZING,Qe,g),O.off(r.Z.REPRESENTATION_SWITCH,Ue,g),O.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,pt,g),mt(),w.removeEventListener("canplay",Tt),w.removeEventListener("canplaythrough",_t),w.removeEventListener("play",Kt),w.removeEventListener("waiting",Vt),w.removeEventListener("playing",pn),w.removeEventListener("pause",yn),w.removeEventListener("error",kt),w.removeEventListener("seeking",We),w.removeEventListener("seeked",vt),w.removeEventListener("timeupdate",st),w.removeEventListener("progress",It),w.removeEventListener("ratechange",Pt),w.removeEventListener("loadedmetadata",Xt),w.removeEventListener("loadeddata",Wt),w.removeEventListener("stalled",Qt),w.removeEventListener("ended",Jt),w.removeEventListener("volumechange",sn)),H=null,w=null,F=null,W=null}function ie(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((pe(Ie)-Oe()).toFixed(5))}function pe(Ie){var et=Ie||F;return et.start+et.duration}function se(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];F&&w&&w.getElement()?(Ie&&W&&Ze(Oe()),w.play()):K=!0}function V(){F&&w&&w.pause()}function le(Ie){var et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(F&&w&&w.getElement()){var vn=isNaN(ge)?w.getTime():ge;Ie!==vn&&((ee=Nt===!0)||(ge=Ie),c.info("Requesting seek to time: "+Ie+(ee?" (internal)":"")),W&&Lt&&Ze(Ie),w.setCurrentTime(Ie,et))}}function Ae(){if(F&&w&&W){var Ie=h&&h.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,et=P.getCurrentDVRInfo(Ie);return et&&et.range?et.range.end:0}}function Ze(Ie){var et=new Date(L.getClientReferenceTime()),Nt=M.getRegularPeriods()[0],Lt=L.calcPresentationTimeFromWallTime(et,Nt);J=Lt-Ie}function Oe(){return F&&w?w.getTime():null}function Be(){return F&&w?w.isPaused():null}function ke(){return F&&w?w.isSeeking():null}function lt(){return F&&w?w.isStalled():null}function ut(){return F&&w?w.getPlaybackRate():null}function rt(){return F&&w?w.getEnded():null}function it(){return W}function Ut(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!Be()&&W&&w.getReadyState()!==0&&!ke()&&!S){Ie||(Ie=h.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO);var et=Oe(),Nt=De(et,Ie),Lt=!isNaN(Nt)&&Nt!==et;Lt&&!ke()&&(lt()||ve||w.getReadyState()===1)&&(c.debug("UpdateCurrentTime: Seek to actual time: ".concat(Nt," from currentTime: ").concat(et)),le(Nt,!1,!1))}}function De(Ie,et){var Nt=P.getCurrentDVRInfo(et),Lt=Nt?Nt.range:null;return Lt?Ie>Lt.end?Math.max(Lt.end-J,Lt.start):Ie>0&&Ie+.25<Lt.start&&Math.abs(Ie-Lt.start)<31536e4?X?Math.max(Lt.end-J,Lt.start):Lt.start:Ie:NaN}function ze(){H===null&&(H=setInterval(function(){(function(){if(O.trigger(f.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:W,time:new Date}),it()){var Ie=Date.now();(isNaN(fe)||Ie>fe+B.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(h.addDVRMetric(),Be()?function(){var et=Date.now();(!Ee||et>Ee+500)&&(Ee=et,st())}():Ut(),fe=Ie)}})()},B.get().streaming.wallclockTimeUpdateInterval))}function mt(){clearInterval(H),H=null}function Xe(Ie){var et=M.convertRepresentationToRepresentationInfo(Ie.currentRepresentation),Nt=et?et.mediaInfo.streamInfo:null;Nt!==null&&F.id===Nt.id&&(F=Nt)}function Tt(){O.trigger(f.Z.CAN_PLAY)}function _t(){O.trigger(f.Z.CAN_PLAY_THROUGH)}function pt(Ie){Ie.streamId===h.getActiveStreamInfo().id&&(ve=Ie.state===E.Z.BUFFER_EMPTY,B.get().streaming.buffer.setStallState&&w.setStallState(Ie.mediaType,Ie.state===E.Z.BUFFER_EMPTY))}function Kt(){c.info("Native video element event: play"),Ut(),ze(),O.trigger(f.Z.PLAYBACK_STARTED,{startTime:Oe()})}function Vt(){c.info("Native video element event: waiting"),O.trigger(f.Z.PLAYBACK_WAITING,{playingTime:Oe()})}function pn(){c.info("Native video element event: playing"),ee=!1,O.trigger(f.Z.PLAYBACK_PLAYING,{playingTime:Oe()})}function yn(){c.info("Native video element event: pause"),O.trigger(f.Z.PLAYBACK_PAUSED,{ended:rt()})}function We(){if(!ee){var Ie=Oe();isNaN(ge)||ge===Ie||(Ie=ge),ge=NaN,c.info("Seeking to: "+Ie),ze(),O.trigger(f.Z.PLAYBACK_SEEKING,{seekTime:Ie,streamId:F.id})}}function vt(){c.info("Native video element event: seeked"),ee=!1,O.trigger(f.Z.PLAYBACK_SEEKED)}function st(){F&&O.trigger(f.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ie(),time:Oe(),streamId:F.id})}function It(){O.trigger(f.Z.PLAYBACK_PROGRESS,{streamId:F.id})}function Pt(){var Ie=ut();c.info("Native video element event: ratechange: ",Ie),O.trigger(f.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ie})}function Xt(){c.info("Native video element event: loadedmetadata"),O.trigger(f.Z.PLAYBACK_METADATA_LOADED),ze()}function Wt(){c.info("Native video element event: loadeddata"),O.trigger(f.Z.PLAYBACK_LOADED_DATA)}function Jt(){c.info("Native video element event: ended"),V(),mt();var Ie=h?h.getActiveStreamInfo():null;Ie&&O.trigger(f.Z.PLAYBACK_ENDED,{isLast:Ie.isLast})}function sn(){O.trigger(f.Z.PLAYBACK_VOLUME_CHANGED)}function ht(Ie){if(H&&Ie.isLast){c.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var et=Ie.seekTime?Ie.seekTime:pe();w.setCurrentTime(et),V(),mt()}}function kt(Ie){var et=Ie.target||Ie.srcElement;O.trigger(f.Z.PLAYBACK_ERROR,{error:et.error})}function jt(){W=!1}function zt(Ie){if(Ie.stream===!1&&X&&!isNaN(Ie.request.duration)){var et=1.2*Ie.request.duration;et>J&&(c.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",et.toFixed(2)),J=et,Q=et)}}function Qt(Ie){O.trigger(f.Z.PLAYBACK_STALLED,{e:Ie})}function Qe(Ie){var et;(et=Ie.mediaInfo)&&et.supplementalProperties&&et.supplementalProperties[o.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&et.supplementalProperties[o.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME].value==="true"&&(c.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),X=!0)}function Ue(Ie){var et=h.getActiveStreamInfo();Ie&&et&&Ie.currentRepresentation&&Ie.streamId&&Ie.streamId===et.id&&Ie.mediaType&&(Ie.mediaType===o.Z.VIDEO||Ie.mediaType===o.Z.AUDIO)&&(Te=Ie.currentRepresentation.availabilityTimeComplete,(X=!Te)&&!q&&(q=!0))}function ct(){S=!0}function _e(){S=!1}return g={initialize:function(Ie,et){F=Ie,et!==!0&&(w.addEventListener("canplay",Tt),w.addEventListener("canplaythrough",_t),w.addEventListener("play",Kt),w.addEventListener("waiting",Vt),w.addEventListener("playing",pn),w.addEventListener("pause",yn),w.addEventListener("error",kt),w.addEventListener("seeking",We),w.addEventListener("seeked",vt),w.addEventListener("timeupdate",st),w.addEventListener("progress",It),w.addEventListener("ratechange",Pt),w.addEventListener("loadedmetadata",Xt),w.addEventListener("loadeddata",Wt),w.addEventListener("stalled",Qt),w.addEventListener("ended",Jt),w.addEventListener("volumechange",sn),W=F.manifestInfo.isDynamic,ve=!1,ee=!1,O.on(f.Z.DATA_UPDATE_COMPLETED,Xe,g),O.on(f.Z.LOADING_PROGRESS,zt,g),O.on(f.Z.MANIFEST_UPDATED,ct,g),O.on(f.Z.STREAMS_COMPOSED,_e,g),O.on(r.Z.PLAYBACK_ENDED,ht,g,{priority:_.Z.EVENT_PRIORITY_HIGH}),O.on(r.Z.STREAM_INITIALIZING,Qe,g),O.on(r.Z.REPRESENTATION_SWITCH,Ue,g),O.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,pt,g),O.on(r.Z.DYNAMIC_TO_STATIC,jt,g),K&&(K=!1,se()))},setConfig:function(Ie){Ie&&(Ie.streamController&&(h=Ie.streamController),Ie.serviceDescriptionController&&(b=Ie.serviceDescriptionController),Ie.dashMetrics&&(P=Ie.dashMetrics),Ie.adapter&&(M=Ie.adapter),Ie.videoModel&&(w=Ie.videoModel),Ie.timelineConverter&&(L=Ie.timelineConverter),Ie.settings&&(B=Ie.settings))},getTimeToStreamEnd:ie,getBufferLevel:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,et=null;return h.getActiveStreamProcessors().forEach(function(Nt){if(!Ie||Ie.length===0||Ie.indexOf(Nt.getType())===-1){var Lt=Nt.getBufferLevel();et=et===null?Lt:Math.min(et,Lt)}}),et},getPlaybackStalled:function(){return ve},getTime:Oe,getLowLatencyModeEnabled:function(){return X},getInitialCatchupModeActivated:function(){return q},getIsManifestUpdateInProgress:function(){return S},getPlaybackRate:ut,getPlayedRanges:function(){return F&&w?w.getPlayedRanges():null},getEnded:rt,getIsDynamic:it,getStreamController:function(){return h},computeAndSetLiveDelay:function(Ie,et){var Nt,Lt,vn,xn=!isNaN(Ie)&&isFinite(Ie)?Ie:NaN,rr=M.getSuggestedPresentationDelay(),Ln=b.getServiceDescriptionSettings();return Nt=isNaN(B.get().streaming.delay.liveDelay)?B.get().streaming.delay.liveDelayFragmentCount===null||isNaN(B.get().streaming.delay.liveDelayFragmentCount)||isNaN(xn)?Ln&&!isNaN(Ln.liveDelay)&&Ln.liveDelay>0?Ln.liveDelay:B.get().streaming.delay.useSuggestedPresentationDelay===!0&&rr!==null&&!isNaN(rr)&&rr>0?rr:isNaN(xn)?et&&!isNaN(et.minBufferTime)?4*et.minBufferTime:4*F.manifestInfo.minBufferTime:4*xn:xn*B.get().streaming.delay.liveDelayFragmentCount:B.get().streaming.delay.liveDelay,(vn=M.getAvailabilityStartTime())!==null&&(ye=vn),Lt=et&&et.dvrWindowSize>0?Math.min(Nt,et.dvrWindowSize):Nt,J=Lt,Q=Lt,Lt},getLiveDelay:function(){return J},getOriginalLiveDelay:function(){return Q},getCurrentLiveLatency:function(){if(!W||isNaN(ye))return NaN;var Ie=Oe();if(isNaN(Ie)||Ie===0)return 0;var et=new Date().getTime()+1e3*L.getClientTimeOffset();return Math.max(((et-ye-1e3*Ie)/1e3).toFixed(3),0)},play:se,isPaused:Be,isStalled:lt,pause:V,isSeeking:ke,getStreamEndTime:pe,seek:le,seekToOriginalLive:function(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0],et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=Ae();if(Lt!==0){var vn=Lt-(J=Q);le(vn,Ie,et,Nt)}},seekToCurrentLive:function(){var Ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0],et=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=Ae();if(Lt!==0){var vn=Lt-J;le(vn,Ie,et,Nt)}},reset:de,updateCurrentTime:Ut,getAvailabilityStartTime:function(){return ye}},c=(0,m.Z)(G).getInstance().getLogger(g),de(),g}u.__dashjs_factory_name="PlaybackController";var d=R.Z.getSingletonFactory(u),I=v(3186),Z="loading",z="executed",x="failed";function re(g){var c,h,b,P,M=(g=g||{}).eventBus,w=g.events,L=g.dashMetrics,H=g.fragmentLoader,J=g.debug,Q=g.streamInfo,F=g.type;function W(S){var q;return!!S&&(q=!1,b.some(function(B){if(G=S,O=B,!isNaN(G.index)&&G.startTime===O.startTime&&G.adaptationIndex===O.adaptationIndex&&G.type===O.type||function(de,ie){return isNaN(de.index)&&isNaN(ie.index)&&de.quality===ie.quality}(S,B)||function(de,ie){return de.action===I.Z.ACTION_COMPLETE&&de.action===ie.action}(S,B))return q=!0;var G,O}),q)}function K(S){return isNaN(S.duration)?.25:Math.min(S.duration/8,.5)}function Ee(S){b=b.filter(function(q){var B=K(q);return isNaN(q.startTime)||S!==void 0&&q.startTime>=S-B})}function fe(S,q){q<=S+.5||(b=b.filter(function(B){var G=K(B);return isNaN(B.startTime)||B.startTime>=q-G||isNaN(B.duration)||B.startTime+B.duration<=S+G}))}function ye(S,q,B){for(var G=S.length-1;G>=0;G--){var O=S[G],de=O.startTime,ie=de+O.duration;if(B=isNaN(B)?K(O):B,!isNaN(de)&&!isNaN(ie)&&q+B>=de&&q-B<ie||isNaN(de)&&isNaN(q))return O}return null}function Te(S,q){L.addSchedulingInfo(S,q),L.addRequestsQueue(S.mediaType,P,b)}function X(S){S.sender===H&&(P.splice(P.indexOf(S.request),1),S.response&&!S.error&&b.push(S.request),Te(S.request,S.error?x:z),M.trigger(w.FRAGMENT_LOADING_COMPLETED,{request:S.request,response:S.response,error:S.error,sender:this},{streamId:Q.id,mediaType:F}))}function ge(S){S.sender===H&&M.trigger(w.FRAGMENT_LOADING_PROGRESS,{request:S.request,response:S.response,error:S.error,sender:this},{streamId:Q.id,mediaType:F})}function ee(S){S.sender===H&&M.trigger(w.FRAGMENT_LOADING_ABANDONED,{request:S.request},{streamId:Q.id,mediaType:F})}function ve(){b=[],P=[]}return c={getStreamId:function(){return Q.id},getType:function(){return F},getRequests:function(S){var q=S?S.state instanceof Array?S.state:[S.state]:[],B=[];return q.forEach(function(G){var O=function(de){var ie;switch(de){case Z:ie=P;break;case z:ie=b;break;default:ie=[]}return ie}(G);B=B.concat(function(de,ie){return ie.hasOwnProperty("time")?[ye(de,ie.time,ie.threshold)]:de.filter(function(pe){for(var se in ie)if(se!=="state"&&ie.hasOwnProperty(se)&&pe[se]!=ie[se])return!1;return!0})}(O,S))}),B},isFragmentLoaded:W,isFragmentLoadedOrPending:function(S){var q,B=!1,G=0;if(!(B=W(S)))for(G=0;G<P.length;G++)q=P[G],S.url===q.url&&S.startTime===q.startTime&&(B=!0);return B},removeExecutedRequestsBeforeTime:Ee,removeExecutedRequestsAfterTime:function(S){b=b.filter(function(q){return isNaN(q.startTime)||S!==void 0&&q.startTime<S})},syncExecutedRequestsWithBufferedRange:function(S,q){if(S&&S.length!==0){for(var B=0,G=0,O=S.length;G<O;G++)fe(B,S.start(G)),B=S.end(G);q>0&&fe(B,q)}else Ee()},abortRequests:function(){h.debug("abort requests"),H.abort(),P=[]},executeRequest:function(S){S.action===I.Z.ACTION_DOWNLOAD?(Te(S,Z),P.push(S),function(q){M.trigger(w.FRAGMENT_LOADING_STARTED,{request:q},{streamId:Q.id,mediaType:F}),H.load(q)}(S)):h.warn("Unknown request action.")},reset:function(){M.off(w.LOADING_COMPLETED,X,this),M.off(w.LOADING_DATA_PROGRESS,ge,this),M.off(w.LOADING_ABANDONED,ee,this),H&&H.reset(),ve()},resetInitialSettings:ve,addExecutedRequest:function(S){b.push(S)}},h=J.getLogger(c),ve(),M.on(w.LOADING_COMPLETED,X,c),M.on(w.LOADING_DATA_PROGRESS,ge,c),M.on(w.LOADING_ABANDONED,ee,c),c}re.__dashjs_factory_name="FragmentModel";var k=R.Z.getClassFactory(re);k.FRAGMENT_MODEL_LOADING=Z,k.FRAGMENT_MODEL_EXECUTED=z,k.FRAGMENT_MODEL_CANCELED="canceled",k.FRAGMENT_MODEL_FAILED=x,R.Z.updateClassFactory(re.__dashjs_factory_name,k);var te=k,ce=v(5459);function $(g){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$(g)}function ue(g,c){return ue=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},ue(g,c)}function he(g,c){return!c||$(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ce(g){return Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ce(g)}var oe=new(function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&ue(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ce(c);if(h){var L=Ce(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return he(this,M)});function P(){var M;return function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}(this,P),(M=b.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,M.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,M.SEGMENT_BASE_LOADER_ERROR_CODE=15,M.TIME_SYNC_FAILED_ERROR_CODE=16,M.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,M.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,M.APPEND_ERROR_CODE=20,M.REMOVE_ERROR_CODE=21,M.DATA_UPDATE_FAILED_ERROR_CODE=22,M.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,M.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,M.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,M.DOWNLOAD_ERROR_ID_SIDX_CODE=26,M.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,M.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,M.DOWNLOAD_ERROR_ID_XLINK_CODE=29,M.MANIFEST_ERROR_ID_PARSE_CODE=31,M.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,M.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,M.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,M.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",M.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",M.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",M.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",M.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",M.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",M.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",M.APPEND_ERROR_MESSAGE="chunk is not defined",M.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",M.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",M.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",M.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",M.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",M.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",M}return P}(v(2230).Z)),be=v(1264),Pe=v(7855);function Ne(g){var c,h,b,P,M,w,L=this.context,H=(0,be.Z)(L).getInstance(),J=g.textController,Q=g.eventBus,F=[],W=[],K=!1,Ee=g.mediaSource,fe=null;function ye(O){return new Promise(function(de){G(function(){P.changeType&&P.changeType(O),de()})})}function Te(O){return P=J.getTextSourceBuffer(O),Promise.resolve()}function X(){if(typeof P.addEventListener=="function")try{P.addEventListener("updateend",q,!1),P.addEventListener("error",B,!1),P.addEventListener("abort",B,!1)}catch{w=setInterval(q,50)}else w=setInterval(q,50)}function ge(O){return new Promise(function(de){P&&H.get().streaming.buffer.useAppendWindow?G(function(){try{if(!P)return void de();var ie=Ee.duration,pe=0;O&&!isNaN(O.start)&&!isNaN(O.duration)&&isFinite(O.duration)&&(ie=O.start+O.duration),O&&!isNaN(O.start)&&(pe=O.start),P.appendWindowEnd===ie&&P.appendWindowStart===pe||(P.appendWindowStart=0,P.appendWindowEnd=ie+.01,P.appendWindowStart=Math.max(pe-.1,0),b.debug("Updated append window for ".concat(M.type,". Set start to ").concat(P.appendWindowStart," and end to ").concat(P.appendWindowEnd))),de()}catch{b.warn("Failed to set append window"),de()}}):de()})}function ee(O){return new Promise(function(de){P?G(function(){try{P.timestampOffset===O||isNaN(O)||(P.timestampOffset=O,b.debug("Set MSE timestamp offset to ".concat(O))),de()}catch{de()}}):de()})}function ve(){if(!K&&W.length>0){K=!0;var O=W[0];W.splice(0,1);var de=function(){K=!1,W.length>0&&ve.call(this),O&&O.data&&O.data.segmentType&&O.data.segmentType!==Pe.w.INIT_SEGMENT_TYPE&&delete O.data.bytes,O.promise.resolve({chunk:O.data})};try{fe=O.request,O.data.bytes.byteLength===0?de.call(this):(P.appendBuffer?P.appendBuffer(O.data.bytes):P.append(O.data.bytes,O.data),G(de.bind(this)))}catch(ie){b.fatal('SourceBuffer append failed "'+ie+'"'),W.length>0?ve():K=!1,delete O.data.bytes,O.promise.reject({chunk:O.data,error:new ce.Z(ie.code,ie.message)})}}}function S(){F.length>0&&(P.updating||(F.shift()(),S()))}function q(){P.updating||S()}function B(O){var de,ie,pe=O.target||{};de=f.Z.SOURCE_BUFFER_ERROR,ie={error:pe,lastRequestAppended:fe},Q.trigger(de,ie,{streamId:M.streamInfo.id,mediaType:h})}function G(O){F.push(O),P.updating||S()}return c={getType:function(){return h},getAllBufferRanges:function(){try{return P.buffered}catch(O){return b.error("getAllBufferRanges exception: "+O.message),null}},getBuffer:function(){return P},append:function(O){var de=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(pe,se){O?(W.push({data:O,promise:{resolve:pe,reject:se},request:ie}),G(ve.bind(de))):se({chunk:O,error:new ce.Z(oe.APPEND_ERROR_CODE,oe.APPEND_ERROR_MESSAGE)})})},remove:function(O){return new Promise(function(de,ie){var pe=O.start,se=O.end;pe>=0&&se>pe?G(function(){try{P.remove(pe,se),G(function(){de({from:pe,to:se,unintended:!1}),O.resolve&&O.resolve()})}catch(V){ie({from:pe,to:se,unintended:!1,error:new ce.Z(oe.REMOVE_ERROR_CODE,oe.REMOVE_ERROR_MESSAGE)}),O.reject&&O.reject(V)}}):de()})},abort:function(){return new Promise(function(O){try{W=[],Ee.readyState==="open"?G(function(){try{P&&P.abort(),O()}catch{O()}}):(P&&P.setTextTrack&&Ee.readyState==="ended"&&P.abort(),O())}catch{O()}})},reset:function(){if(P){try{F=[],function(){try{typeof P.removeEventListener=="function"&&(P.removeEventListener("updateend",q,!1),P.removeEventListener("error",B,!1),P.removeEventListener("abort",B,!1)),clearInterval(w)}catch(O){b.error(O)}}(),K=!1,W=[],P.getClassName&&P.getClassName()==="TextSourceBuffer"||(b.debug("Removing sourcebuffer from media source"),Ee.removeSourceBuffer(P))}catch{}P=null}fe=null},updateTimestampOffset:ee,initializeForStreamSwitch:function(O,de,ie){h=(M=O).type;var pe=M.codec;(function(V){P=V.getBuffer()})(ie),X();var se=[];return se.push(new Promise(function(V){G(function(){var le=P.appendWindowStart,Ae=P.appendWindowEnd;P&&(P.abort(),P.appendWindowStart=le,P.appendWindowEnd=Ae),V()})})),se.push(ge(M.streamInfo)),H.get().streaming.buffer.useChangeTypeForTrackSwitch&&se.push(ye(pe)),de&&de.MSETimeOffset!==void 0&&se.push(ee(de.MSETimeOffset)),Promise.all(se)},initializeForFirstUse:function(O,de,ie){h=(M=de).type;var pe=M.codec;try{if(pe.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Te(O);P=Ee.addSourceBuffer(pe),X();var se=[];return se.push(ge(M.streamInfo)),ie&&ie.MSETimeOffset!==void 0&&se.push(ee(ie.MSETimeOffset)),Promise.all(se)}catch(V){return M.type==o.Z.TEXT&&!M.isFragmented||pe.indexOf('codecs="stpp')!==-1||pe.indexOf('codecs="vtt')!==-1||pe.indexOf("text/vtt")!==-1?Te(O):Promise.reject(V)}},updateAppendWindow:ge,changeType:ye},b=(0,m.Z)(L).getInstance().getLogger(c),c}Ne.__dashjs_factory_name="SourceBufferSink";var me=R.Z.getClassFactory(Ne);function Le(g){var c,h,b,P=this.context,M=[],w=g;function L(H,J){return M=M.filter(function(Q){return!((isNaN(J)||Q.start<J)&&(isNaN(H)||Q.end>H))}),Promise.resolve()}return c={getAllBufferRanges:function(){for(var H=[],J=0;J<M.length;J++){var Q=M[J];H.length===0||Q.start>H[H.length-1].end?H.push({start:Q.start,end:Q.end}):H[H.length-1].end=Q.end}var F={start:function(W){return H[W].start},end:function(W){return H[W].end}};return Object.defineProperty(F,"length",{get:function(){return H.length}}),F},append:function(H){return H.segmentType!=="InitializationSegment"?(M.push(H),M.sort(function(J,Q){return J.start-Q.start}),b=null):b=H,h.debug("PreBufferSink appended chunk s: "+H.start+"; e: "+H.end),w&&w({chunk:H}),Promise.resolve()},remove:L,abort:function(){return Promise.resolve()},discharge:function(H,J){var Q=function(F,W){return M.filter(function(K){return(isNaN(W)||K.start<W)&&(isNaN(F)||K.end>F)})}(H,J);return b&&(Q.push(b),b=null),L(H,J),Q},reset:function(){M=[],b=null,w=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(H){H()},getBuffer:function(){return this}},h=(0,m.Z)(P).getInstance().getLogger(c),c}Le.__dashjs_factory_name="PreBufferSink";var qe=R.Z.getClassFactory(Le);function $e(){var g={};return{save:function(c){var h=c.streamId,b=c.representationId;g[h]=g[h]||{},g[h][b]=c},extract:function(c,h){return g&&g[c]&&g[c][h]?g[c][h]:null},reset:function(){g={}}}}$e.__dashjs_factory_name="InitCache";var Re=R.Z.getSingletonFactory($e),Fe=.01,Et="BufferController";function gt(g){g=g||{};var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve,S=this.context,q=(0,_.Z)(S).getInstance(),B=g.errHandler,G=g.fragmentModel,O=g.representationController,de=g.adapter,ie=g.textController,pe=g.abrController,se=g.playbackController,V=g.streamInfo,le=g.type,Ae=g.settings;function Ze(Ue){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(_e,Ie){w=Ue,J&&ct&&typeof J.discharge=="function"?(Q=J,Be(ct).then(function(){_e()}).catch(function(et){Ie(et)})):_e()})}function Oe(Ue){return de.convertRepresentationToRepresentationInfo(O.getRepresentationForQuality(Ue))}function Be(Ue){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(_e,Ie){X&&Ue?w?(F=!1,lt(Ue,ct).then(function(et){_e(et)}).catch(function(et){Ie(et)})):(F=!0,ke().then(function(et){_e(et)}).catch(function(et){Ie(et)})):_e(null)})}function ke(){var Ue=this;return new Promise(function(ct,_e){var Ie=pe.getQualityFor(le,V.id);J=qe(S).create(De.bind(Ue)),Xt(Oe(Ie)).then(function(){ct(J)}).catch(function(){_e()})})}function lt(Ue,ct){return new Promise(function(_e,Ie){var et=pe.getQualityFor(le,V.id);J=me(S).create({mediaSource:w,textController:ie,eventBus:q}),function(Nt,Lt,vn){var xn=Oe(vn);return Lt&&Lt[le]&&(le===o.Z.VIDEO||le===o.Z.AUDIO)?J.initializeForStreamSwitch(Nt,xn,Lt[le]):J.initializeForFirstUse(V,Nt,xn)}(Ue,ct,et).then(function(){return Xt(Oe(et))}).then(function(){_e(J)}).catch(function(Nt){h.fatal("Caught error on create SourceBuffer: "+Nt),B.error(new ce.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+le)),Ie(Nt)})})}function ut(Ue){Ae.get().streaming.cacheInitSegments&&(h.info("Init fragment finished loading saving to",le+"'s init cache"),X.save(Ue.chunk)),h.debug("Append Init fragment",le," with representationId:",Ue.chunk.representationId," and quality:",Ue.chunk.quality,", data size:",Ue.chunk.bytes.byteLength),it(Ue.chunk)}function rt(Ue){it(Ue.chunk,Ue.request)}function it(Ue){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;J&&(J.append(Ue,ct).then(function(_e){De(_e)}).catch(function(_e){De(_e)}),Ue.mediaInfo.type===o.Z.VIDEO&&Qt(f.Z.VIDEO_CHUNK_RECEIVED,{chunk:Ue}))}function Ut(Ue){if(Ue&&Ue.length>0)for(var ct=0,_e=Ue.length;ct<_e;ct++)h.debug("Buffered range: "+Ue.start(ct)+" - "+Ue.end(ct)+", currentTime = ",se.getTime())}function De(Ue){if(Ue.error)return Ue.error.code===22&&function(){if(Te=!0,M=.8*kt(),h.warn("Quota exceeded, Critical Buffer: "+M),M>0){var Ie=Math.max(.2*M,1),et=M-Ie,Nt=Math.min(Ae.get().streaming.buffer.bufferTimeAtTopQuality,.9*et),Lt=Math.min(Ae.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*et),vn={streaming:{buffer:{bufferToKeep:parseFloat(Ie.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Nt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Lt.toFixed(5))}}};Ae.update(vn)}}(),void(Ue.error.code!==22&&zt()||(h.warn("Clearing playback buffer to overcome quota exceed situation"),Qt(f.Z.QUOTA_EXCEEDED,{criticalBufferLevel:M,quotaExceededTime:Ue.chunk.start}),st(vt())));if(J&&(Kt(),Te=!1,(Ee=Ue.chunk)&&Ee.endFragment)){Ee&&!isNaN(Ee.index)&&(L=Math.max(Ee.index,L),Vt());var ct=J.getAllBufferRanges();Ee.segmentType===Pe.w.MEDIA_SEGMENT_TYPE&&(Ut(ct),Xe(),function(){if(!isNaN(ve)&&!F)if(le===o.Z.AUDIO||le===o.Z.VIDEO){var Ie=se.getTime(),et=pt(Ie,0),Nt=pt(ve,0);if(et&&Nt&&et.start===Nt.start)ve=NaN;else{var Lt=O.getCurrentRepresentation().segmentDuration,vn=pt(ve,Lt);vn&&(Ae.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ie-ve)>Lt?ve<=vn.end&&se.seek(Math.max(ve,vn.start),!1,!0):Ie<vn.start&&se.seek(vn.start,!1,!0))}}else ve=NaN}());var _e=!1;W&&(W.indexOf(Ee)>0&&(_e=!0),W=null),Ee&&!_e&&Qt(f.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Ee.quality,startTime:Ee.start,index:Ee.index,bufferedRanges:ct,segmentType:Ee.segmentType,mediaType:le})}}function ze(){return new Promise(function(Ue,ct){var _e=mt();if(!_e||_e.length===0)return Xe(),void Ue();st(_e).then(function(){Ue()}).catch(function(Ie){ct(Ie)})})}function mt(Ue){var ct=[],_e=J.getAllBufferRanges();if(!_e||_e.length===0)return ct;if(!Ue&&Ue!==0||isNaN(Ue))ct.push({start:_e.start(0),end:_e.end(_e.length-1)+.5});else{var Ie=function(Nt,Lt){var vn=Ae.get().streaming.buffer.bufferToKeep,xn=Lt.start(0);if(Nt-xn>vn){var rr=Math.max(0,Nt-vn),Ln=G.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Fe})[0];if(Ln&&(rr=Math.min(Ln.startTime,rr)),rr>0)return{start:xn,end:rr}}return null}(Ue,_e),et=function(Nt,Lt){var vn=Lt.end(Lt.length-1)+.5,xn=jt(Nt),rr=V.manifestInfo.duration>=Ae.get().streaming.buffer.longFormContentDurationThreshold?Ae.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Ae.get().streaming.buffer.bufferTimeAtTopQuality,Ln=isNaN(xn)?Nt:Math.min(xn,Nt+rr);if(Ln>=Lt.end(Lt.length-1))return null;var Or=G.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Fe})[0];if(Or&&(Ln=Math.max(Or.startTime+Or.duration,Ln)),Ae.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var lr=0;lr<Lt.length;lr++)if(Lt.start(lr)<=Nt&&Nt<=Lt.end(lr)&&Lt.start(lr)<=Ln&&Ln<=Lt.end(lr)){var Zi=Ln;Ln=lr+1<Lt.length?Lt.start(lr+1):Lt.end(lr)+1,h.debug("Buffered range ["+Lt.start(lr)+", "+Lt.end(lr)+"] overlaps with targetTime "+Nt+" and range to be pruned ["+Zi+", "+vn+"], using ["+Ln+", "+vn+"] instead"+(Ln<vn?"":" (no actual pruning)"));break}}return Ln<Lt.end(Lt.length-1)?{start:Ln,end:vn}:null}(Ue,_e);Ie&&ct.push(Ie),et&&ct.push(et)}return ct}function Xe(){(!ee||le===o.Z.TEXT&&ie.isTextEnabled())&&Kt()}function Tt(){pn()}function _t(){pn(),ve=NaN}function pt(Ue,ct){if(!J)return null;var _e,Ie,et=J.getAllBufferRanges(),Nt=0,Lt=0,vn=null,xn=null,rr=0,Ln=isNaN(ct)?.15:ct;if(et!=null){for(Ie=0,_e=et.length;Ie<_e;Ie++)if(Nt=et.start(Ie),Lt=et.end(Ie),vn===null)rr=Math.abs(Nt-Ue),(Ue>=Nt&&Ue<Lt||rr<=Ln)&&(vn=Nt,xn=Lt);else{if(!((rr=Nt-xn)<=Ln))break;xn=Lt}if(vn!==null)return{start:vn,end:xn}}return null}function Kt(){if(se){var Ue=se.getTime()||0;F&&(Ue=isNaN(ve)?0:ve);var ct=Ae.get().streaming.gaps.jumpGaps&&!isNaN(Ae.get().streaming.gaps.smallGapLimit)?Ae.get().streaming.gaps.smallGapLimit:NaN;P=Math.max(function(_e,Ie){var et;return Ae.get().streaming.gaps.jumpGaps&&(Ie=Ae.get().streaming.gaps.smallGapLimit),(et=pt(_e,Ie))===null?0:et.end-_e}(Ue,ct),0),Qt(f.Z.BUFFER_LEVEL_UPDATED,{mediaType:le,bufferLevel:P}),pn()}}function Vt(){var Ue=L>=H-1,ct=se.getTimeToStreamEnd(V)-P<1e-5;!Ue&&!ct||b||(ht(!0),h.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(V.id," and type ").concat(le)))}function pn(){le!==o.Z.AUDIO&&le!==o.Z.VIDEO||((!se.getLowLatencyModeEnabled()&&P<Ae.get().streaming.buffer.stallThreshold||P===0)&&!b?yn(E.Z.BUFFER_EMPTY):(b||P>=Ae.get().streaming.buffer.stallThreshold||se.getLowLatencyModeEnabled()&&P>0)&&yn(E.Z.BUFFER_LOADED))}function yn(Ue){K===Ue||Ue===E.Z.BUFFER_EMPTY&&se.getTime()===0||le===o.Z.TEXT&&!ie.isTextEnabled()||(K=Ue,Qt(f.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Ue}),Qt(Ue===E.Z.BUFFER_LOADED?f.Z.BUFFER_LOADED:f.Z.BUFFER_EMPTY),h.debug(Ue===E.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function We(){J&&le!==o.Z.TEXT&&(b||st(vt()))}function vt(){var Ue=[],ct=J.getAllBufferRanges();if(!ct||ct.length===0)return Ue;var _e=se.getTime(),Ie=Math.max(0,_e-Ae.get().streaming.buffer.bufferToKeep),et=G.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:_e,threshold:Fe})[0];if(et)Ie=Math.min(et.startTime,Ie);else if(_e===0&&se.getIsDynamic())return[];if(ct.start(0)<=Ie){for(var Nt={start:0,end:Ie},Lt=0;Lt<ct.length&&ct.end(Lt)<=Ie;Lt++)Nt.end=ct.end(Lt);Nt.start<Nt.end&&Ue.push(Nt)}return Ue}function st(Ue){return new Promise(function(ct,_e){if(Ue&&J&&Ue.length!==0){var Ie=[];Ue.forEach(function(et){Ie.push(function(Nt){return new Promise(function(Lt,vn){Nt.resolve=Lt,Nt.reject=vn,ge.push(Nt)})}(et))}),ye||It(),Promise.all(Ie).then(function(){ct()}).catch(function(et){_e(et)})}else ct()})}function It(){try{if(ge.length===0||!J)return h.debug("Nothing to prune, halt pruning"),ge=[],void(ye=!1);var Ue=J.getBuffer();if(!Ue||!Ue.buffered||Ue.buffered.length===0)return h.debug("SourceBuffer is empty (or does not exist), halt pruning"),ge=[],void(ye=!1);var ct=ge.shift();h.debug("".concat(le,": Removing buffer from: ").concat(ct.start," to ").concat(ct.end)),ye=!0,se.getTime()<ct.end&&ht(!1),J.remove(ct).then(function(_e){Pt(_e)}).catch(function(_e){Pt(_e)})}catch{ye=!1}}function Pt(Ue){h.debug("onRemoved buffer from:",Ue.from,"to",Ue.to),J&&(Ut(J.getAllBufferRanges()),ge.length===0&&(ye=!1,Kt()),Ue.unintended&&(h.warn("Detected unintended removal from:",Ue.from,"to",Ue.to,"setting streamprocessor time to",Ue.from),Qt(f.Z.SEEK_TARGET,{time:Ue.from})),ye?It():(ee?ee=!1:Kt(),Qt(f.Z.BUFFER_CLEARED,{from:Ue.from,to:Ue.to,unintended:Ue.unintended,hasEnoughSpaceToAppend:zt(),quotaExceeded:Te})))}function Xt(Ue){return new Promise(function(ct){Ue&&Ue.MSETimeOffset!==void 0&&J&&J.updateTimestampOffset?J.updateTimestampOffset(Ue.MSETimeOffset).then(function(){ct()}).catch(function(){ct()}):ct()})}function Wt(){return J&&!b?J.updateAppendWindow(V):Promise.resolve()}function Jt(){++fe*(Ae.get().streaming.wallclockTimeUpdateInterval/1e3)>=Ae.get().streaming.buffer.bufferPruningInterval&&(fe=0,We())}function sn(){pn()}function ht(Ue){(b=Ue)?Qt(f.Z.BUFFERING_COMPLETED):H=Number.POSITIVE_INFINITY}function kt(){try{var Ue,ct,_e=J.getAllBufferRanges(),Ie=0;if(!_e)return Ie;for(ct=0,Ue=_e.length;ct<Ue;ct++)Ie+=_e.end(ct)-_e.start(ct);return Ie}catch{return 0}}function jt(Ue){try{var ct=Ue,_e=J.getAllBufferRanges();if(!_e||_e.length===0)return NaN;for(var Ie=0;ct===Ue&&Ie<_e.length;){var et=_e.start(Ie),Nt=_e.end(Ie);ct>=et&&ct<=Nt&&(ct=Nt),Ie+=1}return ct===Ue?NaN:ct}catch{}}function zt(){var Ue=kt();return isNaN(Ue)||Ue<M}function Qt(Ue,ct){var _e=ct||{};q.trigger(Ue,_e,{streamId:V.id,mediaType:le})}function Qe(Ue,ct){if(M=Number.POSITIVE_INFINITY,K=void 0,H=Number.POSITIVE_INFINITY,L=0,Ee=null,b=!1,ye=!1,Te=!1,P=0,fe=0,ge=[],ve=NaN,F=!1,J){var _e=J;J=null,Ue||ct||_e.abort().then(function(){_e.reset(ct),_e=null})}ee=!1}return c={initialize:function(Ue){Ze(Ue),q.on(f.Z.INIT_FRAGMENT_LOADED,ut,c),q.on(f.Z.MEDIA_FRAGMENT_LOADED,rt,c),q.on(f.Z.WALLCLOCK_TIME_UPDATED,Jt,c),q.on(r.Z.PLAYBACK_PLAYING,_t,c),q.on(r.Z.PLAYBACK_PROGRESS,Xe,c),q.on(r.Z.PLAYBACK_TIME_UPDATED,Xe,c),q.on(r.Z.PLAYBACK_RATE_CHANGED,sn,c),q.on(r.Z.PLAYBACK_STALLED,Tt,c)},getStreamId:function(){return V.id},getType:function(){return le},getBufferControllerType:function(){return Et},createBufferSink:Be,dischargePreBuffer:function(){if(J&&Q&&typeof Q.discharge=="function"){var Ue=Q.getAllBufferRanges();if(Ue.length>0){for(var ct="Beginning "+le+"PreBuffer discharge, adding buffer for:",_e=0;_e<Ue.length;_e++)ct+=" start: "+Ue.start(_e)+", end: "+Ue.end(_e)+";";h.debug(ct)}else h.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");W=[];for(var Ie=Q.discharge(),et=null,Nt=0;Nt<Ie.length;Nt++){var Lt=Ie[Nt];if(Lt.segmentType!==Pe.w.INIT_SEGMENT_TYPE){var vn=X.extract(Lt.streamId,Lt.representationId);vn&&et!==vn&&(W.push(vn),J.append(vn),et=vn)}W.push(Lt),J.append(Lt)}Q.reset(),Q=null}},getBuffer:function(){return J},getBufferLevel:function(){return P},getRangeAt:pt,hasBufferAtTime:function(Ue){try{var ct=J.getAllBufferRanges();if(!ct||ct.length===0)return!1;for(var _e=0;_e<ct.length;){var Ie=ct.start(_e),et=ct.end(_e);if(Ue>=Ie&&Ue<=et)return!0;_e+=1}return!1}catch(Nt){return h.error(Nt),!1}},pruneBuffer:We,setMediaSource:Ze,getMediaSource:function(){return w},appendInitSegmentFromCache:function(Ue){var ct=X.extract(V.id,Ue);return!!ct&&(h.info("Append Init fragment",le," with representationId:",ct.representationId," and quality:",ct.quality,", data size:",ct.bytes.byteLength),it(ct),!0)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:ht,getIsPruningInProgress:function(){return ye},reset:function(Ue,ct){q.off(f.Z.INIT_FRAGMENT_LOADED,ut,this),q.off(f.Z.MEDIA_FRAGMENT_LOADED,rt,this),q.off(f.Z.WALLCLOCK_TIME_UPDATED,Jt,this),q.off(r.Z.PLAYBACK_PLAYING,_t,this),q.off(r.Z.PLAYBACK_PROGRESS,Xe,this),q.off(r.Z.PLAYBACK_TIME_UPDATED,Xe,this),q.off(r.Z.PLAYBACK_RATE_CHANGED,sn,this),q.off(r.Z.PLAYBACK_STALLED,Tt,this),Qe(Ue,ct)},prepareForPlaybackSeek:function(){return b&&ht(!1),J.abort()},prepareForReplacementTrackSwitch:function(Ue){return new Promise(function(ct,_e){J.abort().then(function(){return Wt()}).then(function(){return Ae.get().streaming.buffer.useChangeTypeForTrackSwitch?J.changeType(Ue):Promise.resolve()}).then(function(){return ze()}).then(function(){ht(!1),ct()}).catch(function(Ie){_e(Ie)})})},prepareForNonReplacementTrackSwitch:function(Ue){return new Promise(function(ct,_e){Wt().then(function(){return Ae.get().streaming.buffer.useChangeTypeForTrackSwitch?J.changeType(Ue):Promise.resolve()}).then(function(){ct()}).catch(function(Ie){_e(Ie)})})},prepareForForceReplacementQualitySwitch:function(Ue){return new Promise(function(ct,_e){J.abort().then(function(){return Wt()}).then(function(){return ze()}).then(function(){return Xt(Ue)}).then(function(){ht(!1),ct()}).catch(function(Ie){_e(Ie)})})},updateAppendWindow:Wt,getAllRangesWithSafetyFactor:mt,getContinuousBufferTimeForTargetTime:jt,clearBuffers:st,pruneAllSafely:ze,updateBufferTimestampOffset:Xt,setSeekTarget:function(Ue){ve=Ue},segmentRequestingCompleted:function(Ue){isNaN(Ue)||(H=Ue,Vt())}},h=(0,m.Z)(S).getInstance().getLogger(c),X=Re(S).getInstance(),Qe(),c}gt.__dashjs_factory_name=Et;var He=R.Z.getClassFactory(gt),ot="NotFragmentedTextBufferController";function Se(g){g=g||{};var c,h,b,P,M,w,L=this.context,H=(0,_.Z)(L).getInstance(),J=g.textController,Q=g.errHandler,F=g.streamInfo,W=g.type;function K(ye){P=ye}function Ee(ye){var Te,X;h!==ye&&(h=ye)&&(Te=f.Z.BUFFERING_COMPLETED,X={},H.trigger(Te,X,{streamId:F.id,mediaType:W}))}function fe(ye){ye.chunk.bytes&&!h&&(w.save(ye.chunk),M.append(ye.chunk),Ee(!0))}return c={initialize:function(ye){K(ye)},getStreamId:function(){return F.id},getType:function(){return W},getBufferControllerType:function(){return ot},createBufferSink:function(ye){return new Promise(function(Te,X){try{(M=me(L).create({mediaSource:P,textController:J,eventBus:H})).initializeForFirstUse(F,ye),b||(M.getBuffer()&&typeof M.getBuffer().initialize=="function"&&M.getBuffer().initialize(),b=!0),Te(M)}catch(ge){Q.error(new ce.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+W)),X(ge)}})},dischargePreBuffer:function(){},getBuffer:function(){return M},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function(){return P},appendInitSegmentFromCache:function(ye){return w.extract(F.id,ye)!==null},getIsBufferingCompleted:function(){return h},setIsBufferingCompleted:Ee,getIsPruningInProgress:function(){return!1},reset:function(ye){H.off(f.Z.INIT_FRAGMENT_LOADED,fe,c),!ye&&M&&(M.abort(),M.reset(),M=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return h=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},b=!1,P=null,h=!1,w=Re(L).getInstance(),H.on(f.Z.INIT_FRAGMENT_LOADED,fe,c),c}Se.__dashjs_factory_name=ot;var we=R.Z.getClassFactory(Se);function Ke(g){g=g||{};var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee=this.context,fe=(0,_.Z)(Ee).getInstance(),ye=g.dashMetrics,Te=g.mediaPlayerModel,X=g.fragmentModel,ge=g.abrController,ee=g.playbackController,ve=g.textController,S=g.type,q=g.bufferController,B=g.representationController,G=g.settings;function O(){W=!0}function de(){W=!1}function ie(lt){if(!q.getIsBufferingCompleted()){pe();var ut=isNaN(lt)?0:lt;M=setTimeout(se,ut)}}function pe(){M&&(clearTimeout(M),M=null)}function se(){try{if(function(){try{return S===o.Z.TEXT&&!ve.isTextEnabled()||ee.isPaused()&&(!ee.getStreamController().getInitialPlayback()||!ee.getStreamController().getAutoPlay())&&!G.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void pe();if(function(){try{return!!W&&B.getCurrentRepresentationInfo()&&(isNaN(J)||Q||(rt=h.id,it=ge.getMaxAllowedIndexFor(S,rt),!(!isNaN(H)&&H==it||(b.info("Top quality "+S+" index has changed from "+H+" to "+it),H=it,0)))||function(){var Ut=B.getCurrentRepresentationInfo();return!S||!Ut||ye.getCurrentBufferLevel(S)<V()}())}catch{return!1}var rt,it}()){var lt=!1;K&&(lt=ge.checkPlaybackQuality(S,h.id)),lt||(ut=B.getCurrentRepresentationInfo(),F||ut.quality!==J||Q?(Q?(b.debug("Switch track for "+S+", representation id = "+ut.id),Q=!1):b.debug("Quality has changed, get init request for representationid = "+ut.id),fe.trigger(f.Z.INIT_FRAGMENT_NEEDED,{representationId:ut.id,sender:c},{streamId:h.id,mediaType:S}),K=!1,F=!1):(b.debug("Media segment needed for ".concat(S," and stream id ").concat(h.id)),fe.trigger(f.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:h.id,mediaType:S}),K=!0))}else ie(ee.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}catch{ie(ee.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}var ut}function V(){var lt=NaN,ut=B.getCurrentRepresentationInfo();return S&&ut&&(lt=S===o.Z.TEXT?function(){try{if(ve.isTextEnabled()){var rt=B.getCurrentRepresentationInfo();if(isNaN(rt.fragmentDuration)){var it=ye.getCurrentSchedulingInfo(E.Z.SCHEDULING_INFO);return it?it.duration:0}return rt.fragmentDuration}return 0}catch{return 0}}():S===o.Z.AUDIO&&w?function(){try{var rt=ye.getCurrentBufferLevel(o.Z.VIDEO),it=B.getCurrentRepresentationInfo();return isNaN(it.fragmentDuration)?rt+1:Math.max(rt+1,it.fragmentDuration)}catch{return 0}}():function(){try{var rt=B.getCurrentRepresentationInfo().mediaInfo.streamInfo;return ge.isPlayingAtTopQuality(rt)?rt.manifestInfo.duration>=G.get().streaming.buffer.longFormContentDurationThreshold?G.get().streaming.buffer.bufferTimeAtTopQualityLongForm:G.get().streaming.buffer.bufferTimeAtTopQuality:Te.getStableBufferTime()}catch{return Te.getStableBufferTime()}}()),lt}function le(){Ae(!0)}function Ae(lt){if(ee&&X){var ut=X.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:ee.getTime(),threshold:0})[0];ut&&ee.getTime()>=ut.startTime&&((!L.mediaInfo||ut.mediaInfo.type===L.mediaInfo.type&&ut.mediaInfo.index!==L.mediaInfo.index)&&lt&&fe.trigger(f.Z.TRACK_CHANGE_RENDERED,{mediaType:S,oldMediaInfo:L.mediaInfo,newMediaInfo:ut.mediaInfo,streamId:h.id}),ut.quality===L.quality&&ut.adaptationIndex===L.adaptationIndex||!lt||(b.debug("Quality change rendered for streamId ".concat(h.id," and type ").concat(S)),fe.trigger(f.Z.QUALITY_CHANGE_RENDERED,{mediaType:S,oldQuality:L.quality,newQuality:ut.quality,streamId:h.id})),L={mediaInfo:ut.mediaInfo,quality:ut.quality,adaptationIndex:ut.adaptationIndex})}}function Ze(){X.abortRequests(),pe()}function Oe(){G.get().streaming.scheduling.scheduleWhilePaused||ie()}function Be(lt){ye.updatePlayListTraceMetrics({playbackspeed:lt.playbackRate.toString()})}function ke(){K=!0,P=0,J=NaN,L={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,Q=!1,F=!1,W=!0}return c={initialize:function(lt){w=lt,fe.on(f.Z.URL_RESOLUTION_FAILED,Ze,c),fe.on(r.Z.PLAYBACK_STARTED,Oe,c),fe.on(r.Z.PLAYBACK_RATE_CHANGED,Be,c),fe.on(r.Z.PLAYBACK_TIME_UPDATED,le,c),fe.on(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,O,c),fe.on(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,de,c)},getType:function(){return S},getStreamId:function(){return h.id},setTimeToLoadDelay:function(lt){P=lt},getTimeToLoadDelay:function(){return P},setSwitchTrack:function(lt){Q=lt},getSwitchTrack:function(){return Q},startScheduleTimer:ie,clearScheduleTimer:pe,reset:function(){fe.off(f.Z.URL_RESOLUTION_FAILED,Ze,c),fe.off(r.Z.PLAYBACK_STARTED,Oe,c),fe.off(r.Z.PLAYBACK_RATE_CHANGED,Be,c),fe.off(r.Z.PLAYBACK_TIME_UPDATED,le,c),fe.off(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,O,c),fe.off(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,de,c),pe(),Ae(!1),ke(),h=null},getBufferTarget:V,getPlaybackController:function(){return ee},setCheckPlaybackQuality:function(lt){K=lt},setInitSegmentRequired:function(lt){F=lt},setLastInitializedQuality:function(lt){J=lt}},b=(0,m.Z)(Ee).getInstance().getLogger(c),ke(),h=g.streamInfo,c}Ke.__dashjs_factory_name="ScheduleController";var y=R.Z.getClassFactory(Ke),p=v(7387);function N(g){var c,h,b,P,M,w,L=(g=g||{}).eventBus,H=g.events,J=g.abrController,Q=g.dashMetrics,F=g.playbackController,W=g.timelineConverter,K=g.type,Ee=g.streamInfo,fe=g.dashConstants,ye=g.segmentsController,Te=g.isDynamic,X=g.adapter;function ge(){return K}function ee(){return b}function ve(){return w}function S(){h=null,b=!0,P=[],M=null}function q(pe){return new Promise(function(se,V){var le=pe.hasInitialization(),Ae=pe.hasSegments(),Ze=[];Ze.push(ye.updateInitData(pe,le)),Ze.push(ye.updateSegmentData(pe,Ae)),Promise.all(Ze).then(function(Oe){var Be;Oe[0]&&!Oe[0].error&&(pe=function(ke,lt){return lt&&!lt.error&&lt.representation?lt.representation:ke}(pe,Oe[0])),Oe[1]&&!Oe[1].error&&(pe=function(ke,lt){if(lt&&!lt.error){var ut,rt,it,Ut,De=lt.segments,ze=[],mt=0;for(ut=0,rt=De?De.length:0;ut<rt;ut++)it=De[ut],(Ut=(0,p.TJ)(W,Te,ke,it.startTime,it.duration,it.timescale,it.media,it.mediaRange,mt))&&(ze.push(Ut),Ut=null,mt++);return ze.length>0&&(ke.segments=ze),ke}}(pe,Oe[1])),(Be=pe).mediaFinishedInformation=ye.getMediaFinishedInformation(Be),function(ke){if(ee()){var lt,ut,rt=Q.getCurrentManifestUpdate(),it=!1;if(rt){for(var Ut=0;Ut<rt.representationInfo.length;Ut++)if((lt=rt.representationInfo[Ut]).index===ke.index&&lt.mediaType===ge()){it=!0;break}it||Q.addManifestUpdateRepresentationInfo(ke,ge())}if(function(){for(var ze=0,mt=P.length;ze<mt;ze++){var Xe=P[ze].segmentInfoType;if(!P[ze].hasInitialization()||(Xe===fe.SEGMENT_BASE||Xe===fe.BASE_URL)&&!P[ze].segments)return!1}return!0}()){J.setPlaybackQuality(K,Ee,(ut=w,P.indexOf(ut)));var De=Q.getCurrentDVRInfo(K);De&&Q.updateManifestUpdateInfo({latency:De.range.end-F.getTime()}),Q.getCurrentRepresentationSwitch(ve().adaptation.type)||B(),O()}}}(pe),se()}).catch(function(Oe){V(Oe)})})}function B(){(function(){if(!(J&&Q&&F&&W))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var pe=new Date,se=ve(),V=1e3*F.getTime();se&&Q.addRepresentationSwitch(se.adaptation.type,pe,V,se.id),L.trigger(r.Z.REPRESENTATION_SWITCH,{mediaType:K,streamId:Ee.id,currentRepresentation:se,numberOfRepresentations:P.length},{streamId:Ee.id,mediaType:K})}function G(pe){return pe==null||pe>=P.length?null:P[pe]}function O(pe){b=!1,L.trigger(H.DATA_UPDATE_COMPLETED,{data:h,currentRepresentation:w,error:pe},{streamId:Ee.id,mediaType:K})}function de(pe){w=pe,M=X.convertRepresentationToRepresentationInfo(w)}function ie(pe){if(pe.newDuration){var se=ve();se&&se.adaptation.period&&(se.adaptation.period.duration=pe.newDuration)}}return c={getStreamId:function(){return Ee.id},getType:ge,getData:function(){return h},isUpdating:ee,updateData:function(pe,se,V,le,Ae){return new Promise(function(Ze,Oe){if(b=!0,P=se,h=pe,de(G(Ae)),V!==o.Z.VIDEO&&V!==o.Z.AUDIO&&(V!==o.Z.TEXT||!le))return O(),void Ze();for(var Be=[],ke=0,lt=P.length;ke<lt;ke++){var ut=P[ke];Be.push(q(ut))}Promise.all(Be).then(function(){de(G(Ae)),Ze()}).catch(function(rt){Oe(rt)})})},getCurrentRepresentation:ve,getCurrentRepresentationInfo:function(){return M},getRepresentationForQuality:G,prepareQualityChange:function(pe){de(G(pe)),B()},reset:function(){L.off(r.Z.MANIFEST_VALIDITY_CHANGED,ie,c),S()}},S(),L.on(r.Z.MANIFEST_VALIDITY_CHANGED,ie,c),c}N.__dashjs_factory_name="RepresentationController";var C=R.Z.getClassFactory(N),ae=v(3106),ne=v(9326),Me=v(7473),nt=v(2594);function je(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function")}var Ge=function g(){je(this,g),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Ge.INITIAL_PLAYOUT_START_REASON="initial_playout",Ge.SEEK_START_REASON="seek",Ge.RESUME_FROM_PAUSE_START_REASON="resume",Ge.METRICS_COLLECTION_START_REASON="metrics_collection_start";var xe=function g(){je(this,g),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};xe.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",xe.REBUFFERING_REASON="rebuffering",xe.USER_REQUEST_STOP_REASON="user_request",xe.END_OF_PERIOD_STOP_REASON="end_of_period",xe.END_OF_CONTENT_STOP_REASON="end_of_content",xe.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",xe.FAILURE_STOP_REASON="failure";var Ye=v(7802);function at(){return{ntpToUTC:function(g){var c=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(c.getTime()+g).getTime()}}}at.__dashjs_factory_name="TimeUtils";var St=R.Z.getSingletonFactory(at);function ft(g){g=g||{};var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye=this.context,Te=(0,_.Z)(ye).getInstance(),X=g.streamInfo,ge=g.type,ee=g.errHandler,ve=g.mimeType,S=g.timelineConverter,q=g.adapter,B=g.manifestModel,G=g.mediaPlayerModel,O=g.fragmentModel,de=g.abrController,ie=g.playbackController,pe=g.mediaController,se=g.textController,V=g.dashMetrics,le=g.settings,Ae=g.boxParser,Ze=g.segmentBlacklistController;function Oe(){return X.id}function Be(){return ge}function ke(){return q.getIsTextTrack(H.getData())}function lt(){M=[],P=null,Ee=0,J=!1,Q=!1,F=!1,fe=null}function ut(Qe){return!isNaN(Qe)&&!isNaN(X.duration)&&isFinite(X.duration)&&Qe>=X.start+X.duration}function rt(Qe){var Ue=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(Qe.sender){if(ie.getIsManifestUpdateInProgress())mt();else if((!ke()||se.isTextEnabled())&&w&&Qe.representationId&&!w.appendInitSegmentFromCache(Qe.representationId)){var ct=H.getCurrentRepresentation();if(ct.range===0)return void it();var _e=W?W.getInitRequest(P,ct):null;_e?O.executeRequest(_e):Ue&&(L.setInitSegmentRequired(!0),mt())}}}function it(Qe){var Ue=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ie.getIsManifestUpdateInProgress()||w.getIsPruningInProgress())mt();else{var ct=ze();ct?(J=!1,Q=!1,Ut(ct)):De(Ue)}}function Ut(Qe){isNaN(Qe.startTime+Qe.duration)||(Ee=Qe.startTime+Qe.duration),Qe.delayLoadingTime=new Date().getTime()+L.getTimeToLoadDelay(),L.setTimeToLoadDelay(0),function(Ue){var ct=Ue.url;return Ue.range&&(ct=ct.concat("_",Ue.range)),Ze.contains(ct)}(Qe)?(h.warn("Fragment request url ".concat(Qe.url," for stream id ").concat(X.id," and media type ").concat(ge," is on the ignore list and will be skipped")),mt()):(h.debug("Next fragment request url for stream id ".concat(X.id," and media type ").concat(ge," is ").concat(Qe.url)),O.executeRequest(Qe))}function De(Qe){var Ue,ct=H.getCurrentRepresentation();if(!le.get().streaming.gaps.enableSeekFix||!J&&ie.getTime()!==0||(b?b&&ct.segmentInfoType===i.Z.SEGMENT_TIMELINE&&(Ue=W.getValidTimeAheadOfTargetTime(Ee,P,ct,le.get().streaming.gaps.threshold)):Ue=W.getValidTimeAheadOfTargetTime(Ee,P,ct,le.get().streaming.gaps.threshold),isNaN(Ue)||Ue===Ee)){if(W.isLastSegmentRequested(ct,Ee)){var _e=W.getCurrentIndex();return h.debug("Segment requesting for stream ".concat(X.id," has finished")),Te.trigger(f.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:_e},{streamId:X.id,mediaType:ge}),w.segmentRequestingCompleted(_e),void L.clearScheduleTimer()}Qe&&mt()}else ie.isSeeking()||ie.getTime()===0?(h.warn("Adjusting playback time ".concat(Ue," because of gap in the manifest. Seeking by ").concat(Ue-Ee)),ie.seek(Ue,!1,!1)):(h.warn("Adjusting buffering time ".concat(Ue," because of gap in the manifest. Adjusting time by ").concat(Ue-Ee)),Qt(Ue),Qe&&mt())}function ze(){var Qe,Ue=Wt();if(isNaN(Ee)||Be()===o.Z.TEXT&&!se.isTextEnabled())return null;if(W){var ct=H&&Ue?H.getRepresentationForQuality(Ue.quality):null;Qe=J?W.getSegmentRequestForTime(P,ct,Ee):Q?W.repeatSegmentRequest(P,ct):W.getNextSegmentRequest(P,ct)}return Qe}function mt(){L.startScheduleTimer(ie.getLowLatencyModeEnabled()?le.get().streaming.scheduling.lowLatencyTimeout:le.get().streaming.scheduling.defaultTimeout)}function Xe(Qe){Qe.error||w.getIsBufferingCompleted()||w.updateBufferTimestampOffset(Qe.currentRepresentation)}function Tt(Qe){V.addBufferState(ge,Qe.state,L.getBufferTarget()),Qe.state!==E.Z.BUFFER_EMPTY||ie.isSeeking()||(h.info("Buffer is empty! Stalling!"),V.pushPlayListTraceMetrics(new Date,xe.REBUFFERING_REASON))}function _t(Qe){O.syncExecutedRequestsWithBufferedRange(w.getBuffer().getAllBufferRanges(),X.duration),Qe.quotaExceeded&&Qe.from>ie.getTime()&&Qt(Qe.from),Qe.hasEnoughSpaceToAppend&&Qe.quotaExceeded&&L.startScheduleTimer()}function pt(Qe){if(Qe&&Qe.lastRequestAppended&&Qe.lastRequestAppended.url){var Ue=Qe.lastRequestAppended.url;Qe.lastRequestAppended.range&&(Ue=Ue.concat("_",Qe.lastRequestAppended.range)),h.warn("Blacklisting segment with url ".concat(Ue)),Ze.add(Ue)}}function Kt(Qe){if(h.debug("Appended bytes for ".concat(Qe.mediaType," and stream id ").concat(Qe.streamId)),Qe.segmentType===Pe.w.INIT_SEGMENT_TYPE){var Ue=Qe.quality;L.setLastInitializedQuality(Ue),h.info("["+ge+"] lastInitializedRepresentationInfo changed to "+Qe.quality)}fe?Vt(fe):L.startScheduleTimer(0)}function Vt(Qe){var Ue=O.getRequests({state:te.FRAGMENT_MODEL_LOADING});if(Ue&&Ue.length>0)return h.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(fe=Qe);w.updateBufferTimestampOffset(Qe).then(function(){L.setCheckPlaybackQuality(!1),P.segmentAlignment||P.subSegmentAlignment?L.startScheduleTimer():jt(),fe=null,F=!1}).catch(function(){fe=null,F=!1})}function pn(Qe){h.info("onFragmentLoadingAbandoned request: "+Qe.request.url+" has been aborted"),ie.isSeeking()||L.getSwitchTrack()||F||(h.info("onFragmentLoadingAbandoned request: "+Qe.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Qe.request&&Qe.request.isInitializationRequest()?L.setInitSegmentRequired(!0):Qt(Qe.request.startTime+Qe.request.duration/2),L.startScheduleTimer(0))}function yn(Qe){h.info("OnFragmentLoadingCompleted for stream id "+X.id+" and media type "+ge+" - Url:",Qe.request?Qe.request.url:"undefined",Qe.request.range?", Range:"+Qe.request.range:""),ke()&&L.startScheduleTimer(0),Qe.error&&Qe.request.serviceLocation&&function(Ue){h.info("Fragment loading completed with an error"),Ue&&Ue.request&&Ue.request.type&&(Ue.request.type===Pe.w.INIT_SEGMENT_TYPE?rt({representationId:Ue.request.representationId,sender:{}},!1):Ue.request.type===Pe.w.MEDIA_SEGMENT_TYPE&&(Qt(Ue.request.startTime+Ue.request.duration/2),it({},!1)))}(Qe)}function We(){Qt(ie.getTime()),Xt().startScheduleTimer()}function vt(Qe){var Ue=Qe.currentTrackInfo;if(Ue){var ct=M.find(function(_e){return _e.index===Ue.index&&_e.lang===Ue.lang});ct&&Pt(ct).then(function(){w.setIsBufferingCompleted(!1),Qt(ie.getTime()),L.setInitSegmentRequired(!0),L.startScheduleTimer()})}}function st(Qe){Qt(Qe.quotaExceededTime),L.clearScheduleTimer()}function It(){return w?w.getBuffer():null}function Pt(Qe){Qe===P||Qe&&P&&Qe.type!==P.type||(P=Qe);var Ue=q.getRealAdaptation(X,P),ct=q.getVoRepresentations(P);if(H){var _e,Ie=H.getData(),et=de.getMaxAllowedIndexFor(ge,X.id),Nt=de.getMinAllowedIndexFor(ge,X.id),Lt=null;return Ie!==null&&Ie.id===Ue.id||ge===o.Z.TEXT?_e=de.getQualityFor(ge,X.id):(Lt=de.getThroughputHistory().getAverageThroughput(ge,b)||de.getInitialBitrateFor(ge,X.id),_e=de.getQualityForBitrate(P,Lt,X.id)),Nt!==void 0&&_e<Nt&&(_e=Nt),_e>et&&(_e=et),H.updateData(Ue,ct,ge,P.isFragmented,_e)}return Promise.resolve()}function Xt(){return L}function Wt(Qe){var Ue;return Qe!==void 0?((0,ae.SE)(Qe),Ue=H?H.getRepresentationForQuality(Qe):null):Ue=H?H.getCurrentRepresentation():null,q.convertRepresentationToRepresentationInfo(Ue)}function Jt(){return!!w&&w.getIsBufferingCompleted()}function sn(Qe){if(le.get().streaming.enableManifestTimescaleMismatchFix){var Ue=Qe.chunk,ct=Ue.bytes,_e=Wt(Ue.quality),Ie=H&&_e?H.getRepresentationForQuality(_e.quality):null;_e&&Ie&&(Ie.timescale=Ae.getMediaTimescaleFromMoov(ct))}}function ht(Qe){var Ue=Qe.chunk,ct=Ue.bytes,_e=Ue.quality,Ie=Wt(_e),et=H&&Ie?H.getRepresentationForQuality(Ie.quality):null;if(Ie&&et){var Nt;if(le.get().streaming.parseInbandPrft&&Qe.request.type===Pe.w.MEDIA_SEGMENT_TYPE){var Lt=function(Or,lr){var Zi=Or.getBoxes("prft"),da=[];return Zi.forEach(function(ga){da.push(function(fi,wi){var Mr="unknown";switch(fi.flags){case 0:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Bi=1e3*fi.ntp_timestamp_sec+fi.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Mr,ntpTimestamp:Bi=St(ye).getInstance().ntpToUTC(Bi),mediaTime:fi.media_time/wi}}(ga,lr))}),da}(Nt=Nt||Ae.parse(ct),et.timescale);Lt&&Lt.length&&Te.trigger(r.Z.INBAND_PRFT,{data:Lt},{streamId:X.id,mediaType:ge})}var vn=q.getEventsFor(Ie.mediaInfo,null,X),xn=q.getEventsFor(Ie,et,X);if(vn&&vn.length>0||xn&&xn.length>0){var rr=O.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,quality:_e,index:Ue.index})[0],Ln=function(Or,lr,Zi,da){try{for(var ga={},fi=[],wi=Zi.concat(da),Mr=0,Bi=wi.length;Mr<Bi;Mr++)ga[wi[Mr].schemeIdUri+"/"+wi[Mr].value]=wi[Mr];var pa=Or.getBoxes("emsg");if(!pa||pa.length===0)return fi;for(var ti=Or.getBox("sidx"),Ao=!ti||isNaN(ti.earliest_presentation_time)||isNaN(ti.timescale)?lr&&!isNaN(lr.mediaStartTime)?lr.mediaStartTime:0:ti.earliest_presentation_time/ti.timescale,Zs=Math.max(Ao,0),Bs=H.getCurrentRepresentation(),Gi=0,Gs=pa.length;Gi<Gs;Gi++){var ha=q.getEvent(pa[Gi],ga,Zs,Bs);ha&&fi.push(ha)}return fi}catch{return[]}}(Nt=Nt||Ae.parse(ct),rr,vn,xn);Te.trigger(f.Z.INBAND_EVENTS,{events:Ln},{streamId:X.id})}}}function kt(){var Qe=ie.getTime();le.get().streaming.buffer.flushBufferAtTrackSwitch&&ie.seek(Qe+.001,!1,!0),Qt(Qe),w.setSeekTarget(Qe),L.startScheduleTimer()}function jt(){var Qe=ie.getTime(),Ue=w.getContinuousBufferTimeForTargetTime(Qe);Qt(isNaN(Ue)?Qe:Ue),L.startScheduleTimer()}function zt(Qe){Qe&&!isNaN(Qe.time)&&(Qt(Qe.time),w.setSeekTarget(Qe.time))}function Qt(Qe){Ee=Qe,J=!0}return c={initialize:function(Qe,Ue,ct){K=(0,Ye.Z)(ye).create({events:f.Z,eventBus:Te,streamInfo:X,timelineConverter:S,dashConstants:i.Z,segmentBaseController:g.segmentBaseController,type:ge}),W=(0,ne.Z)(ye).create({streamInfo:X,type:ge,timelineConverter:S,dashMetrics:V,mediaPlayerModel:G,baseURLController:g.baseURLController,errHandler:ee,segmentsController:K,settings:le,boxParser:Ae,events:f.Z,eventBus:Te,errors:oe,debug:(0,m.Z)(ye).getInstance(),requestModifier:(0,Me.Z)(ye).getInstance(),dashConstants:i.Z,constants:o.Z,urlUtils:(0,nt.Z)(ye).getInstance()}),b=X.manifestInfo.isDynamic,W.initialize(b),de.registerStreamType(ge,c),H=C(ye).create({streamInfo:X,type:ge,abrController:de,dashMetrics:V,playbackController:ie,timelineConverter:S,dashConstants:i.Z,events:f.Z,eventBus:Te,errors:oe,isDynamic:b,adapter:q,segmentsController:K}),w=function(_e,Ie){return _e?_e!==o.Z.TEXT||Ie?He(ye).create({streamInfo:X,type:_e,mediaPlayerModel:G,manifestModel:B,fragmentModel:O,errHandler:ee,mediaController:pe,representationController:H,adapter:q,textController:se,abrController:de,playbackController:ie,settings:le}):we(ye).create({streamInfo:X,type:_e,mimeType:ve,fragmentModel:O,textController:se,errHandler:ee,settings:le}):(ee.error(new ce.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(ge,ct),w&&w.initialize(Qe),(L=y(ye).create({streamInfo:X,type:ge,mimeType:ve,adapter:q,dashMetrics:V,mediaPlayerModel:G,fragmentModel:O,abrController:de,playbackController:ie,textController:se,mediaController:pe,bufferController:w,representationController:H,settings:le})).initialize(Ue),Ee=0,J=!1,Q=!1},getStreamId:Oe,getType:Be,isUpdating:function(){return!!H&&H.isUpdating()},getBufferController:function(){return w},dischargePreBuffer:function(){w.dischargePreBuffer()},getFragmentModel:function(){return O},getScheduleController:Xt,getRepresentationController:function(){return H},getRepresentationInfo:Wt,getBufferLevel:function(){return w?w.getBufferLevel():0},isBufferingCompleted:Jt,createBufferSinks:function(Qe){var Ue=It();return Ue?Promise.resolve(Ue):w?w.createBufferSink(P,Qe):Promise.resolve(null)},updateStreamInfo:function(Qe){return X=Qe,Jt()?Promise.resolve():w.updateAppendWindow()},getStreamInfo:function(){return X},selectMediaInfo:Pt,clearMediaInfoArray:function(){M=[]},addMediaInfo:function(Qe){M.indexOf(Qe)===-1&&M.push(Qe)},prepareTrackSwitch:function(){return new Promise(function(Qe){h.debug("Preparing track switch for type ".concat(ge));var Ue=ge===o.Z.TEXT||le.get().streaming.trackSwitchMode[ge]===o.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ie.getTimeToStreamEnd(X)>le.get().streaming.buffer.stallThreshold;if(w.getIsBufferingCompleted()&&!Ue)return w.prepareForNonReplacementTrackSwitch(P.codec).then(function(){Te.trigger(f.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:ge})}).catch(function(){Te.trigger(f.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:ge})}),void Qe();L.clearScheduleTimer(),L.setSwitchTrack(!0),Ue?(Te.trigger(f.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:ge,streamId:X.id},{mediaType:ge,streamId:X.id}),O.abortRequests(),w.prepareForReplacementTrackSwitch(P.codec).then(function(){var ct=Wt();return w.updateBufferTimestampOffset(ct)}).then(function(){kt(),Qe()}).catch(function(){kt(),Qe()})):w.prepareForNonReplacementTrackSwitch(P.codec).then(function(){jt(),Qe()}).catch(function(){jt(),Qe()})})},prepareQualityChange:function(Qe){fe&&h.warn("Canceling queued representation switch to ".concat(fe.quality," for ").concat(ge)),h.debug("Preparing quality switch for type ".concat(ge));var Ue=Qe.newQuality;F=!0,L.clearScheduleTimer(),H.prepareQualityChange(Ue);var ct=Wt(Ue);Qe.reason&&Qe.reason.forceReplace?function(_e){O.abortRequests(),Te.trigger(f.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:ge,streamId:X.id},{mediaType:ge,streamId:X.id}),L.setCheckPlaybackQuality(!1),w.prepareForForceReplacementQualitySwitch(_e).then(function(){kt(),fe=null,F=!1}).catch(function(){kt(),fe=null,F=!1})}(ct):Qe&&Qe.reason&&Qe.reason.forceAbandon?function(_e){w.updateBufferTimestampOffset(_e).then(function(){O.abortRequests(),Q=!0,L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),F=!1,fe=null}).catch(function(){fe=null,F=!1})}(ct):le.get().streaming.buffer.fastSwitchEnabled?function(_e){var Ie=ie.getTime(),et=1.5*(isNaN(_e.fragmentDuration)?1:_e.fragmentDuration),Nt=O.getRequests({state:te.FRAGMENT_MODEL_EXECUTED,time:Ie+et,threshold:0})[0];if(Nt&&!ke()){var Lt=w.getBufferLevel(),vn=de.getAbandonmentStateFor(X.id,ge);Nt.quality<_e.quality&&Lt>=et&&vn!==E.Z.ABANDON_LOAD?w.updateBufferTimestampOffset(_e).then(function(){O.abortRequests(),Qt(Ie+et),L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),F=!1}).catch(function(){F=!1}):Vt(_e)}else Vt(_e)}(ct):Vt(ct),V.pushPlayListTraceMetrics(new Date,xe.REPRESENTATION_SWITCH_STOP_REASON),V.createPlaylistTraceMetrics(ct.id,1e3*ie.getTime(),ie.getPlaybackRate())},getMediaInfo:function(){return P},getMediaSource:function(){return w.getMediaSource()},setMediaSource:function(Qe){return w.setMediaSource(Qe,P)},getBuffer:It,setExplicitBufferingTime:Qt,finalisePlayList:function(Qe,Ue){V.pushPlayListTraceMetrics(Qe,Ue)},probeNextRequest:function(){var Qe=Wt(),Ue=H&&Qe?H.getRepresentationForQuality(Qe.quality):null;return W.getNextSegmentRequestIdempotent(P,Ue)},prepareInnerPeriodPlaybackSeeking:function(Qe){return new Promise(function(Ue){if(w.hasBufferAtTime(Qe.seekTime))return w.pruneBuffer(),ut(w.getContinuousBufferTimeForTargetTime(Qe.seekTime))&&w.setIsBufferingCompleted(!0),void Ue();L.clearScheduleTimer(),O.abortRequests(),w.prepareForPlaybackSeek().then(function(){var ct=w.getAllRangesWithSafetyFactor(Qe.seekTime);return w.clearBuffers(ct)}).then(function(){var ct=w.getContinuousBufferTimeForTargetTime(Qe.seekTime);if(ut(ct))w.setIsBufferingCompleted(!0),Ue();else{var _e=isNaN(ct)?Qe.seekTime:ct;Qt(_e),w.setSeekTarget(_e);var Ie=[];Ie.push(w.updateAppendWindow());var et=Wt();Ie.push(w.updateBufferTimestampOffset(et)),Promise.all(Ie).then(function(){L.setInitSegmentRequired(!0),L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),Ue()})}}).catch(function(ct){h.error(ct)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(Qe,Ue){try{L.clearScheduleTimer(),O.abortRequests(),w.prepareForPlaybackSeek().then(function(){return w.pruneAllSafely()}).then(function(){Qe()})}catch(ct){Ue(ct)}})},reset:function(Qe,Ue){W&&W.reset(),w&&(w.reset(Qe,Ue),w=null),L&&(L.reset(),L=null),H&&(H.reset(),H=null),K&&(K=null),de&&de.unRegisterStreamType(Oe(),ge),Te.off(f.Z.DATA_UPDATE_COMPLETED,Xe,c),Te.off(f.Z.INIT_FRAGMENT_NEEDED,rt,c),Te.off(f.Z.MEDIA_FRAGMENT_NEEDED,it,c),Te.off(f.Z.INIT_FRAGMENT_LOADED,sn,c),Te.off(f.Z.MEDIA_FRAGMENT_LOADED,ht,c),Te.off(f.Z.BUFFER_LEVEL_STATE_CHANGED,Tt,c),Te.off(f.Z.BUFFER_CLEARED,_t,c),Te.off(f.Z.SEEK_TARGET,zt,c),Te.off(f.Z.FRAGMENT_LOADING_ABANDONED,pn,c),Te.off(f.Z.FRAGMENT_LOADING_COMPLETED,yn,c),Te.off(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,We,c),Te.off(f.Z.SET_NON_FRAGMENTED_TEXT,vt,c),Te.off(f.Z.QUOTA_EXCEEDED,st,c),Te.off(f.Z.SOURCE_BUFFER_ERROR,pt,c),Te.off(f.Z.BYTES_APPENDED_END_FRAGMENT,Kt,c),lt(),ge=null,X=null}},h=(0,m.Z)(ye).getInstance().getLogger(c),lt(),Te.on(f.Z.DATA_UPDATE_COMPLETED,Xe,c,{priority:_.Z.EVENT_PRIORITY_HIGH}),Te.on(f.Z.INIT_FRAGMENT_NEEDED,rt,c),Te.on(f.Z.MEDIA_FRAGMENT_NEEDED,it,c),Te.on(f.Z.INIT_FRAGMENT_LOADED,sn,c),Te.on(f.Z.MEDIA_FRAGMENT_LOADED,ht,c),Te.on(f.Z.BUFFER_LEVEL_STATE_CHANGED,Tt,c),Te.on(f.Z.BUFFER_CLEARED,_t,c),Te.on(f.Z.SEEK_TARGET,zt,c),Te.on(f.Z.FRAGMENT_LOADING_ABANDONED,pn,c),Te.on(f.Z.FRAGMENT_LOADING_COMPLETED,yn,c),Te.on(f.Z.QUOTA_EXCEEDED,st,c),Te.on(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,We,c),Te.on(f.Z.SET_NON_FRAGMENTED_TEXT,vt,c),Te.on(f.Z.SOURCE_BUFFER_ERROR,pt,c),Te.on(f.Z.BYTES_APPENDED_END_FRAGMENT,Kt,c),c}ft.__dashjs_factory_name="StreamProcessor";var Yt=R.Z.getClassFactory(ft),Ot=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},Gt=v(9032);function Zt(g,c){if(g){if(typeof g=="string")return fn(g,c);var h=Object.prototype.toString.call(g).slice(8,-1);return h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set"?Array.from(g):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?fn(g,c):void 0}}function fn(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}function Sn(g){g=g||{};var c,h,b=this.context,P=g.requestModifier,M=g.lowLatencyThroughputModel,w=g.boxParser,L=(0,be.Z)(b).getInstance();function H(F){var W,K=new Date,Ee=F.request,fe=new Headers;if(Ee.range&&fe.append("Range","bytes="+Ee.range),F.headers)for(var ye in F.headers){var Te=F.headers[ye];Te&&fe.append(ye,Te)}Ee.requestStartDate||(Ee.requestStartDate=K),P&&P.modifyRequestHeader&&P.modifyRequestHeader({setRequestHeader:function(S,q){fe.append(S,q)}},{url:F.url}),typeof window.AbortController=="function"&&(W=new AbortController,F.abortController=W,W.signal.onabort=F.onabort);var X={method:F.method,headers:fe,credentials:F.withCredentials?"include":void 0,signal:W?W.signal:void 0},ge=L.get().streaming.abr.fetchThroughputCalculationMode,ee=Date.now(),ve=0;new Promise(function(S){if(ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&M&&(ve=M.getThroughputCapacityDelayMS(Ee,1e3*h.getCurrentBufferLevel(Ee.mediaType))))return setTimeout(S,ve);S()}).then(function(){var S=Date.now();fetch(F.url,X).then(function(q){F.response||(F.response={}),F.response.status=q.status,F.response.statusText=q.statusText,F.response.responseURL=q.url,q.ok||F.onerror();var B,G="",O=function(Xe,Tt){var _t;if(typeof Symbol>"u"||Xe[Symbol.iterator]==null){if(Array.isArray(Xe)||(_t=Zt(Xe))){_t&&(Xe=_t);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Xe.length?{done:!0}:{done:!1,value:Xe[pt++]}},e:function(We){throw We},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,pn=!0,yn=!1;return{s:function(){_t=Xe[Symbol.iterator]()},n:function(){var We=_t.next();return pn=We.done,We},e:function(We){yn=!0,Vt=We},f:function(){try{pn||_t.return==null||_t.return()}finally{if(yn)throw Vt}}}}(q.headers.keys());try{for(O.s();!(B=O.n()).done;){var de=B.value;G+=de+": "+q.headers.get(de)+`\r
`}}catch(Xe){O.e(Xe)}finally{O.f()}if(F.response.responseHeaders=G,!q.body)return q.arrayBuffer().then(function(Xe){F.response.response=Xe;var Tt={loaded:Xe.byteLength,total:Xe.byteLength,stream:!1};F.progress(Tt),F.onload(),F.onend()});var ie,pe,se,V,le=parseInt(q.headers.get("Content-Length"),10),Ae=0,Ze=!1,Oe=new Uint8Array,Be=0;if(ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&M){var ke=S,lt=0,ut=(se=q.body.tee(),V=2,function(Xe){if(Array.isArray(Xe))return Xe}(se)||function(Xe,Tt){if(typeof Symbol<"u"&&Symbol.iterator in Object(Xe)){var _t=[],pt=!0,Kt=!1,Vt=void 0;try{for(var pn,yn=Xe[Symbol.iterator]();!(pt=(pn=yn.next()).done)&&(_t.push(pn.value),!Tt||_t.length!==Tt);pt=!0);}catch(We){Kt=!0,Vt=We}finally{try{pt||yn.return==null||yn.return()}finally{if(Kt)throw Vt}}return _t}}(se,V)||Zt(se,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),rt=ut[0],it=ut[1];ie=rt.getReader(),pe=[],ie.read().then(function Xe(Tt){var _t=Tt.value,pt=Tt.done;if(lt=Date.now(),_t&&_t.length){var Kt=lt-ke,Vt=_t.length;pe.push({chunkDownloadTimeRelativeMS:lt-S,chunkDownloadDurationMS:Kt,chunkBytes:Vt,kbps:Math.round(8*Vt/(Kt/1e3)),bufferLevel:h.getCurrentBufferLevel(Ee.mediaType)})}if(pt){var pn=lt-S,yn=pe.reduce(function(We,vt){return We+vt.chunkBytes},0);return M.addMeasurement(Ee,pn,pe,ee,ve,G),void F.progress({loaded:yn,total:yn,lengthComputable:!0,time:M.getEstimatedDownloadDurationMS(Ee),stream:!0})}return ke=Date.now(),ie.read().then(Xe)}),F.reader=it.getReader()}else F.reader=q.body.getReader();var Ut=[],De=[],ze=[],mt=!0;J(F,function Xe(Tt){var _t=Tt.value;if(Tt.done){if(Oe){if(ge!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var pt=null,Kt=null;ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(pt=function(We,vt){try{var st,It;st=We.filter(function(kt,jt){return jt<We.length-1}),It=vt.filter(function(kt,jt){return jt<vt.length-1});var Pt=[];if(st.length>1){for(var Xt=0,Wt=0,Jt=0;Jt<st.length;Jt++)if(st[Jt]&&It[Jt]){var sn=It[Jt].ts-st[Jt].ts;if(sn>1)Pt.push(8*It[Jt].bytes/sn),Wt=0;else{Wt===0&&(Wt=st[Jt].ts,Xt=0);var ht=It[Jt].ts-Wt;ht>1?(Xt+=It[Jt].bytes,Pt.push(8*Xt/ht),Wt=0):Xt+=It[Jt].bytes}}if(Pt.length>0)return Pt.reduce(function(kt,jt){return kt+jt},0)/Pt.length}return null}catch{return null}}(De,ze),pt&&(Kt=8*Ae/pt)):ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Kt=Q(Ut,Ae)),F.progress({loaded:Ae,total:isNaN(le)?Ae:le,lengthComputable:!0,time:Kt,stream:!0})}F.response.response=Oe.buffer}return F.onload(),void F.onend()}if(_t&&_t.length>0){Oe=function(We,vt){if(We.length===0)return vt;var st=new Uint8Array(We.length+vt.length);return st.set(We),st.set(vt,We.length),st}(Oe,_t),Ae+=_t.length,Ut.push({ts:Date.now(),bytes:_t.length}),ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&mt&&w.findLastTopIsoBoxCompleted(["moof"],Oe,Be).found&&(mt=!1,De.push({ts:performance.now(),bytes:_t.length}));var Vt=w.findLastTopIsoBoxCompleted(["moov","mdat"],Oe,Be);if(Vt.found){var pn,yn=Vt.lastCompletedOffset+Vt.size;ge!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||mt||(mt=!0,ze.push({ts:performance.now(),bytes:Oe.length})),yn===Oe.length?(pn=Oe,Oe=new Uint8Array):(pn=new Uint8Array(Oe.subarray(0,yn)),Oe=Oe.subarray(yn)),F.progress({data:pn.buffer,lengthComputable:!1,noTrace:!0}),Be=0}else Be=Vt.lastCompletedOffset,Ze||(F.progress({lengthComputable:!1,noTrace:!0}),Ze=!0)}J(F,Xe)})}).catch(function(q){F.onerror&&F.onerror(q)})})}function J(F,W){F.reader.read().then(W).catch(function(K){F.onerror&&F.response.status===200&&F.onerror(K)})}function Q(F,W){try{if((F=F.filter(function(fe){return fe.bytes>W/4/F.length})).length>1){var K=0,Ee=(F[F.length-1].ts-F[0].ts)/F.length;return F.forEach(function(fe,ye){var Te=F[ye+1];if(Te){var X=Te.ts-fe.ts;K+=X<Ee?X:0}}),K}return null}catch{return null}}return c={load:function(F){P&&P.modifyRequest?(0,Me.k)(F,P).then(function(){return H(F)}):H(F)},abort:function(F){if(F.abortController)F.abortController.abort();else if(F.reader)try{F.reader.cancel(),F.onabort()}catch{}},calculateDownloadedTime:Q,setup:function(F){h=F.dashMetrics}},c}Sn.__dashjs_factory_name="FetchLoader";var kn=R.Z.getClassFactory(Sn),Mn=v(1180);function Un(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var cr=function(){function g(){(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var c,h;return c=g,(h=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==i.Z.BASE_URL&&this.segmentInfoType!==i.Z.SEGMENT_BASE&&!this.indexRange}}])&&Un(c.prototype,h),g}(),Nn=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.period=null,this.index=-1,this.type=null},Dr=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Dr.DEFAULT_ID="defaultId";var tr=Dr,vr=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},jr=v(2610),Er=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},Qr=function g(c,h,b,P){(function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||c||"",this.dvbPriority=b||1,this.dvbWeight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Qr.DEFAULT_DVB_PRIORITY=1,Qr.DEFAULT_DVB_WEIGHT=1;var Xr=Qr,Da=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Ct=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},bt=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function Rt(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var Ve=function(){function g(){(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.schemeIdUri=null,this.value=null,this.id=null}var c,h;return c=g,(h=[{key:"init",value:function(b){return b&&(this.schemeIdUri=b.schemeIdUri?b.schemeIdUri:null,this.value=b.value?b.value:null,this.id=b.id?b.id:null,b[i.Z.DVB_URL]&&(this.dvbUrl=b[i.Z.DVB_URL]),b[i.Z.DVB_MIMETYPE]&&(this.dvbMimeType=b[i.Z.DVB_MIMETYPE]),b[i.Z.DVB_FONTFAMILY]&&(this.dvbFontFamily=b[i.Z.DVB_FONTFAMILY])),this}}])&&Rt(c.prototype,h),g}(),yt=v(3101),Je=v.n(yt);function dt(){return{areEqual:function(g,c){return Je()(g,c)}}}dt.__dashjs_factory_name="ObjectUtils";var Ft=R.Z.getSingletonFactory(dt),Bt=v(7803),rn=function g(c,h){(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||null,this.queryParams={}},an=function g(c,h,b){(function(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||null,this.ttl=b||NaN,this.queryParams={}};function Ht(g,c){var h=Object.keys(g);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(g);c&&(b=b.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),h.push.apply(h,b)}return h}function wt(g){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Ht(Object(h),!0).forEach(function(b){tn(g,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):Ht(Object(h)).forEach(function(b){Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(h,b))})}return g}function tn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function $t(g,c){var h;if(typeof Symbol>"u"||g[Symbol.iterator]==null){if(Array.isArray(g)||(h=gn(g))||c){h&&(g=h);var b=0,P=function(){};return{s:P,n:function(){return b>=g.length?{done:!0}:{done:!1,value:g[b++]}},e:function(H){throw H},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,w=!0,L=!1;return{s:function(){h=g[Symbol.iterator]()},n:function(){var H=h.next();return w=H.done,H},e:function(H){L=!0,M=H},f:function(){try{w||h.return==null||h.return()}finally{if(L)throw M}}}}function gn(g,c){if(g){if(typeof g=="string")return An(g,c);var h=Object.prototype.toString.call(g).slice(8,-1);return h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set"?Array.from(g):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?An(g,c):void 0}}function An(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}function Dn(){var g,c,h,b,P=this.context,M=(0,nt.Z)(P).getInstance(),w=Number.isInteger||function(S){return typeof S=="number"&&isFinite(S)&&Math.floor(S)===S};function L(S,q){if(!S)throw new Error("adaptation is not defined");if(!q)throw new Error("type is not defined");if(S.Representation_asArray&&S.Representation_asArray.length){var B=ye(S.Representation_asArray[0]);if(B&&B.length>0&&Bt.Y.indexOf(B[0].schemeIdUri)>=0)return q===o.Z.IMAGE}if(S.ContentComponent_asArray&&S.ContentComponent_asArray.length>0){if(S.ContentComponent_asArray.length>1)return q===o.Z.MUXED;if(S.ContentComponent_asArray[0].contentType===q)return!0}var G=q===o.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(q);if(S.Representation_asArray&&S.Representation_asArray.length){var O=S.Representation_asArray[0].codecs;if(G.test(O))return!0}if(S.hasOwnProperty(i.Z.MIME_TYPE))return G.test(S.mimeType);if(S.Representation_asArray){for(var de,ie=0;ie<S.Representation_asArray.length;ie++)if((de=S.Representation_asArray[ie]).hasOwnProperty(i.Z.MIME_TYPE))return G.test(de.mimeType)}return!1}function H(S){if(!S)throw new Error("adaptation is not defined");if(S.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)||S.hasOwnProperty(i.Z.SEGMENT_TIMELINE)||S.hasOwnProperty(i.Z.SEGMENT_LIST)||S.hasOwnProperty(i.Z.SEGMENT_BASE))return!0;if(S.Representation_asArray&&S.Representation_asArray.length>0){var q=S.Representation_asArray[0];if(q.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)||q.hasOwnProperty(i.Z.SEGMENT_TIMELINE)||q.hasOwnProperty(i.Z.SEGMENT_LIST)||q.hasOwnProperty(i.Z.SEGMENT_BASE))return!0}return!1}function J(S){return L(S,o.Z.VIDEO)}function Q(S){return L(S,o.Z.TEXT)}function F(S){return L(S,o.Z.IMAGE)}function W(S){return S&&Array.isArray(S.Representation_asArray)&&S.Representation_asArray.sort(function(q,B){return q.bandwidth-B.bandwidth}),S}function K(S,q){return S&&S.Period_asArray&&w(q)&&S.Period_asArray[q]?S.Period_asArray[q].AdaptationSet_asArray:[]}function Ee(S){return S&&S.Period_asArray?S.Period_asArray:[]}function fe(S){var q=!1;return S&&S.hasOwnProperty("type")&&(q=S.type===i.Z.DYNAMIC),q}function ye(S){return S&&S.EssentialProperty_asArray&&S.EssentialProperty_asArray.length?S.EssentialProperty_asArray.map(function(q){return{schemeIdUri:q.schemeIdUri,value:q.value}}):null}function Te(S){if(!S||!S.S_asArray)return NaN;var q=S.S_asArray[0],B=S.S_asArray[1];return q.hasOwnProperty("d")?q.d:B.t-q.t}function X(S,q){if(!S)throw new Error("Period cannot be null or undefined");var B=tr.DEFAULT_ID+"_"+q;return S.hasOwnProperty(i.Z.ID)&&S.id.length>0&&S.id!=="__proto__"&&(B=S.id),B}function ge(S,q,B){var G,O=[];if(!S)return O;for(G=0;G<S.length;G++){var de=new Da;if(de.timescale=1,de.representation=q,!S[G].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");de.schemeIdUri=S[G].schemeIdUri,S[G].hasOwnProperty(i.Z.TIMESCALE)&&(de.timescale=S[G].timescale),S[G].hasOwnProperty(i.Z.VALUE)&&(de.value=S[G].value),O.push(de),de.period=B}return O}function ee(S){var q=[],B=S.BaseURL_asArray||[S.baseUri],G=!1;return B.some(function(O){if(O){var de=new Xr,ie=O.__text||O;return M.isRelative(ie)&&(G=!0,S.baseUri&&(ie=M.resolve(ie,S.baseUri))),de.url=ie,O.hasOwnProperty(i.Z.SERVICE_LOCATION)&&O.serviceLocation.length?de.serviceLocation=O.serviceLocation:de.serviceLocation=ie,O.hasOwnProperty(i.Z.DVB_PRIORITY)&&(de.dvbPriority=O[i.Z.DVB_PRIORITY]),O.hasOwnProperty(i.Z.DVB_WEIGHT)&&(de.dvbWeight=O[i.Z.DVB_WEIGHT]),O.hasOwnProperty(i.Z.AVAILABILITY_TIME_OFFSET)&&(de.availabilityTimeOffset=O[i.Z.AVAILABILITY_TIME_OFFSET]),O.hasOwnProperty(i.Z.AVAILABILITY_TIME_COMPLETE)&&(de.availabilityTimeComplete=O[i.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),q.push(de),G}}),q}function ve(S){var q=new bt;return q.serverUrl=S.__text,S.hasOwnProperty(i.Z.DEFAULT_SERVICE_LOCATION)&&(q.defaultServiceLocation=S[i.Z.DEFAULT_SERVICE_LOCATION],q.defaultServiceLocationArray=q.defaultServiceLocation.split(" ")),S.hasOwnProperty(i.Z.QUERY_BEFORE_START)&&(q.queryBeforeStart=S[i.Z.QUERY_BEFORE_START].toLowerCase()==="true"),S.hasOwnProperty(i.Z.CLIENT_REQUIREMENT)&&(q.clientRequirement=S[i.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),q}return g={getIsTypeOf:L,getIsText:Q,getIsFragmented:H,getProducerReferenceTimesForAdaptation:function(S){var q=S&&S.hasOwnProperty(i.Z.PRODUCERREFERENCETIME_ASARRAY)?S[i.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(S&&S.hasOwnProperty(i.Z.REPRESENTATION_ASARRAY)?S[i.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(G){var O;G.hasOwnProperty(i.Z.PRODUCERREFERENCETIME_ASARRAY)&&q.push.apply(q,function(de){if(Array.isArray(de))return An(de)}(O=G[i.Z.PRODUCERREFERENCETIME_ASARRAY])||function(de){if(typeof Symbol<"u"&&Symbol.iterator in Object(de))return Array.from(de)}(O)||gn(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var B=[];return q.forEach(function(G){var O=new Ct;G.hasOwnProperty(i.Z.ID)&&(O[i.Z.ID]=G[i.Z.ID],G.hasOwnProperty(i.Z.WALL_CLOCK_TIME)&&(O[i.Z.WALL_CLOCK_TIME]=G[i.Z.WALL_CLOCK_TIME],G.hasOwnProperty(i.Z.PRESENTATION_TIME)&&(O[i.Z.PRESENTATION_TIME]=G[i.Z.PRESENTATION_TIME],G.hasOwnProperty(i.Z.INBAND)&&(O[i.Z.INBAND]=G[i.Z.INBAND]!=="false"),G.hasOwnProperty(i.Z.TYPE)&&(O[i.Z.TYPE]=G[i.Z.TYPE]),B.push(O))))}),B},getLanguageForAdaptation:function(S){var q="";return S&&S.hasOwnProperty(i.Z.LANG)&&(q=S.lang),q},getViewpointForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.VIEWPOINT_ASARRAY)&&S[i.Z.VIEWPOINT_ASARRAY].length?S[i.Z.VIEWPOINT_ASARRAY].map(function(q){return new Ve().init(q)}):[]},getRolesForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.ROLE_ASARRAY)&&S[i.Z.ROLE_ASARRAY].length?S[i.Z.ROLE_ASARRAY].map(function(q){return new Ve().init(q)}):[]},getAccessibilityForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.ACCESSIBILITY_ASARRAY)&&S[i.Z.ACCESSIBILITY_ASARRAY].length?S[i.Z.ACCESSIBILITY_ASARRAY].map(function(q){return new Ve().init(q)}):[]},getAudioChannelConfigurationForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&S[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?S[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return new Ve().init(q)}):[]},getAudioChannelConfigurationForRepresentation:function(S){return S&&S.hasOwnProperty(i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&S[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?S[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return new Ve().init(q)}):[]},getAdaptationForIndex:function(S,q,B){var G=K(q,B);return G.length>0&&w(S)?G[S]:null},getIndexForAdaptation:function(S,q,B){if(!S)return-1;for(var G=K(q,B),O=0;O<G.length;O++)if(Ft(P).getInstance().areEqual(G[O],S))return O;return-1},getAdaptationForId:function(S,q,B){var G,O,de=K(q,B);for(G=0,O=de.length;G<O;G++)if(de[G].hasOwnProperty(i.Z.ID)&&de[G].id===S)return de[G];return null},getAdaptationsForType:function(S,q,B){var G,O,de=K(S,q),ie=[];for(G=0,O=de.length;G<O;G++)L(de[G],B)&&ie.push(W(de[G]));return ie},getRealPeriods:Ee,getRealPeriodForIndex:function(S,q){var B=Ee(q);return B.length>0&&w(S)?B[S]:null},getCodec:function(S,q,B){var G=null;if(S&&S.Representation_asArray&&S.Representation_asArray.length>0){var O=w(q)&&q>=0&&q<S.Representation_asArray.length?S.Representation_asArray[q]:S.Representation_asArray[0];O&&(G=O.mimeType+';codecs="'+O.codecs+'"',B&&O.width!==void 0&&(G+=';width="'+O.width+'";height="'+O.height+'"'))}return G&&(G=G.replace(/\sprofiles=[^;]*/g,"")),G},getSelectionPriority:function(S){try{var q=S&&S.selectionPriority!==void 0?parseInt(S.selectionPriority):1;return isNaN(q)?1:q}catch{return 1}},getMimeType:function(S){return S&&S.Representation_asArray&&S.Representation_asArray.length>0?S.Representation_asArray[0].mimeType:null},getKID:function(S){return S&&S.hasOwnProperty(i.Z.CENC_DEFAULT_KID)?S[i.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(S){if(!S||!Array.isArray(S.Label_asArray))return[];for(var q=[],B=0;B<S.Label_asArray.length;B++)q.push({lang:S.Label_asArray[B].lang,text:S.Label_asArray[B].__text||S.Label_asArray[B]});return q},getContentProtectionData:function(S){return S&&S.hasOwnProperty(i.Z.CONTENTPROTECTION_ASARRAY)&&S.ContentProtection_asArray.length!==0?S.ContentProtection_asArray:null},getIsDynamic:fe,getId:function(S){return S&&S[i.Z.ID]||null},hasProfile:function(S,q){var B=!1;return S&&S.profiles&&S.profiles.length>0&&(B=S.profiles.indexOf(q)!==-1),B},getDuration:function(S){return S&&S.hasOwnProperty(i.Z.MEDIA_PRESENTATION_DURATION)?S.mediaPresentationDuration:S&&S.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(S){return S&&S.bandwidth?S.bandwidth:NaN},getManifestUpdatePeriod:function(S){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=NaN;return S&&S.hasOwnProperty(i.Z.MINIMUM_UPDATE_PERIOD)&&(B=S.minimumUpdatePeriod),isNaN(B)?B:Math.max(B-q,1)},getPublishTime:function(S){return S&&S.hasOwnProperty(i.Z.PUBLISH_TIME)?new Date(S[i.Z.PUBLISH_TIME]):null},getRepresentationCount:function(S){return S&&Array.isArray(S.Representation_asArray)?S.Representation_asArray.length:0},getBitrateListForAdaptation:function(S){var q=W(S);return(q&&Array.isArray(q.Representation_asArray)?q.Representation_asArray:[]).map(function(B){return{bandwidth:B.bandwidth,width:B.width||0,height:B.height||0,scanType:B.scanType||null,id:B.id||null}})},getRepresentationFor:function(S,q){return q&&q.Representation_asArray&&q.Representation_asArray.length>0&&w(S)?q.Representation_asArray[S]:null},getRepresentationsForAdaptation:function(S){var q,B,G,O,de=[],ie=function(Oe){if(Oe&&Oe.period&&w(Oe.period.index)){var Be=Oe.period.mpd.manifest.Period_asArray[Oe.period.index];if(Be&&Be.AdaptationSet_asArray&&w(Oe.index))return W(Be.AdaptationSet_asArray[Oe.index])}}(S);if(ie&&ie.Representation_asArray){if(S&&S.period&&w(S.period.index)){var pe=ee(S.period.mpd.manifest);pe&&(B=pe[0])}for(var se=0,V=ie.Representation_asArray.length;se<V;++se){var le=ie.Representation_asArray[se],Ae=new cr;if(Ae.index=se,Ae.adaptation=S,le.hasOwnProperty(i.Z.ID)&&(Ae.id=le.id),le.hasOwnProperty(i.Z.CODECS)&&(Ae.codecs=le.codecs),le.hasOwnProperty(i.Z.MIME_TYPE)&&(Ae.mimeType=le[i.Z.MIME_TYPE]),le.hasOwnProperty(i.Z.CODEC_PRIVATE_DATA)&&(Ae.codecPrivateData=le.codecPrivateData),le.hasOwnProperty(i.Z.BANDWITH)&&(Ae.bandwidth=le.bandwidth),le.hasOwnProperty(i.Z.WIDTH)&&(Ae.width=le.width),le.hasOwnProperty(i.Z.HEIGHT)&&(Ae.height=le.height),le.hasOwnProperty(i.Z.SCAN_TYPE)&&(Ae.scanType=le.scanType),le.hasOwnProperty(i.Z.MAX_PLAYOUT_RATE)&&(Ae.maxPlayoutRate=le.maxPlayoutRate),le.hasOwnProperty(i.Z.SEGMENT_BASE)?(q=le.SegmentBase,Ae.segmentInfoType=i.Z.SEGMENT_BASE):le.hasOwnProperty(i.Z.SEGMENT_LIST)?(q=le.SegmentList).hasOwnProperty(i.Z.SEGMENT_TIMELINE)?Ae.segmentInfoType=i.Z.SEGMENT_TIMELINE:Ae.segmentInfoType=i.Z.SEGMENT_LIST:le.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)?((q=le.SegmentTemplate).hasOwnProperty(i.Z.SEGMENT_TIMELINE)?Ae.segmentInfoType=i.Z.SEGMENT_TIMELINE:Ae.segmentInfoType=i.Z.SEGMENT_TEMPLATE,q.hasOwnProperty(i.Z.INITIALIZATION_MINUS)&&(Ae.initialization=q.initialization.split("$Bandwidth$").join(le.bandwidth).split("$RepresentationID$").join(le.id))):Ae.segmentInfoType=i.Z.BASE_URL,Ae.essentialProperties=ye(le),q){if(q.hasOwnProperty(i.Z.INITIALIZATION)){var Ze=q.Initialization;Ze.hasOwnProperty(i.Z.SOURCE_URL)&&(Ae.initialization=Ze.sourceURL),Ze.hasOwnProperty(i.Z.RANGE)&&(Ae.range=Ze.range)}else Q(ie)&&H(ie)&&ie.mimeType&&ie.mimeType.indexOf("application/mp4")===-1&&(Ae.range=0);q.hasOwnProperty(i.Z.TIMESCALE)&&(Ae.timescale=q.timescale),q.hasOwnProperty(i.Z.DURATION)?Ae.segmentDuration=q.duration/Ae.timescale:le.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)&&(q=le.SegmentTemplate).hasOwnProperty(i.Z.SEGMENT_TIMELINE)&&(Ae.segmentDuration=Te(q.SegmentTimeline)/Ae.timescale),q.hasOwnProperty(i.Z.MEDIA)&&(Ae.media=q.media),q.hasOwnProperty(i.Z.START_NUMBER)&&(Ae.startNumber=q.startNumber),q.hasOwnProperty(i.Z.INDEX_RANGE)&&(Ae.indexRange=q.indexRange),q.hasOwnProperty(i.Z.PRESENTATION_TIME_OFFSET)&&(Ae.presentationTimeOffset=q.presentationTimeOffset/Ae.timescale),q.hasOwnProperty(i.Z.AVAILABILITY_TIME_OFFSET)?Ae.availabilityTimeOffset=q.availabilityTimeOffset:B&&B.availabilityTimeOffset!==void 0&&(Ae.availabilityTimeOffset=B.availabilityTimeOffset),q.hasOwnProperty(i.Z.AVAILABILITY_TIME_COMPLETE)?Ae.availabilityTimeComplete=q.availabilityTimeComplete!=="false":B&&B.availabilityTimeComplete!==void 0&&(Ae.availabilityTimeComplete=B.availabilityTimeComplete)}Ae.MSETimeOffset=(O=(G=Ae).presentationTimeOffset,G.adaptation.period.start-O),Ae.path=[S.period.index,S.index,se],de.push(Ae)}}return de},getAdaptationsForPeriod:function(S){var q,B,G,O=S&&w(S.index)?S.mpd.manifest.Period_asArray[S.index]:null,de=[];if(O&&O.AdaptationSet_asArray)for(G=0;G<O.AdaptationSet_asArray.length;G++)B=O.AdaptationSet_asArray[G],q=new Nn,B.hasOwnProperty(i.Z.ID)&&(q.id=B.id),q.index=G,q.period=S,L(B,o.Z.MUXED)?q.type=o.Z.MUXED:L(B,o.Z.AUDIO)?q.type=o.Z.AUDIO:J(B)?q.type=o.Z.VIDEO:Q(B)?q.type=o.Z.TEXT:F(B)?q.type=o.Z.IMAGE:c.warn("Unknown Adaptation stream type"),de.push(q);return de},getRegularPeriods:function(S){var q,B,G=!!S&&fe(S.manifest),O=[],de=null,ie=null,pe=null,se=null;for(B=0,q=S&&S.manifest&&S.manifest.Period_asArray?S.manifest.Period_asArray.length:0;B<q;B++)(ie=S.manifest.Period_asArray[B]).hasOwnProperty(i.Z.START)?(se=new tr).start=ie.start:de!==null&&de.hasOwnProperty(i.Z.DURATION)&&pe!==null?(se=new tr).start=parseFloat((pe.start+pe.duration).toFixed(5)):B!==0||G||((se=new tr).start=0),pe!==null&&isNaN(pe.duration)&&(se!==null?pe.duration=parseFloat((se.start-pe.start).toFixed(5)):c.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),se!==null&&(se.id=X(ie,B),se.index=B,se.mpd=S,ie.hasOwnProperty(i.Z.DURATION)&&(se.duration=ie.duration),pe&&(pe.nextPeriodId=se.id),O.push(se),de=ie,pe=se),ie=null,se=null;return O.length===0||pe!==null&&isNaN(pe.duration)&&(pe.duration=parseFloat((function(V){(function(){if(!h||!h.hasOwnProperty("error"))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var le,Ae=fe(V.mpd.manifest);return V.mpd.manifest.mediaPresentationDuration?le=V.mpd.manifest.mediaPresentationDuration:V.duration?le=V.duration:Ae?le=Number.POSITIVE_INFINITY:h.error(new ce.Z(oe.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",V)),le}(pe)-pe.start).toFixed(5))),O},getMpd:function(S){var q=new vr;return S&&(q.manifest=S,S.hasOwnProperty(i.Z.AVAILABILITY_START_TIME)?q.availabilityStartTime=new Date(S.availabilityStartTime.getTime()):S.loadedTime&&(q.availabilityStartTime=new Date(S.loadedTime.getTime())),S.hasOwnProperty(i.Z.AVAILABILITY_END_TIME)&&(q.availabilityEndTime=new Date(S.availabilityEndTime.getTime())),S.hasOwnProperty(i.Z.MINIMUM_UPDATE_PERIOD)&&(q.minimumUpdatePeriod=S.minimumUpdatePeriod),S.hasOwnProperty(i.Z.MEDIA_PRESENTATION_DURATION)&&(q.mediaPresentationDuration=S.mediaPresentationDuration),S.hasOwnProperty(i.Z.SUGGESTED_PRESENTATION_DELAY)&&(q.suggestedPresentationDelay=S.suggestedPresentationDelay),S.hasOwnProperty(i.Z.TIMESHIFT_BUFFER_DEPTH)&&(q.timeShiftBufferDepth=S.timeShiftBufferDepth),S.hasOwnProperty(i.Z.MAX_SEGMENT_DURATION)&&(q.maxSegmentDuration=S.maxSegmentDuration),S.hasOwnProperty(i.Z.PUBLISH_TIME)&&(q.publishTime=new Date(S.publishTime))),q},getEventsForPeriod:function(S){var q,B,G=S&&S.mpd&&S.mpd.manifest?S.mpd.manifest:null,O=G?G.Period_asArray:null,de=O&&S&&w(S.index)?O[S.index].EventStream_asArray:null,ie=[];if(de)for(q=0;q<de.length;q++){var pe=new Da;if(pe.period=S,pe.timescale=1,!de[q].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(pe.schemeIdUri=de[q][o.Z.SCHEME_ID_URI],de[q].hasOwnProperty(i.Z.TIMESCALE)&&(pe.timescale=de[q][i.Z.TIMESCALE]),de[q].hasOwnProperty(i.Z.VALUE)&&(pe.value=de[q][i.Z.VALUE]),de[q].hasOwnProperty(i.Z.PRESENTATION_TIME_OFFSET)&&(pe.presentationTimeOffset=de[q][i.Z.PRESENTATION_TIME_OFFSET]),B=0;de[q].Event_asArray&&B<de[q].Event_asArray.length;B++){var se=de[q].Event_asArray[B],V=new Er;V.presentationTime=0,V.eventStream=pe,se.hasOwnProperty(i.Z.PRESENTATION_TIME)&&(V.presentationTime=se.presentationTime);var le=pe.presentationTimeOffset?pe.presentationTimeOffset/pe.timescale:0;V.calculatedPresentationTime=V.presentationTime/pe.timescale+S.start-le,se.hasOwnProperty(i.Z.DURATION)&&(V.duration=se.duration/pe.timescale),se.hasOwnProperty(i.Z.ID)?V.id=se.id:V.id=null,se.Signal&&se.Signal.Binary?V.messageData=b.decodeArray(se.Signal.Binary.toString()):V.messageData=se.messageData||se.__cdata||se.__text,ie.push(V)}}return ie},getEssentialPropertiesForAdaptation:function(S){var q={};if(S&&S.hasOwnProperty(i.Z.ESSENTIAL_PROPERTY_ASARRAY)){var B,G=$t(S.EssentialProperty_asArray);try{for(G.s();!(B=G.n()).done;){var O=B.value;O.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(q[O[o.Z.SCHEME_ID_URI]]=wt({},O))}}catch(de){G.e(de)}finally{G.f()}}return q},getEssentialPropertiesAsArrayForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.ESSENTIAL_PROPERTY_ASARRAY)&&S.EssentialProperty_asArray.length?S.EssentialProperty_asArray.map(function(q){return new Ve().init(q)}):[]},getEssentialPropertiesForRepresentation:ye,getEventStreamForAdaptationSet:function(S,q,B){var G,O,de;return S&&S.Period_asArray&&q&&q.period&&w(q.period.index)&&(O=S.Period_asArray[q.period.index])&&O.AdaptationSet_asArray&&w(q.index)&&(de=O.AdaptationSet_asArray[q.index])&&(G=de.InbandEventStream_asArray),ge(G,null,B)},getEventStreamForRepresentation:function(S,q,B){var G,O,de,ie;return S&&S.Period_asArray&&q&&q.adaptation&&q.adaptation.period&&w(q.adaptation.period.index)&&(O=S.Period_asArray[q.adaptation.period.index])&&O.AdaptationSet_asArray&&w(q.adaptation.index)&&(de=O.AdaptationSet_asArray[q.adaptation.index])&&de.Representation_asArray&&w(q.index)&&(ie=de.Representation_asArray[q.index])&&(G=ie.InbandEventStream_asArray),ge(G,q,B)},getUTCTimingSources:function(S){var q=fe(S),B=!!S&&S.hasOwnProperty(i.Z.AVAILABILITY_START_TIME),G=S?S.UTCTiming_asArray:null,O=[];return(q||B)&&G&&G.forEach(function(de){var ie=new jr.Z;de.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(ie.schemeIdUri=de.schemeIdUri,de.hasOwnProperty(i.Z.VALUE)&&(ie.value=de.value.toString(),O.push(ie)))}),O},getBaseURLsFromElement:ee,getRepresentationSortFunction:function(){return function(S,q){return S.bandwidth-q.bandwidth}},getContentSteering:function(S){if(S&&S.hasOwnProperty(i.Z.CONTENT_STEERING_AS_ARRAY))return ve(S[i.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(S){return S&&S.hasOwnProperty(i.Z.LOCATION_AS_ARRAY)?S[i.Z.LOCATION_AS_ARRAY].map(function(q){var B=q.__text||q,G=q.hasOwnProperty(i.Z.SERVICE_LOCATION)?q[i.Z.SERVICE_LOCATION]:null;return new rn(B,G)}):[]},getPatchLocation:function(S){return S&&S.hasOwnProperty(i.Z.PATCH_LOCATION_AS_ARRAY)?S[i.Z.PATCH_LOCATION_AS_ARRAY].map(function(q){var B=q.__text||q,G=q.hasOwnProperty(i.Z.SERVICE_LOCATION)?q[i.Z.SERVICE_LOCATION]:null,O=q.hasOwnProperty(i.Z.TTL)?1e3*parseFloat(q[i.Z.TTL]):NaN;return new an(B,G,O)}):[]},getSuggestedPresentationDelay:function(S){return S&&S.hasOwnProperty(i.Z.SUGGESTED_PRESENTATION_DELAY)?S.suggestedPresentationDelay:null},getAvailabilityStartTime:function(S){return S&&S.hasOwnProperty(i.Z.AVAILABILITY_START_TIME)&&S.availabilityStartTime!==null?S.availabilityStartTime.getTime():null},getServiceDescriptions:function(S){var q=[];if(S&&S.hasOwnProperty(i.Z.SERVICE_DESCRIPTION)){var B,G=$t(S.ServiceDescription_asArray);try{for(G.s();!(B=G.n()).done;){var O=B.value,de=null,ie=null,pe=null,se=null,V=null,le=null,Ae=null;for(var Ze in O)O.hasOwnProperty(Ze)&&(Ze===i.Z.ID?de=O[Ze]:Ze===i.Z.SERVICE_DESCRIPTION_SCOPE?ie=O[Ze].schemeIdUri:Ze===i.Z.SERVICE_DESCRIPTION_LATENCY?pe={target:parseInt(O[Ze].target),max:parseInt(O[Ze].max),min:parseInt(O[Ze].min),referenceId:parseInt(O[Ze].referenceId)}:Ze===i.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?se={max:parseFloat(O[Ze].max),min:parseFloat(O[Ze].min)}:Ze===i.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?V={mediaType:O[Ze].mediaType,max:parseInt(O[Ze].max),min:parseInt(O[Ze].min),target:parseInt(O[Ze].target),type:O[Ze].type,maxQualityDifference:parseInt(O[Ze].maxQualityDifference)}:Ze===i.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?le={mediaType:O[Ze].mediaType,max:parseInt(O[Ze].max),min:parseInt(O[Ze].min),target:parseInt(O[Ze].target)}:Ze===i.Z.CONTENT_STEERING&&(Ae=ve(O[Ze])));q.push({id:de,schemeIdUri:ie,latency:pe,playbackRate:se,operatingQuality:V,operatingBandwidth:le,contentSteering:Ae})}}catch(Oe){G.e(Oe)}finally{G.f()}}return q},getSegmentAlignment:function(S){return!(!S||!S.hasOwnProperty(i.Z.SEGMENT_ALIGNMENT))&&S[i.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(S){return!(!S||!S.hasOwnProperty(i.Z.SUB_SEGMENT_ALIGNMENT))&&S[i.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(S){var q={};if(S&&S.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var B,G=$t(S.SupplementalProperty_asArray);try{for(G.s();!(B=G.n()).done;){var O=B.value;O.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(q[O[o.Z.SCHEME_ID_URI]]=wt({},O))}}catch(de){G.e(de)}finally{G.f()}}return q},getSupplementalPropertiesAsArrayForAdaptation:function(S){return S&&S.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&S.SupplementalProperty_asArray.length?S.SupplementalProperty_asArray.map(function(q){return new Ve().init(q)}):[]},getSupplementalPropertiesForRepresentation:function(S){var q={};if(S&&S.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var B,G=$t(S.SupplementalProperty_asArray);try{for(G.s();!(B=G.n()).done;){var O=B.value;O.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(q[O[o.Z.SCHEME_ID_URI]]=wt({},O))}}catch(de){G.e(de)}finally{G.f()}}return q},getSupplementalPropertiesAsArrayForRepresentation:function(S){return S&&S.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&S.SupplementalProperty_asArray.length?S.SupplementalProperty_asArray.map(function(q){return new Ve().init(q)}):[]},setConfig:function(S){S&&(S.errHandler&&(h=S.errHandler),S.BASE64&&(b=S.BASE64))}},c=(0,m.Z)(P).getInstance().getLogger(g),g}Dn.__dashjs_factory_name="DashManifestModel";var ln=R.Z.getSingletonFactory(Dn),At=v(703);function Dt(g,c){var h;if(typeof Symbol>"u"||g[Symbol.iterator]==null){if(Array.isArray(g)||(h=function(H,J){if(H){if(typeof H=="string")return qt(H,J);var Q=Object.prototype.toString.call(H).slice(8,-1);return Q==="Object"&&H.constructor&&(Q=H.constructor.name),Q==="Map"||Q==="Set"?Array.from(H):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?qt(H,J):void 0}}(g))||c){h&&(g=h);var b=0,P=function(){};return{s:P,n:function(){return b>=g.length?{done:!0}:{done:!1,value:g[b++]}},e:function(H){throw H},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,w=!0,L=!1;return{s:function(){h=g[Symbol.iterator]()},n:function(){var H=h.next();return w=H.done,H},e:function(H){L=!0,M=H},f:function(){try{w||h.return==null||h.return()}finally{if(L)throw M}}}}function qt(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}function dn(){var g,c,h,b,P,M,w,L,H,J,Q=this.context,F=(0,_.Z)(Q).getInstance(),W=(0,be.Z)(Q).getInstance();function K(){h={pr:1,nor:null,st:null,sf:null,sid:"".concat(At.Z.generateUuid()),cid:null},H={},L={},J={},fe()}function Ee(){fe()}function fe(){if(M){var O=M.getStreamController();if(O&&typeof O.getActiveStream=="function"){var de=O.getActiveStream();de&&(w=de.getProcessors())}}}function ye(O,de){var ie,pe={},se=Dt(de);try{for(se.s();!(ie=se.n()).done;){var V=ie.value;O[V]&&(pe[V]=O[V])}}catch(le){se.e(le)}finally{se.f()}return pe}function Te(O){var de=W.get().streaming.cmcd.enabledKeys;return O.filter(function(ie){return de.includes(ie)})}function X(O){try{return O.type===Pe.w.MPD_TYPE?((ie=ge()).ot="m",ie):O.type===Pe.w.MEDIA_SEGMENT_TYPE?(de=O.mediaType,J.hasOwnProperty(de)||(J[de]=!1),L.hasOwnProperty(de)||(L[de]=!1),H.hasOwnProperty(de)||(H[de]=!1),function(pe){var se,V=ge(),le=function(it){try{var Ut=it.quality,De=it.mediaInfo.bitrateList;return parseInt(De[Ut].bandwidth/1e3)}catch{return null}}(pe),Ae=function(it){try{return isNaN(it.duration)?NaN:Math.round(1e3*it.duration)}catch{return null}}(pe),Ze=function(it){try{return 100*parseInt(b.getThroughputHistory().getSafeAverageThroughput(it)/100)}catch{return null}}(pe.mediaType),Oe=function(it){try{var Ut=h.pr,De=P.getCurrentBufferLevel(it);return isNaN(Ut)||isNaN(De)?null:100*parseInt(De/Ut*10)}catch{return null}}(pe.mediaType),Be=ee(pe.mediaType),ke=function(it){try{var Ut=b.getTopBitrateInfoFor(it);return Math.round(Ut.bitrate/1e3)}catch{return null}}(pe.mediaType),lt=h.pr,ut=function(it){if(w&&w.length!==0){var Ut,De=Dt(w);try{for(De.s();!(Ut=De.n()).done;){var ze=Ut.value;if(ze.getType()===it)return ze.probeNextRequest()}}catch(mt){De.e(mt)}finally{De.f()}}}(pe.mediaType);pe.mediaType===o.Z.VIDEO&&(se="v"),pe.mediaType===o.Z.AUDIO&&(se="a"),pe.mediaType===o.Z.TEXT&&(se=pe.mediaInfo.mimeType==="application/mp4"?"tt":"c");var rt=W.get().streaming.cmcd.rtp;return rt||(rt=function(it){try{var Ut=M.getPlaybackRate();Ut||(Ut=1);var De=it.quality,ze=it.mediaType,mt=it.mediaInfo,Xe=it.duration;if(!mt)return NaN;var Tt=ee(ze);Tt===0&&(Tt=500);var _t=mt.bitrateList[De].bandwidth*Xe/1e3/(Tt/Ut/1e3),pt=W.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(W.get().streaming.cmcd.rtpSafetyFactor)?W.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(_t*pt/100)+1)}catch{return NaN}}(pe)),isNaN(rt)||(V.rtp=rt),ut&&(pe.url!==ut.url?V.nor=encodeURIComponent(At.Z.getRelativeUrl(pe.url,ut.url)):ut.range&&(V.nrr=ut.range)),le&&(V.br=le),se&&(V.ot=se),isNaN(Ae)||(V.d=Ae),isNaN(Ze)||(V.mtp=Ze),isNaN(Oe)||(V.dl=Oe),isNaN(Be)||(V.bl=Be),isNaN(ke)||(V.tb=ke),isNaN(lt)||lt===1||(V.pr=lt),H[pe.mediaType]&&(V.bs=!0,H[pe.mediaType]=!1),!L[pe.mediaType]&&J[pe.mediaType]||(V.su=!0,L[pe.mediaType]=!1,J[pe.mediaType]=!0),V}(O)):O.type===Pe.w.INIT_SEGMENT_TYPE?function(){var pe=ge();return pe.ot="i",pe.su=!0,pe}():O.type===Pe.w.OTHER_TYPE||O.type===Pe.w.XLINK_EXPANSION_TYPE?function(){var pe=ge();return pe.ot="o",pe}():O.type===Pe.w.LICENSE?function(pe){var se=ge();return se.ot="k",se}():null}catch{return null}var de,ie}function ge(){var O={},de=W.get().streaming.cmcd.cid?W.get().streaming.cmcd.cid:h.cid;return O.v=1,O.sid=W.get().streaming.cmcd.sid?W.get().streaming.cmcd.sid:h.sid,O.sid="".concat(O.sid),de&&(O.cid="".concat(de)),isNaN(h.pr)||h.pr===1||h.pr===null||(O.pr=h.pr),h.st&&(O.st=h.st),h.sf&&(O.sf=h.sf),O}function ee(O){try{var de=P.getCurrentBufferLevel(O);return isNaN(de)?null:100*parseInt(10*de)}catch{return null}}function ve(O){try{h.pr=O.playbackRate}catch{}}function S(O){try{var de=g.getIsDynamic(O.data)?"l":"v",ie=O.protocol&&O.protocol==="MSS"?"s":"d";h.st="".concat(de),h.sf="".concat(ie)}catch{}}function q(O){try{O.state&&O.mediaType&&O.state===r.Z.BUFFER_EMPTY&&(H[O.mediaType]||(H[O.mediaType]=!0),L[O.mediaType]||(L[O.mediaType]=!0))}catch{}}function B(){for(var O in H)H.hasOwnProperty(O)&&(H[O]=!0);for(var de in L)L.hasOwnProperty(de)&&(L[de]=!0)}function G(O){try{if(!O)return null;var de=Object.keys(O).sort(function(se,V){return se.localeCompare(V)}),ie=de.length,pe=de.reduce(function(se,V,le){return V==="v"&&O[V]===1||(typeof O[V]=="string"&&V!=="ot"&&V!=="sf"&&V!=="st"?se+="".concat(V,"=").concat(JSON.stringify(O[V])):se+="".concat(V,"=").concat(O[V]),le<ie-1&&(se+=",")),se},"");return(pe=pe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return c={getQueryParameter:function(O){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var de=X(O),ie=function(se){try{var V=W.get().streaming.cmcd.enabledKeys;return Object.keys(se).filter(function(le){return V.includes(le)}).reduce(function(le,Ae){return le[Ae]=se[Ae],le},{})}catch{return se}}(de),pe=G(ie);return F.trigger(Mn.Z.CMCD_DATA_GENERATED,{url:O.url,mediaType:O.mediaType,cmcdData:de,cmcdString:pe}),{key:"CMCD",value:pe}}return null}catch{return null}},getHeaderParameters:function(O){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var de=X(O),ie=ye(de,Te(["br","d","ot","tb"])),pe=ye(de,Te(["bl","dl","mtp","nor","nrr","su"])),se=ye(de,Te(["bs","rtp"])),V=ye(de,Te(["cid","pr","sf","sid","st","v"])),le={"CMCD-Object":G(ie),"CMCD-Request":G(pe),"CMCD-Status":G(se),"CMCD-Session":G(V)};return F.trigger(Mn.Z.CMCD_DATA_GENERATED,{url:O.url,mediaType:O.mediaType,cmcdData:de,headers:le}),le}return null}catch{return null}},setConfig:function(O){O&&(O.abrController&&(b=O.abrController),O.dashMetrics&&(P=O.dashMetrics),O.playbackController&&(M=O.playbackController))},reset:function(){F.off(r.Z.PLAYBACK_RATE_CHANGED,ve,this),F.off(r.Z.MANIFEST_LOADED,S,this),F.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,q,c),F.off(r.Z.PLAYBACK_SEEKED,B,c),K()},initialize:function(){F.on(r.Z.PLAYBACK_RATE_CHANGED,ve,c),F.on(r.Z.MANIFEST_LOADED,S,c),F.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,q,c),F.on(r.Z.PLAYBACK_SEEKED,B,c),F.on(r.Z.PERIOD_SWITCH_COMPLETED,Ee,c)}},g=ln(Q).getInstance(),K(),c}dn.__dashjs_factory_name="CmcdModel";var mn=R.Z.getSingletonFactory(dn);function In(g){return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},In(g)}function Cn(g,c){Cn=function(L,H){return new M(L,void 0,H)};var h=pr(RegExp),b=RegExp.prototype,P=new WeakMap;function M(L,H,J){var Q=h.call(this,L,H);return P.set(Q,J||P.get(L)),Q}function w(L,H){var J=P.get(H);return Object.keys(J).reduce(function(Q,F){return Q[F]=L[J[F]],Q},Object.create(null))}return gr(M,h),M.prototype.exec=function(L){var H=b.exec.call(this,L);return H&&(H.groups=w(H,this)),H},M.prototype[Symbol.replace]=function(L,H){if(typeof H=="string"){var J=P.get(this);return b[Symbol.replace].call(this,L,H.replace(/\$<([^>]+)>/g,function(F,W){return"$"+J[W]}))}if(typeof H=="function"){var Q=this;return b[Symbol.replace].call(this,L,function(){var F=[];return F.push.apply(F,arguments),In(F[F.length-1])!=="object"&&F.push(w(F,Q)),H.apply(this,F)})}return b[Symbol.replace].call(this,L,H)},Cn.apply(this,arguments)}function gr(g,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(c&&c.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),c&&Vn(g,c)}function pr(g){var c=typeof Map=="function"?new Map:void 0;return pr=function(h){if(h===null||(b=h,Function.toString.call(b).indexOf("[native code]")===-1))return h;var b;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(h))return c.get(h);c.set(h,P)}function P(){return jn(h,arguments,hr(this).constructor)}return P.prototype=Object.create(h.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),Vn(P,h)},pr(g)}function jn(g,c,h){return jn=ar()?Reflect.construct:function(b,P,M){var w=[null];w.push.apply(w,P);var L=new(Function.bind.apply(b,w));return M&&Vn(L,M.prototype),L},jn.apply(null,arguments)}function ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vn(g,c){return Vn=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},Vn(g,c)}function hr(g){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},hr(g)}var ki="static",$r="dynamic",li="cmsd-",Ar=li+ki,gs=li+$r,Oa="stream",ps=["mb","st","sf","v"],hs={video:"v",audio:"a",text:"tt",stream:Oa},ms=/^[-0-9]/;function Ma(){var g,c,h,b,P=this.context,M=(0,_.Z)(P).getInstance();function w(){h={},b={}}function L(K){K&&Object.keys(K).forEach(function(Ee){ps.includes(Ee)||delete K[Ee]})}function H(K){return!K||K.toLowerCase()!=="false"&&(ms.test(K)?parseInt(K,10):K.replace(/["]+/g,""))}function J(K){try{for(var Ee={},fe=K.split(","),ye=0;ye<fe.length;ye++){var Te=fe[ye].split("="),X=Te[0],ge=H(Te[1]);Ee[X]=ge}return Ee}catch(ee){c.error("Failed to parse CMSD-Static response header value:",ee)}}function Q(K){try{for(var Ee={},fe=K.split(","),ye=fe[fe.length-1].split(";"),Te=1;Te<ye.length;Te++){var X=ye[Te].split("="),ge=X[0],ee=H(X[1]);Ee[ge]=ee}return Ee}catch(ve){return c.error("Failed to parse CMSD-Dynamic response header value:",ve),[]}}function F(K){return hs[K]||"o"}function W(K,Ee,fe){var ye=K===ki?h:b,Te=ye[Ee]||{},X=ye[Oa]||{};return Te[fe]||X[fe]}return g={setConfig:function(){},initialize:function(){},reset:function(){w()},parseResponseHeaders:function(K,Ee){for(var fe=null,ye=null,Te=K.split(`\r
`),X=Te.length-1;X>=0;X--){var ge=Te[X].match(Cn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ge&&ge.groups){var ee=ge.groups.key.toLowerCase(),ve=ge.groups.value;switch(ee){case Ar:fe=J(ve),M.trigger(f.Z.CMSD_STATIC_HEADER,fe);break;case gs:ye||(ye=Q(ve))}}}var S=Oa;return fe&&fe.ot?S=fe.ot:Ee&&(S=F(Ee)),L(h[S]),L(b[S]),fe&&(h[S]=Object.assign(h[S]||{},fe)),ye&&(b[S]=Object.assign(b[S]||{},ye)),{static:fe,dynamic:ye}},getMaxBitrate:function(K){var Ee=F(K);return W($r,Ee,"mb")||-1},getEstimatedThroughput:function(K){var Ee=F(K);return W($r,Ee,"etp")||null},getResponseDelay:function(K){var Ee=F(K);return W($r,Ee,"rd")||null},getRoundTripTime:function(K){var Ee=F(K);return W($r,Ee,"rtt")||null}},c=(0,m.Z)(P).getInstance().getLogger(g),w(),g}Ma.__dashjs_factory_name="CmsdModel";var xt=R.Z.getSingletonFactory(Ma);function un(){var g,c,h=this.context,b={};function P(){c=(0,m.Z)(h).getInstance().getLogger(g)}function M(L){for(var H={},J=0,Q=0,F=0,W=0,K=L.length,Ee=0;Ee<K;++Ee)J+=L[Ee].chunkDownloadTimeRelativeMS,Q+=L[Ee].bufferLevel,F+=L[Ee].chunkDownloadTimeRelativeMS*L[Ee].bufferLevel,W+=L[Ee].chunkDownloadTimeRelativeMS*L[Ee].chunkDownloadTimeRelativeMS;return H.m=(F-J*Q/K)/(W-J*J/K),H.b=Q/K-H.m*J/K,function(fe){return H.m*fe+H.b}}function w(L){var H,J=!0,Q=L.reduce(function(F,W){return F+W.bufferLevelAtSegmentEnd},0)/L.length;return L.forEach(function(F){Math.abs(F.bufferLevelAtSegmentEnd/F.bufferLevelAtSegmentStart)<.95&&(J=!1),F.bufferLevelAtSegmentEnd/Q<.8&&(J=!1),H?H>F.bitrate&&(J=!1):H=F.bitrate}),J}return g={setup:P,addMeasurement:function(L,H,J,Q,F){L&&L.mediaType&&!b[L.mediaType]&&(b[L.mediaType]=[]);var W=L.mediaInfo.bitrateList.find(function(K){return K.id===L.representationId});b[L.mediaType].push({index:L.index,repId:L.representationId,mediaType:L.mediaType,requestTimeMS:Q,adjustedAvailabilityStartTimeMS:L.availabilityStartTime.getTime(),segDurationMS:1e3*L.duration,chunksDurationMS:J.reduce(function(K,Ee){return K+Ee.chunkDownloadDurationMS},0),segmentBytes:J.reduce(function(K,Ee){return K+Ee.chunkBytes},0),bitrate:W&&W.bandwidth,bitrateList:L.mediaInfo.bitrateList,chunkMeasurements:J,fetchDownloadDurationMS:H,throughputCapacityDelayMS:F,getEstimatedBufferLevel:M(J.slice(1))}),b[L.mediaType].length>10&&b[L.mediaType].shift()},getThroughputCapacityDelayMS:function(L,H){var J=b[L.mediaType]&&b[L.mediaType].slice(-3);return!J||J.length<3?0:w(J)?H/4>250?250:H/4:0},getEstimatedDownloadDurationMS:function(L){var H=b[L.mediaType].slice(-1).pop(),J=b[L.mediaType].slice(-3),Q=H.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;H.bufferLevelAtSegmentStart=H.getEstimatedBufferLevel(Q/2),H.bufferLevelAtSegmentEnd=H.getEstimatedBufferLevel(Q);var F=w(J),W=F?.6:.8;if(H.isBufferStable&&1.05*H.segDurationMS<H.fetchDownloadDurationMS)return H.fetchDownloadDurationMS;if(!F||H.segDurationMS<H.fetchDownloadDurationMS||H.adjustedAvailabilityStartTimeMS<=H.requestTimeMS+H.throughputCapacityDelayMS-H.segDurationMS)return .8*H.fetchDownloadDurationMS;for(var K=H.requestTimeMS+H.throughputCapacityDelayMS-H.adjustedAvailabilityStartTimeMS,Ee=0,fe=0,ye=0,Te=0;Te<H.chunkMeasurements.length;Te++){var X=H.chunkMeasurements[Te];if(K<fe+X.chunkDownloadDurationMS)break;fe+=X.chunkDownloadDurationMS,Ee+=X.chunkBytes,ye++}if(K<0&&c.warn("request time was before adjusted availibitly start time"),Ee&&fe&&ye>.2*H.chunkMeasurements.length){var ge=Ee/fe,ee=H.segmentBytes/ge;return H.fetchDownloadDurationMS<ee?H.fetchDownloadDurationMS*W:ee*W}var ve=H.bitrate;return H.bitrateList.some(function(S){if(S.bandwidth>H.bitrate)return ve=S.bandwidth,!0}),ve===H.bitrate?H.fetchDownloadDurationMS*W:W*H.segmentBytes*8*1e3/ve}},P(),g}un.__dashjs_factory_name="LowLatencyThroughputModel";var Tn=R.Z.getSingletonFactory(un),Kn=v(5717);function Pn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function or(g){g=g||{};var c,h,b,P,M,w,L,H,J,Q,F,W=this.context,K=g.errHandler,Ee=g.dashMetrics,fe=g.mediaPlayerModel,ye=g.requestModifier,Te=g.boxParser,X=g.errors,ge=g.requestTimeout||0,ee=(0,_.Z)(W).getInstance(),ve=(0,be.Z)(W).getInstance();function S(q,B){var G,O=q.request,de=[],ie=!0,pe=!0,se=new Date,V=se,le=0,Ae=null,Ze=null;if(!ye||!Ee||!K)throw new Error("config object is not correct or missing");var Oe,Be=function(Tt){O.requestStartDate=se,O.requestEndDate=new Date,O.firstByteDate=O.firstByteDate||se,O.fileLoaderType=Ze;var _t=G.response?G.response.responseURL:null,pt=G.response?G.response.status:null,Kt=G.response&&G.response.getAllResponseHeaders?G.response.getAllResponseHeaders():G.response?G.response.responseHeaders:null,Vt=Kt&&ve.get().streaming.cmsd&&ve.get().streaming.cmsd.enabled?L.parseResponseHeaders(Kt,O.mediaType):null;Ee.addHttpRequest(O,_t,pt,Kt,Tt?de:null,Vt)},ke=function(Tt){pe=!1,Be(Tt),O.type===Pe.w.MPD_TYPE&&(Ee.addManifestUpdate(O),ee.trigger(f.Z.MANIFEST_LOADING_FINISHED,{request:O}))},lt=function(){if(Ae&&(clearTimeout(Ae),Ae=null),h.indexOf(G)!==-1&&(h.splice(h.indexOf(G),1),pe))if(ke(!1),B>0){try{ve.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&O.type===Pe.w.MEDIA_SEGMENT_TYPE&&fe.getRetryAttemptsForType(Pe.w.MEDIA_SEGMENT_TYPE)===B&&ee.trigger(f.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}B--;var Tt={config:q};P.push(Tt),Tt.timeout=setTimeout(function(){P.indexOf(Tt)!==-1&&(P.splice(P.indexOf(Tt),1),S(q,B))},fe.getRetryIntervalsForType(O.type))}else{if(O.type===Pe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;K.error(new ce.Z(M[O.type],O.url+" is not available",{request:O,response:G.response})),q.error&&q.error(O,"error",G.response.statusText,G.response),q.complete&&q.complete(O,G.response.statusText)}};O.hasOwnProperty("availabilityTimeComplete")&&O.availabilityTimeComplete===!1&&window.fetch&&O.responseType==="arraybuffer"&&O.type===Pe.w.MEDIA_SEGMENT_TYPE?((Oe=kn(W).create({requestModifier:ye,lowLatencyThroughputModel:J,boxParser:Te})).setup({dashMetrics:Ee}),Ze=o.Z.FILE_LOADER_TYPES.FETCH):(Oe=(0,Gt.Z)(W).create({requestModifier:ye}),Ze=o.Z.FILE_LOADER_TYPES.XHR);var ut=null,rt=ye.modifyRequestURL?ye.modifyRequestURL(O.url):O.url;if(ve.get().streaming.cmcd&&ve.get().streaming.cmcd.enabled){var it=ve.get().streaming.cmcd.mode;if(it===o.Z.CMCD_MODE_QUERY){var Ut=function(Tt){try{var _t=[],pt=w.getQueryParameter(Tt);return pt&&_t.push(pt),_t}catch{return[]}}(O);rt=At.Z.addAditionalQueryParameterToUrl(rt,Ut)}else it===o.Z.CMCD_MODE_HEADER&&(ut=w.getHeaderParameters(O))}var De=H.getXHRWithCredentialsForType(O.type);if(O.queryParams){var ze=Object.keys(O.queryParams).map(function(Tt){return{key:Tt,value:O.queryParams[Tt]}});rt=At.Z.addAditionalQueryParameterToUrl(rt,ze)}O.url=rt,G={url:rt,method:Pe.w.GET,withCredentials:De,request:O,onload:function(){G.response.status>=200&&G.response.status<=299&&(ke(!0),q.success&&q.success(G.response.response,G.response.statusText,G.response.responseURL),q.complete&&q.complete(O,G.response.statusText))},onend:lt,onerror:lt,progress:function(Tt){var _t=new Date;ie&&(ie=!1,(!Tt.lengthComputable||Tt.lengthComputable&&Tt.total!==Tt.loaded)&&(O.firstByteDate=_t)),Tt.lengthComputable&&(O.bytesLoaded=Tt.loaded,O.bytesTotal=Tt.total),Tt.noTrace||(de.push({s:V,d:Tt.time?Tt.time:_t.getTime()-V.getTime(),b:[Tt.loaded?Tt.loaded-le:0]}),V=_t,le=Tt.loaded),Ae&&(clearTimeout(Ae),Ae=null),ve.get().streaming.fragmentRequestProgressTimeout>0&&(Ae=setTimeout(function(){Q.warn("Abort request "+G.url+" due to progress timeout"),G.response.onabort=null,G.loader.abort(G),lt()},ve.get().streaming.fragmentRequestProgressTimeout)),q.progress&&Tt&&q.progress(Tt)},onabort:function(){Be(!0),Ae&&(clearTimeout(Ae),Ae=null),q.abort&&q.abort(O)},ontimeout:function(Tt){var _t;if(Tt.lengthComputable){var pt=Tt.loaded/Tt.total*100;_t="Request timeout: loaded: "+Tt.loaded+", out of: "+Tt.total+" : "+pt.toFixed(3)+"% Completed"}else _t="Request timeout: non-computable download size";Q.warn(_t)},loader:Oe,timeout:ge,headers:ut};var mt=new Date().getTime();if(isNaN(O.delayLoadingTime)||mt>=O.delayLoadingTime)h.push(G),Oe.load(G);else{var Xe={httpRequest:G};b.push(Xe),Xe.delayTimeout=setTimeout(function(){if(b.indexOf(Xe)!==-1){b.splice(b.indexOf(Xe),1);try{se=new Date,V=se,h.push(Xe.httpRequest),Oe.load(Xe.httpRequest)}catch{Xe.httpRequest.onerror()}}},O.delayLoadingTime-mt)}}return c={load:function(q){q.request?S(q,fe.getRetryAttemptsForType(q.request.type)):q.error&&q.error(q.request,"error")},abort:function(){P.forEach(function(q){clearTimeout(q.timeout),q.config.request&&q.config.abort&&q.config.abort(q.config.request)}),P=[],b.forEach(function(q){return clearTimeout(q.delayTimeout)}),b=[],h.forEach(function(q){q.request.type!==Pe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(q.onloadend=q.onerror=q.onprogress=void 0,q.loader.abort(q))}),h=[]}},Q=(0,m.Z)(W).getInstance().getLogger(c),h=[],b=[],P=[],w=mn(W).getInstance(),L=xt(W).getInstance(),J=Tn(W).getInstance(),H=(0,Kn.Z)(W).getInstance(),Pn(F={},Pe.w.MPD_TYPE,X.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Pn(F,Pe.w.XLINK_EXPANSION_TYPE,X.DOWNLOAD_ERROR_ID_XLINK_CODE),Pn(F,Pe.w.INIT_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Pn(F,Pe.w.MEDIA_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(F,Pe.w.INDEX_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(F,Pe.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(F,Pe.w.OTHER_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),M=F,c}or.__dashjs_factory_name="HTTPLoader";var Zn=R.Z.getClassFactory(or);function zr(){var g;function c(){g={}}function h(){c()}return h(),{getLoader:function(b){for(var P in g)if(g.hasOwnProperty(P)&&b.startsWith(P))return g[P];return Zn},registerLoader:function(b,P){g[b]=P},unregisterLoader:function(b){g[b]&&delete g[b]},unregisterAllLoader:c,reset:h}}zr.__dashjs_factory_name="SchemeLoaderFactory";var nr=R.Z.getSingletonFactory(zr);function zn(g){g=g||{};var c,h,b=this.context;return c=nr(b).getInstance(),{load:function(P){if(!h){var M=c.getLoader(P&&P.request?P.request.url:null);h=M(b).create({errHandler:g.errHandler,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,dashMetrics:g.dashMetrics,boxParser:g.boxParser?g.boxParser:null,constants:g.constants?g.constants:null,dashConstants:g.dashConstants?g.dashConstants:null,urlUtils:g.urlUtils?g.urlUtils:null,requestTimeout:isNaN(g.requestTimeout)?0:g.requestTimeout,errors:g.errors})}h.load(P)},abort:function(){h&&h.abort()}}}zn.__dashjs_factory_name="URLLoader";var wr=R.Z.getClassFactory(zn);function br(g){return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},br(g)}function ui(g,c){return ui=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},ui(g,c)}function Jr(g,c){return!c||br(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function ci(g){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},ci(g)}var Fi=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&ui(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=ci(c);if(h){var L=ci(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return Jr(this,M)});function P(M){var w;return function(L,H){if(!(L instanceof H))throw new TypeError("Cannot call a class as a function")}(this,P),(w=b.call(this,M)).checkForExistenceOnly=!0,w}return P}(I.Z);function vo(g){g=g||{};var c,h,b=this.context,P=g.eventBus,M=g.events,w=g.urlUtils,L=g.errors,H=g.streamId;return c={checkForExistence:function(J){var Q=function(W){P.trigger(M.CHECK_FOR_EXISTENCE_COMPLETED,{request:J,exists:W})};if(J){var F=new Fi(J.url);h.load({request:F,success:function(){Q(!0)},error:function(){Q(!1)}})}else Q(!1)},load:function(J){var Q=function(F,W){P.trigger(M.LOADING_COMPLETED,{request:J,response:F||null,error:W||null,sender:c})};J?h.load({request:J,progress:function(F){P.trigger(M.LOADING_PROGRESS,{request:J,stream:F.stream,streamId:H}),F.data&&P.trigger(M.LOADING_DATA_PROGRESS,{request:J,response:F.data||null,error:null,sender:c})},success:function(F){Q(F)},error:function(F,W,K){Q(void 0,new ce.Z(L.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,K,W))},abort:function(F){F&&P.trigger(M.LOADING_ABANDONED,{mediaType:F.mediaType,request:F,sender:c})}}):Q(void 0,new ce.Z(L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){h&&h.abort()},reset:function(){h&&(h.abort(),h=null)}},h=wr(b).create({errHandler:g.errHandler,errors:L,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:w,constants:o.Z,boxParser:g.boxParser,dashConstants:g.dashConstants,requestTimeout:g.settings.get().streaming.fragmentRequestTimeout}),c}vo.__dashjs_factory_name="FragmentLoader";var Pa=R.Z.getClassFactory(vo);function La(){return{modifyResponseAsync:function(g){return Promise.resolve(g)}}}La.__dashjs_factory_name="SegmentResponseModifier";var ys=R.Z.getSingletonFactory(La);function vs(g){g=g||{};var c,h,b,P=this.context,M=(0,_.Z)(P).getInstance(),w=g.errHandler,L=g.mediaPlayerModel,H=g.dashMetrics,J=(0,m.Z)(P).getInstance(),Q=ys(P).getInstance(),F=g.streamInfo;function W(){return F.id}function K(){for(var fe in b)b[fe].reset();b={}}function Ee(fe){if(fe.sender){var ye=fe.request,Te=fe.response,X=ye.isInitializationRequest(),ge=ye.mediaInfo.streamInfo;if(fe.error&&(ye.mediaType===o.Z.AUDIO||ye.mediaType===o.Z.VIDEO||ye.mediaType===o.Z.TEXT&&ye.mediaInfo.isFragmented)&&M.trigger(f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:fe.request.serviceLocation}),Te&&ge){var ee=function(ve,S,q,B){var G=new Ot;return G.streamId=q,G.mediaInfo=S.mediaInfo,G.segmentType=S.type,G.start=S.startTime,G.duration=S.duration,G.end=G.start+G.duration,G.bytes=ve,G.index=S.index,G.quality=S.quality,G.representationId=S.representationId,G.endFragment=B,G}(Te,ye,F.id,fe.type!==f.Z.FRAGMENT_LOADING_PROGRESS);Q.modifyResponseAsync(ee).then(function(ve){M.trigger(X?f.Z.INIT_FRAGMENT_LOADED:f.Z.MEDIA_FRAGMENT_LOADED,{chunk:ve,request:ye},{streamId:ge.id,mediaType:ye.mediaType})}).catch(function(ve){h.error(ve),M.trigger(X?f.Z.INIT_FRAGMENT_LOADED:f.Z.MEDIA_FRAGMENT_LOADED,{chunk:ee,request:ye},{streamId:ge.id,mediaType:ye.mediaType})})}else h.warn("No "+ye.mediaType+" bytes to push or stream is inactive.")}}return c={getStreamId:W,getModel:function(fe){var ye=b[fe];return ye||(ye=te(P).create({streamInfo:F,type:fe,dashMetrics:H,fragmentLoader:Pa(P).create({dashMetrics:H,mediaPlayerModel:L,errHandler:w,requestModifier:(0,Me.Z)(P).getInstance(),settings:g.settings,boxParser:g.boxParser,eventBus:M,events:f.Z,errors:oe,dashConstants:g.dashConstants,urlUtils:g.urlUtils,streamId:W()}),debug:J,eventBus:M,events:f.Z}),b[fe]=ye),ye},reset:function(){M.off(r.Z.FRAGMENT_LOADING_COMPLETED,Ee,this),M.off(r.Z.FRAGMENT_LOADING_PROGRESS,Ee,this),K()}},h=J.getLogger(c),K(),M.on(r.Z.FRAGMENT_LOADING_COMPLETED,Ee,c),M.on(r.Z.FRAGMENT_LOADING_PROGRESS,Ee,c),c}vs.__dashjs_factory_name="FragmentController";var iu=R.Z.getClassFactory(vs),au=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Es=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function _s(g){var c,h,b=this.context,P=g.streamInfo;function M(L){h.setTrackByIndex(L)}function w(){h&&h.reset()}return c={getStreamId:function(){return P.id},initialize:function(){h.addTracks();var L=h.getTracks();L&&L.length>0&&M(0)},provide:function(L,H){if(typeof H=="function"){var J,Q,F=h.getCurrentTrack();if(!F||F.segmentDuration<=0||L==null)H(null);else{(Q=h.getThumbnailRequestForTime(L))&&(F.segmentDuration=Q.duration),J=L%F.segmentDuration;var W=Math.floor(J*F.tilesHor*F.tilesVert/F.segmentDuration),K=new au;if(K.width=Math.floor(F.widthPerTile),K.height=Math.floor(F.heightPerTile),K.x=Math.floor(W%F.tilesHor)*F.widthPerTile,K.y=Math.floor(W/F.tilesHor)*F.heightPerTile,"readThumbnail"in F)return F.readThumbnail(L,function(fe){K.url=fe,H(K)});if(Q)K.url=Q.url,F.segmentDuration=NaN;else{var Ee=Math.floor(L/F.segmentDuration);K.url=function(fe,ye){var Te=ye+fe.startNumber,X=(0,p.vi)(fe.templateUrl,"Number",Te);return X=(0,p.vi)(X,"Time",(Te-1)*fe.segmentDuration*fe.timescale),X=(0,p.vi)(X,"Bandwidth",fe.bandwidth),(0,p.eR)(X)}(F,Ee)}H(K)}}},setTrackByIndex:M,getCurrentTrackIndex:function(){return h.getCurrentTrackIndex()},getBitrateList:function(){var L=h.getTracks(),H=0;return L.map(function(J){var Q=new Es;return Q.mediaType=o.Z.IMAGE,Q.qualityIndex=H++,Q.bitrate=J.bitrate,Q.width=J.width,Q.height=J.height,Q})},reset:w},w(),h=(0,Bt.Z)(b).create({streamInfo:P,adapter:g.adapter,baseURLController:g.baseURLController,timelineConverter:g.timelineConverter,debug:g.debug,eventBus:g.eventBus,events:g.events,dashConstants:g.dashConstants,dashMetrics:g.dashMetrics,segmentBaseController:g.segmentBaseController}),c}_s.__dashjs_factory_name="ThumbnailController";var ou=R.Z.getClassFactory(_s),Eo=v(7417);function Ts(g){var c;g=g||{};var h=[],b=(0,_.Z)(this.context).getInstance(),P=g.updateEventName,M=g.addBlacklistEventName;function w(L){h.indexOf(L)===-1&&(h.push(L),b.trigger(P,{entry:L}))}return c={add:w,contains:function(L){return!!(h.length&&L&&L.length)&&h.indexOf(L)!==-1},reset:function(){h=[]}},M&&b.on(M,function(L){w(L.entry)},c),c}Ts.__dashjs_factory_name="BlackListController";var xa=R.Z.getClassFactory(Ts),su=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT,o.Z.MUXED,o.Z.IMAGE];function Bn(g){g=g||{};var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge=this.context,ee=(0,_.Z)(ge).getInstance(),ve=(0,nt.Z)(ge).getInstance(),S=g.manifestModel,q=g.mediaPlayerModel,B=g.dashMetrics,G=g.manifestUpdater,O=g.adapter,de=g.timelineConverter,ie=g.capabilities,pe=g.errHandler,se=g.abrController,V=g.playbackController,le=g.eventController,Ae=g.mediaController,Ze=g.protectionController,Oe=g.textController,Be=g.videoModel,ke=g.streamInfo,lt=g.settings;function ut(ht,kt){return new Promise(function(jt,zt){_t(),Q=!0,Kt();var Qt=Be.getElement(),Qe=[];su.forEach(function(Ue){(Ue!==o.Z.TEXT||ht)&&(Ue!==o.Z.VIDEO||!Qt||Qt&&/^VIDEO$/i.test(Qt.nodeName))&&Qe.push(rt(Ue,ht))}),Promise.all(Qe).then(function(){return Ue=kt,new Promise(function(ct){var _e={},Ie=b.map(function(et){return et.createBufferSinks(Ue)});Promise.all(Ie).then(function(et){et.forEach(function(Nt){Nt&&(_e[Nt.getType()]=Nt)}),ct(_e)}).catch(function(){ct(_e)})});var Ue}).then(function(Ue){if(Q=!1,b.length===0){var ct="No streams to play.";pe.error(new ce.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ct,S.getValue())),h.fatal(ct)}else Vt();ht&&Oe.createTracks(ke),jt(Ue)}).catch(function(Ue){zt(Ue)})})}function rt(ht,kt){var jt,zt=O.getAllMediaInfoForType(ke,ht),Qt=[],Qe=null;if(!zt||zt.length===0)return h.info("No "+ht+" data."),Promise.resolve();ht===o.Z.VIDEO&&(L=!0),ht===o.Z.AUDIO&&(H=!0);for(var Ue=0,ct=zt.length;Ue<ct;Ue++)Qe=zt[Ue],ht===o.Z.TEXT&&Qe.isEmbedded&&(Oe.addEmbeddedTrack(ke,Qe),Qt.push(Qe)),it(Qe)&&Ae.addTrack(Qe);if(Qt.length>0&&(Ae.setInitialMediaSettingsForType(ht,ke),Oe.addMediaInfosToBuffer(ke,ht,Qt)),zt=zt.filter(function(Ie){return!Ie.isEmbedded}),zt.length===0)return Promise.resolve();if(ht===o.Z.IMAGE)return(W=ou(ge).create({streamInfo:ke,adapter:O,baseURLController:g.baseURLController,timelineConverter:g.timelineConverter,debug:ye,eventBus:ee,events:f.Z,dashConstants:i.Z,dashMetrics:g.dashMetrics,segmentBaseController:g.segmentBaseController})).initialize(),Promise.resolve();ee.trigger(f.Z.STREAM_INITIALIZING,{streamInfo:ke,mediaInfo:Qe}),Ae.setInitialMediaSettingsForType(ht,ke);var _e=function(Ie,et){var Nt=Ie&&Ie.length>0?Ie[0]:null,Lt=F.getModel(Nt?Nt.type:null),vn=Nt?Nt.type:null,xn=Nt?Nt.mimeType:null,rr=Nt?Nt.isFragmented:null,Ln=Yt(ge).create({streamInfo:ke,type:vn,mimeType:xn,timelineConverter:de,adapter:O,manifestModel:S,mediaPlayerModel:q,fragmentModel:Lt,dashMetrics:g.dashMetrics,baseURLController:g.baseURLController,segmentBaseController:g.segmentBaseController,abrController:se,playbackController:V,mediaController:Ae,textController:Oe,errHandler:pe,settings:lt,boxParser:fe,segmentBlacklistController:K});Ln.initialize(et,L,rr),b.push(Ln);for(var Or=0;Or<Ie.length;Or++)Ln.addMediaInfo(Ie[Or]);return vn===o.Z.TEXT&&Oe.addMediaInfosToBuffer(ke,vn,Ie,Lt),Ln}(zt,kt);return(jt=Ae.getCurrentTrackFor(ht,ke.id))?(se.updateTopQualityIndex(jt),_e.selectMediaInfo(ht===o.Z.TEXT&&jt.isEmbedded?zt[0]:jt)):Promise.resolve()}function it(ht){var kt,jt=ht?ht.type:null;return jt===o.Z.MUXED?(kt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",h.fatal(kt),pe.error(new ce.Z(oe.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,kt,S.getValue())),!1):!(jt!==o.Z.TEXT&&jt!==o.Z.IMAGE&&ht.contentProtection&&!ie.supportsEncryptedMedia()&&(pe.error(new ce.Z(oe.CAPABILITY_MEDIAKEYS_ERROR_CODE,oe.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ut(ht){for(var kt=b?b.length:0,jt=0;jt<kt;jt++){var zt=b[jt].getFragmentModel();zt.abortRequests(),zt.resetInitialSettings(),b[jt].reset(!1,ht)}Oe&&Oe.deactivateStream(ke),b=[],M=!1,w=!1,Jt(!1),ze(!1),ee.trigger(f.Z.STREAM_DEACTIVATED,{streamInfo:ke})}function De(ht){Ut(ht),P=!1,L=!1,H=!1,J={},Q=!1,Te=!1,X=[]}function ze(ht){Te=ht}function mt(){return ke?ke.start:NaN}function Xe(){return ke?ke.id:null}function Tt(){return ke}function _t(){if(!Be||!se)throw new Error(o.Z.MISSING_CONFIG_ERROR)}function pt(ht){ht.error&&(pe.error(ht.error),h.fatal(ht.error.message))}function Kt(){if(le){var ht=O.getEventsFor(ke);ht&&ht.length>0&&le.addInlineEvents(ht,ke.id)}}function Vt(){for(var ht=b.length,kt=J.audio||J.video?new ce.Z(oe.DATA_UPDATE_FAILED_ERROR_CODE,oe.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,jt=0;jt<ht;jt++)if(b[jt].isUpdating()||Q)return;if(Ze){Ze.clearMediaInfoArray();for(var zt=0;zt<ht&&b[zt];zt++){var Qt=b[zt].getType(),Qe=b[zt].getMediaInfo();if(Qt===o.Z.AUDIO||Qt===o.Z.VIDEO||Qt===o.Z.TEXT&&Qe.isFragmented){var Ue=b[zt].getMediaInfo();Ue&&Ze.initializeForMedia(Ue)}}Ze.handleKeySystemFromManifest()}kt?pe.error(kt):P||(P=!0,Be.waitForReadyState(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){ee.trigger(f.Z.STREAM_INITIALIZED,{streamInfo:ke})}))}function pn(){var ht=It(),kt=ht.length;if(kt!==0){for(var jt=0;jt<kt;jt++)if(!ht[jt].isBufferingCompleted()&&(ht[jt].getType()===o.Z.AUDIO||ht[jt].getType()===o.Z.VIDEO))return void h.debug("onBufferingCompleted - One streamProcessor has finished but",ht[jt].getType(),"one is not buffering completed");h.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),w=!0,ee.trigger(f.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:ke},{streamInfo:ke})}else h.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function yn(ht){J[ht.mediaType]=ht.error,Vt()}function We(ht){le&&le.addInbandEvents(ht.events,ke.id)}function vt(ht){return ht&&ht.type?st(ht.type):null}function st(ht){return ht?It().filter(function(kt){return kt.getType()===ht})[0]:null}function It(){for(var ht,kt,jt=[],zt=0;zt<b.length;zt++)(ht=(kt=b[zt]).getType())!==o.Z.AUDIO&&ht!==o.Z.VIDEO&&ht!==o.Z.TEXT||jt.push(kt);return jt}function Pt(ht,kt){var jt=Tt(),zt=kt.getStreamInfo();if(!zt||!jt)return!0;var Qt=O.getAdaptationForType(zt.index,ht,zt),Qe=O.getAdaptationForType(jt.index,ht,jt);return Qt&&Qe?!(!Xt(Qe)&&Xt(Qt)):!Qt&&!Qe}function Xt(ht){return!!ht&&!!(ht.ContentProtection||ht.Representation_asArray&&ht.Representation_asArray.length>0&&ht.Representation_asArray[0].ContentProtection)}function Wt(ht,kt){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ht||!ht.hasOwnProperty("getStreamInfo"))return!1;var zt=ht.getStreamInfo(),Qt=jt?jt.getStreamInfo():Tt();if(!zt||!Qt)return!1;var Qe=O.getAdaptationForType(zt.index,kt,zt),Ue=O.getAdaptationForType(Qt.index,kt,Qt);if(!Qe||!Ue)return!Qe&&!Ue;var ct=Qe&&Ue&&Qe.mimeType===Ue.mimeType,_e=Ue.Representation_asArray.map(function(Lt){return Lt.codecs}),Ie=Qe.Representation_asArray.map(function(Lt){return Lt.codecs}),et=Ie.some(function(Lt){return _e.indexOf(Lt)>-1}),Nt=Ie.some(function(Lt){return _e.some(function(vn){return ie.codecRootCompatibleWithCodec(vn,Lt)})});return et||Nt&&ct}function Jt(ht){Ee=ht}function sn(){return Ee}return c={initialize:function(){ee.on(f.Z.BUFFERING_COMPLETED,pn,c),ee.on(f.Z.DATA_UPDATE_COMPLETED,yn,c),ee.on(f.Z.INBAND_EVENTS,We,c),Ze&&(ee.on(f.Z.KEY_ERROR,pt,c),ee.on(f.Z.SERVER_CERTIFICATE_UPDATED,pt,c),ee.on(f.Z.LICENSE_REQUEST_COMPLETE,pt,c),ee.on(f.Z.KEY_SYSTEM_SELECTED,pt,c),ee.on(f.Z.KEY_SESSION_CREATED,pt,c),ee.on(f.Z.KEY_STATUSES_CHANGED,pt,c)),Oe.initializeForStream(ke),ee.trigger(f.Z.STREAM_UPDATED,{streamInfo:ke})},getStreamId:function(){return ke?ke.id:null},activate:function(ht,kt){return new Promise(function(jt,zt){if(!M)return sn()?(M=!0,ee.trigger(f.Z.STREAM_ACTIVATED,{streamInfo:ke}),void jt(kt)):void function(Qt,Qe){return ut(Qt,Qe)}(ht,kt).then(function(Qt){M=!0,ee.trigger(f.Z.STREAM_ACTIVATED,{streamInfo:ke}),jt(Qt)}).catch(function(Qt){zt(Qt)});jt(kt)})},deactivate:Ut,getIsActive:function(){return M},getDuration:function(){return ke?ke.duration:NaN},getStartTime:mt,getId:Xe,getStreamInfo:Tt,getHasAudioTrack:function(){return H},getHasVideoTrack:function(){return L},startPreloading:function(ht,kt){return new Promise(function(jt,zt){sn()?zt():(h.info("[startPreloading] Preloading next stream with id ".concat(Xe())),Jt(!0),ut(ht,kt).then(function(){for(var Qt=0;Qt<b.length&&b[Qt];Qt++)b[Qt].setExplicitBufferingTime(mt()),b[Qt].getScheduleController().startScheduleTimer();jt()}).catch(function(){Jt(!1),zt()}))})},initializeForTextWithMediaSource:function(ht){return new Promise(function(kt,jt){rt(o.Z.TEXT,ht).then(function(){return(zt=st(o.Z.TEXT))?zt.createBufferSinks():Promise.resolve();var zt}).then(function(){Oe.createTracks(ke),kt()}).catch(function(zt){jt(zt)})})},getThumbnailController:function(){return W},getBitrateListFor:function(ht){if(_t(),ht===o.Z.IMAGE)return W?W.getBitrateList():[];var kt=function(jt){for(var zt=null,Qt=0;Qt<b.length;Qt++)if((zt=b[Qt]).getType()===jt)return zt.getMediaInfo();return null}(ht);return se.getBitrateList(kt)},updateData:function(ht){return new Promise(function(kt){Q=!0,ke=ht,le&&Kt();for(var jt=[],zt=0,Qt=b.length;zt<Qt;zt++){var Qe=b[zt],Ue=Qe.getMediaInfo();jt.push(Qe.updateStreamInfo(ke));var ct=O.getAllMediaInfoForType(ke,Qe.getType());if(ct=ct.filter(function(et){return!et.isEmbedded})){Qe.clearMediaInfoArray();for(var _e=0;_e<ct.length;_e++){var Ie=ct[_e];Qe.addMediaInfo(ct[_e]),O.areMediaInfosEqual(Ue,Ie)&&(se.updateTopQualityIndex(Ie),jt.push(Qe.selectMediaInfo(Ie)))}}}Promise.all(jt).then(function(){for(jt=[];X.length>0;){var et=X.pop(),Nt=et.newMediaInfo,Lt=vt(et.oldMediaInfo);if(!Lt)return;jt.push(Lt.prepareTrackSwitch()),jt.push(Lt.selectMediaInfo(Nt))}return Promise.all(jt)}).then(function(){Q=!1,Vt(),ee.trigger(f.Z.STREAM_UPDATED,{streamInfo:ke}),kt()})})},reset:function(ht){F&&(F.reset(),F=null),se&&ke&&se.clearDataForStream(ke.id),K&&(K.reset(),K=null),De(ht),ke=null,ee.off(f.Z.DATA_UPDATE_COMPLETED,yn,c),ee.off(f.Z.BUFFERING_COMPLETED,pn,c),ee.off(f.Z.INBAND_EVENTS,We,c),Ze&&(ee.off(f.Z.KEY_ERROR,pt,c),ee.off(f.Z.SERVER_CERTIFICATE_UPDATED,pt,c),ee.off(f.Z.LICENSE_REQUEST_COMPLETE,pt,c),ee.off(f.Z.KEY_SYSTEM_SELECTED,pt,c),ee.off(f.Z.KEY_SESSION_CREATED,pt,c),ee.off(f.Z.KEY_STATUSES_CHANGED,pt,c))},getProcessors:It,setMediaSource:function(ht){return new Promise(function(kt,jt){for(var zt=[],Qt=0;Qt<b.length;)it(b[Qt].getMediaInfo())?(zt.push(b[Qt].setMediaSource(ht)),Qt++):(b[Qt].reset(),b.splice(Qt,1));Promise.all(zt).then(function(){for(var Qe=0;Qe<b.length;Qe++)b[Qe].dischargePreBuffer();if(b.length===0){var Ue="No streams to play.";pe.error(new ce.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ue+"nostreams",S.getValue())),h.fatal(Ue)}kt()}).catch(function(Qe){h.error(Qe),jt(Qe)})})},isMediaCodecCompatible:function(ht){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Wt(ht,o.Z.VIDEO,kt)&&Wt(ht,o.Z.AUDIO,kt)},isProtectionCompatible:function(ht){return!ht||Pt(o.Z.VIDEO,ht)&&Pt(o.Z.AUDIO,ht)},getPreloaded:sn,getIsEndedEventSignaled:function(){return Te},setIsEndedEventSignaled:ze,getAdapter:function(){return O},getHasFinishedBuffering:function(){return w},setPreloaded:Jt,startScheduleControllers:function(){for(var ht=b.length,kt=0;kt<ht&&b[kt];kt++)b[kt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(ht){if(M&&ke){w=!1;var kt=ht.newMediaInfo,jt=S.getValue();O.setCurrentMediaInfo(ke.id,kt.type,kt);var zt=vt(kt);if(zt){var Qt=V.getTime();h.info("Stream -  Process track changed at current time "+Qt),jt.refreshManifestOnSwitchTrack?(X.push(ht),G.getIsUpdating()||(h.debug("Stream -  Refreshing manifest for switch track"),G.refreshManifest())):zt.selectMediaInfo(kt).then(function(){kt.type!==o.Z.VIDEO&&kt.type!==o.Z.AUDIO||se.updateTopQualityIndex(kt),zt.prepareTrackSwitch()})}}},prepareQualityChange:function(ht){var kt=st(ht.mediaType);kt&&kt.prepareQualityChange(ht)}},function(){try{ye=(0,m.Z)(ge).getInstance(),h=ye.getLogger(c),De(),fe=(0,Eo.Z)(ge).getInstance(),K=xa(ge).create({updateEventName:f.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),F=iu(ge).create({streamInfo:ke,mediaPlayerModel:q,dashMetrics:B,errHandler:pe,settings:lt,boxParser:fe,dashConstants:i.Z,urlUtils:ve})}catch(ht){throw ht}}(),c}Bn.__dashjs_factory_name="Stream";var ca=R.Z.getClassFactory(Bn),ka=function g(c){(function(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||null,this.type=Pe.w.CONTENT_STEERING_TYPE,this.responseType="json"},fa=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Ss(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe=this.context,ye=(0,nt.Z)(fe).getInstance();function Te(se){S(se,"baseUrl")}function X(se){S(se,"location")}function ge(se){if(se&&se.request&&se.request.serviceLocation&&se.request.requestStartDate&&se.request.requestEndDate&&!isNaN(se.request.bytesTotal)){var V=se.request.serviceLocation,le=se.request.requestEndDate.getTime()-se.request.requestStartDate.getTime();ve(V,parseInt(8*se.request.bytesTotal/le*1e3))}}function ee(se){se&&se.httpRequest&&se.httpRequest._serviceLocation&&!isNaN(se.throughput)&&ve(se.httpRequest._serviceLocation,1e3*se.throughput)}function ve(se,V){P[se]||(P[se]=[]),P[se].push(V),P[se].length>4&&P[se].shift()}function S(se,V){if(se&&se.request&&se.request.serviceLocation){var le=se.request.serviceLocation;b[V].all.indexOf(le)===-1&&b[V].all.push(le),b[V].current=le}}function q(){var se=Q.getValue(),V=Ee.getContentSteering(se);return V||(V=W.getServiceDescriptionSettings().contentSteering),V}function B(){return new Promise(function(se){try{var V=q();if(!V||!V.serverUrl)return void se();var le=function(Ze){var Oe=Ze.serverUrl;h&&h.reloadUri&&(Oe=ye.isRelative(h.reloadUri)?ye.resolve(h.reloadUri,Ze.serverUrl):h.reloadUri);var Be=[],ke=b.baseUrl.all.concat(b.location.all);if(ke.length>0){var lt=ke.map(function(it){var Ut=function(De){if(!De||!P[De]||P[De].length===0)return-1;var ze=P[De].reduce(function(mt,Xe){return mt+Xe})/P[De].length;return parseInt(ze)}(it);return{serviceLocation:it,throughput:Ut}});lt.sort(function(it,Ut){return Ut.throughput-it.throughput});var ut="",rt="";lt.forEach(function(it,Ut){Ut!==0&&(ut="".concat(ut,","),it.throughput>-1&&(rt="".concat(rt,","))),ut="".concat(ut).concat(it.serviceLocation),it.throughput>-1&&(rt="".concat(rt).concat(it.throughput))}),Be.push({key:"_DASH_pathway",value:'"'.concat(ut,'"')}),Be.push({key:"_DASH_throughput",value:rt})}return Oe=At.Z.addAditionalQueryParameterToUrl(Oe,Be)}(V),Ae=new ka(le);w.load({request:Ae,success:function(Ze){(function(Oe){Oe&&Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((h=new fa).version=Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION],Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL])&&(h.ttl=Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL]),Oe[i.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(h.reloadUri=Oe[i.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(h.pathwayPriority=Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(h.pathwayClones=Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],h.pathwayClones=h.pathwayClones.filter(function(Be){return function(ke){return ke[i.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&ke[i.Z.CONTENT_STEERING_RESPONSE.ID]&&ke[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&ke[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.HOST]}(Be)})),de())})(Ze),K.trigger(r.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:h,url:le}),se()},error:function(Ze,Oe,Be,ke){(function(lt,ut){try{switch(c.warn("Error fetching data from content steering server",lt),ut.status){case 410:break;case 429:var rt=ut&&ut.getResponseHeader?ut.getResponseHeader("retry-after"):null;rt!==null&&(h||(h={}),h.ttl=parseInt(rt)),de();break;default:de()}}catch(it){c.error(it)}})(Ze,ke),se(Ze)},complete:function(){b.baseUrl.all=G(b.baseUrl),b.location.all=G(b.location)}})}catch(Ze){se(Ze)}})}function G(se){return se.all&&se.all.length!==0&&se.current?se.all.filter(function(V){return V===se.current}):[]}function O(se){try{var V=[];return se&&se.length!==0&&h&&h.pathwayClones&&h.pathwayClones.length!==0&&h.pathwayClones.forEach(function(le){var Ae=se.filter(function(lt){return le[i.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===lt.serviceLocation}),Ze=null;if(Ae&&Ae.length>0&&(Ze=Ae[0]),Ze){var Oe=new URL(Ze.url),Be=le[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.HOST];Be=At.Z.stringHasProtocol(Be)?Be:"".concat(Oe.protocol,"//").concat(Be);var ke={synthesizedUrl:"".concat(Be).concat(Oe.pathname),serviceLocation:le[i.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:le[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ze};V.push(ke)}}),V}catch(le){return c.error(le),[]}}function de(){h&&h.ttl&&!isNaN(h.ttl)&&(M&&clearTimeout(M),M=setTimeout(function(){B()},1e3*h.ttl))}function ie(){M&&clearTimeout(M),M=null}function pe(){h=null,P={},b={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ie()}return g={reset:function(){pe(),K.off(r.Z.FRAGMENT_LOADING_STARTED,Te,g),K.off(r.Z.MANIFEST_LOADING_STARTED,X,g),K.off(r.Z.MANIFEST_LOADING_FINISHED,ge,g),K.off(r.Z.THROUGHPUT_MEASUREMENT_STORED,ee,g)},setConfig:function(se){se&&(se.adapter&&(Ee=se.adapter),se.errHandler&&(L=se.errHandler),se.dashMetrics&&(H=se.dashMetrics),se.mediaPlayerModel&&(J=se.mediaPlayerModel),se.requestModifier&&(F=se.requestModifier),se.manifestModel&&(Q=se.manifestModel),se.serviceDescriptionController&&(W=se.serviceDescriptionController),se.eventBus&&(K=se.eventBus))},loadSteeringData:B,getCurrentSteeringResponseData:function(){return h},shouldQueryBeforeStart:function(){var se=q();return!!se&&se.queryBeforeStart},getSteeringDataFromManifest:q,stopSteeringRequestTimer:ie,getSynthesizedBaseUrlElements:function(se){try{return O(se).map(function(V){var le=new Xr(V.synthesizedUrl,V.serviceLocation);return le.queryParams=V.queryParams,le.dvbPriority=V.reference.dvbPriority,le.dvbWeight=V.reference.dvbWeight,le.availabilityTimeOffset=V.reference.availabilityTimeOffset,le.availabilityTimeComplete=V.reference.availabilityTimeComplete,le})}catch(V){return c.error(V),[]}},getSynthesizedLocationElements:function(se){try{return O(se).map(function(V){var le=new rn(V.synthesizedUrl,V.serviceLocation);return le.queryParams=V.queryParams,le})}catch(V){return c.error(V),[]}},initialize:function(){w=wr(fe).create({errHandler:L,dashMetrics:H,mediaPlayerModel:J,requestModifier:F,errors:oe}),K.on(r.Z.FRAGMENT_LOADING_STARTED,Te,g),K.on(r.Z.MANIFEST_LOADING_STARTED,X,g),K.on(r.Z.MANIFEST_LOADING_FINISHED,ge,g),K.on(r.Z.THROUGHPUT_MEASUREMENT_STORED,ee,g)}},c=(0,m.Z)(fe).getInstance().getLogger(g),pe(),g}Ss.__dashjs_factory_name="ContentSteeringController";var ei=R.Z.getSingletonFactory(Ss);function As(){var g,c,h,b=this.context,P=(0,be.Z)(b).getInstance();return g={select:function(M){if(!M||M.length===0)return null;var w=null;return P.get().streaming.applyContentSteering&&(w=function(L){var H=h.getCurrentSteeringResponseData();return H&&H.pathwayPriority&&H.pathwayPriority.length>0?function(){for(var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=0,W=null,K=function(){var Ee=J[F],fe=Q.findIndex(function(ye){return ye.serviceLocation&&ye.serviceLocation===Ee});if(fe!==-1&&!c.contains(Q[fe].serviceLocation))return W=Q[fe],"break";F+=1};F<J.length&&K()!=="break";);return W}(H.pathwayPriority,L):null}(M)),w||(w=function(L){return L[0]}(M)),w},setConfig:function(M){M.blacklistController&&(c=M.blacklistController),M.contentSteeringController&&(h=M.contentSteeringController)},reset:function(){c.reset()}},c=xa(b).create({updateEventName:f.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),h=ei(b).getInstance(),g}As.__dashjs_factory_name="LocationSelector";var Ui=R.Z.getClassFactory(As);function ws(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee=this.context,fe=(0,_.Z)(Ee).getInstance(),ye=(0,nt.Z)(Ee).getInstance();function Te(){h=NaN,w=!1,P=!0,M=!1,X()}function X(){b!==null&&(clearTimeout(b),b=null)}function ge(ie){X(),M||(isNaN(ie)&&!isNaN(h)&&(ie=1e3*h),isNaN(ie)||(c.debug("Refresh manifest in "+ie+" milliseconds."),b=setTimeout(q,ie)))}function ee(){var ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];w=!0;var pe=H.getValue(),se=pe.url,V=null,le=Q.getPatchLocation(pe),Ae=J.select(le),Ze=null;if(Ae&&!ie)se=Ae.url,V=Ae.serviceLocation,Ze=Ae.queryParams;else{var Oe=ve(pe),Be=J.select(Oe);Be&&(se=Be.url,V=Be.serviceLocation,Ze=Be.queryParams)}ye.isRelative(se)&&(se=ye.resolve(se,pe.url)),L.load(se,V,Ze)}function ve(ie){var pe=Q.getLocation(ie),se=W.getSynthesizedLocationElements(pe);return pe.concat(se)}function S(ie){if(ie){if(Q.getIsPatch(ie)){var pe=ie;ie=H.getValue();var se=Q.isPatchValid(ie,pe),V=se;if(se){var le=Q.getPublishTime(ie);V=Q.applyPatchToManifest(ie,pe);var Ae=Q.getPublishTime(ie);V=le.getTime()!=Ae.getTime()}if(!V)return c.debug("Patch provided is invalid, performing full manifest refresh"),void ee(!0);ie.loadedTime=new Date}}else(ie=H.getValue()).loadedTime=new Date;if(H.getValue()&&H.getValue().type===i.Z.DYNAMIC&&ie.type===i.Z.STATIC)return fe.trigger(f.Z.DYNAMIC_TO_STATIC),w=!1,void(M=!0);H.setValue(ie);var Ze=new Date,Oe=(Ze.getTime()-ie.loadedTime.getTime())/1e3;1e3*(h=Q.getManifestUpdatePeriod(ie,Oe))>2147483647&&(h=2147483647e-3),fe.trigger(f.Z.MANIFEST_UPDATED,{manifest:ie}),c.info("Manifest has been refreshed at "+Ze+"["+Ze.getTime()/1e3+"] "),P||ge()}function q(){P||(w?ge(K.get().streaming.manifestUpdateRetryInterval):ee())}function B(ie){ie.error?ie.error.code===oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&F.error(ie.error):S(ie.manifest)}function G(){P=!1,ge()}function O(){(P=!K.get().streaming.scheduling.scheduleWhilePaused)&&X()}function de(){w=!1}return g={initialize:function(){Te(),fe.on(f.Z.STREAMS_COMPOSED,de,this),fe.on(r.Z.PLAYBACK_STARTED,G,this),fe.on(r.Z.PLAYBACK_PAUSED,O,this),fe.on(f.Z.INTERNAL_MANIFEST_LOADED,B,this)},setManifest:function(ie){S(ie)},refreshManifest:ee,getIsUpdating:function(){return w},setConfig:function(ie){ie&&(ie.manifestModel&&(H=ie.manifestModel),ie.adapter&&(Q=ie.adapter),ie.manifestLoader&&(L=ie.manifestLoader),ie.errHandler&&(F=ie.errHandler),ie.locationSelector&&(J=ie.locationSelector),ie.settings&&(K=ie.settings),ie.contentSteeringController&&(W=ie.contentSteeringController))},reset:function(){fe.off(r.Z.PLAYBACK_STARTED,G,this),fe.off(r.Z.PLAYBACK_PAUSED,O,this),fe.off(f.Z.STREAMS_COMPOSED,de,this),fe.off(f.Z.INTERNAL_MANIFEST_LOADED,B,this),Te()}},c=(0,m.Z)(Ee).getInstance().getLogger(g),J=Ui(Ee).create(),g}ws.__dashjs_factory_name="ManifestUpdater";var $f=R.Z.getClassFactory(ws);function lu(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye=this.context,Te=(0,_.Z)(ye).getInstance(),X=(0,nt.Z)(ye).getInstance();function ge(){L=[],H=[],J=null,Q=null,W=null,F=NaN,h=!1,b=!1,K=P.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ee(){P.get().streaming.utcSynchronization.enabled&&!h&&!b&&W&&W.value&&W.schemeIdUri&&!isNaN(F)&&!isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)&&(Q&&(Date.now()-Q)/1e3<30||(L=[],b=!0,ve(isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)?2:P.get().streaming.utcSynchronization.backgroundAttempts)))}function ve(Be){try{if(Be<=0)return void Ze();var ke=Date.now();M[W.schemeIdUri](W.value,function(lt){var ut=Date.now(),rt=q(ke,ut,lt);L.push(rt),ve(Be-1)},function(){Ze()})}catch{Ze()}}function S(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ke=Be||0;if(!H||H.length===0||ke>=H.length)B();else{var lt=H[ke];if(lt)if(M.hasOwnProperty(lt.schemeIdUri)){var ut=new Date().getTime();M[lt.schemeIdUri](lt.value,function(rt){var it=new Date().getTime(),Ut=q(ut,it,rt);W=lt,B(Ut)},function(){S(ke+1)})}else S(ke+1);else B()}}function q(Be,ke,lt){return lt-(ke-(ke-Be)/2)}function B(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,ke=isNaN(Be);ke&&P.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?le():Ae(ke,Be)}function G(Be){var ke=Date.parse(Be);return isNaN(ke)&&(ke=function(lt){var ut,rt,it=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(lt);return ut=Date.UTC(parseInt(it[1],10),parseInt(it[2],10)-1,parseInt(it[3],10),parseInt(it[4],10),parseInt(it[5],10),it[6]&&(parseInt(it[6],10)||0),it[7]&&1e3*parseFloat(it[7])||0),it[9]&&it[10]&&(rt=60*parseInt(it[9],10)+parseInt(it[10],10),ut+=(it[8]==="+"?-1:1)*rt*60*1e3),new Date(ut).getTime()}(Be)),ke}function O(Be){return Date.parse(Be)}function de(Be){return Date.parse(Be)}function ie(Be,ke,lt){lt()}function pe(Be,ke,lt){var ut=G(Be);isNaN(ut)?lt():ke(ut)}function se(Be,ke,lt,ut,rt){var it,Ut,De=!1,ze=new XMLHttpRequest,mt=rt?Pe.w.HEAD:Pe.w.GET,Xe=ke.match(/\S+/g);if(ke=Xe.shift(),it=function(){De||(De=!0,Xe.length?se(Be,Xe.join(" "),lt,ut,rt):ut())},Ut=function(){var _t,pt;ze.status===200&&(_t=rt?ze.getResponseHeader("Date"):ze.response,pt=Be(_t),isNaN(pt)||(lt(pt),De=!0))},X.isRelative(ke)){var Tt=fe.resolve();Tt&&(ke=X.resolve(ke,Tt.url))}ze.open(mt,ke),ze.timeout=5e3,ze.onload=Ut,ze.onloadend=it,ze.send()}function V(Be,ke,lt){se(de,Be,ke,lt,!0)}function le(){var Be=w.getLatestMPDRequestHeaderValueByID("Date"),ke=Be!==null?new Date(Be).getTime():Number.NaN;isNaN(ke)?Ae(!0):Ae(!1,ke-Date.now())}function Ae(Be,ke){if(isNaN(F)||isNaN(ke)||Be||function(ut){try{var rt,it=Oe(ut),Ut=isNaN(K)?30:K,De=isNaN(P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ze=isNaN(P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,mt=isNaN(P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;it?(rt=Math.min(Ut*De,ze),c.debug("Increasing timeBetweenSyncAttempts to ".concat(rt))):(rt=Math.max(Ut/De,mt),c.debug("Decreasing timeBetweenSyncAttempts to ".concat(rt))),K=rt}catch{}}(ke),!Be&&!isNaN(ke)){J=Date.now(),h=!1;var lt=isNaN(F);F=ke,lt&&ee(),c.debug("Completed UTC sync. Setting client - server offset to ".concat(ke))}Be&&(W=null,h=!1,Ee.error(new ce.Z(oe.TIME_SYNC_FAILED_ERROR_CODE,oe.TIME_SYNC_FAILED_ERROR_MESSAGE))),Te.trigger(f.Z.UPDATE_TIME_SYNC_OFFSET,{offset:ke}),Te.trigger(f.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ze(){if(L&&L.length!==0){var Be=L.reduce(function(ke,lt){return ke+lt},0)/L.length;Oe(Be)?c.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(c.debug("Completed background UTC sync. Setting client - server offset to ".concat(Be)),F=Be,Te.trigger(f.Z.UPDATE_TIME_SYNC_OFFSET,{offset:F})),b=!1,Q=Date.now()}}function Oe(Be){try{if(isNaN(F))return!0;var ke=P.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(P.get().streaming.utcSynchronization.maximumAllowedDrift)?P.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Be>=F-ke&&Be<=F+ke}catch{return!0}}return g={initialize:function(){ge(),M={"urn:mpeg:dash:utc:http-head:2014":V,"urn:mpeg:dash:utc:http-xsdate:2014":se.bind(null,G),"urn:mpeg:dash:utc:http-iso:2014":se.bind(null,O),"urn:mpeg:dash:utc:direct:2014":pe,"urn:mpeg:dash:utc:http-head:2012":V,"urn:mpeg:dash:utc:http-xsdate:2012":se.bind(null,G),"urn:mpeg:dash:utc:http-iso:2012":se.bind(null,O),"urn:mpeg:dash:utc:direct:2012":pe,"urn:mpeg:dash:utc:http-ntp:2014":ie,"urn:mpeg:dash:utc:ntp:2014":ie,"urn:mpeg:dash:utc:sntp:2014":ie}},attemptSync:function(Be,ke){H=Be,h||(function(lt){try{if(!lt||!P.get().streaming.utcSynchronization.enabled)return!1;var ut=isNaN(K)?30:K;return!(J&&ut&&!isNaN(ut))||(Date.now()-J)/1e3>=ut}catch{return!0}}(ke)?(h=!0,S()):Te.trigger(f.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Be){Be&&(Be.dashMetrics&&(w=Be.dashMetrics),Be.baseURLController&&(fe=Be.baseURLController),Be.errHandler&&(Ee=Be.errHandler),Be.settings&&(P=Be.settings))},reset:function(){ge(),Te.off(f.Z.ATTEMPT_BACKGROUND_SYNC,ee,g)}},c=(0,m.Z)(ye).getInstance().getLogger(g),Te.on(f.Z.ATTEMPT_BACKGROUND_SYNC,ee,g),g}lu.__dashjs_factory_name="TimeSyncController";var uu=R.Z.getSingletonFactory(lu);uu.HTTP_TIMEOUT_MS=5e3,R.Z.updateSingletonFactory(lu.__dashjs_factory_name,uu);var Gm=uu;function Jf(){var g,c,h,b,P,M=this.context,w=(0,_.Z)(M).getInstance();return g={attachMediaSource:function(L){var H=window.URL.createObjectURL(c);return L.setSource(H),b==="managedMediaSource"&&(L.setDisableRemotePlayback(!0),c.addEventListener("startstreaming",function(){w.trigger(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING)}),c.addEventListener("endstreaming",function(){w.trigger(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING)})),H},createMediaSource:function(){var L="WebKitMediaSource"in window,H="MediaSource"in window;return"ManagedMediaSource"in window?(c=new ManagedMediaSource,b="managedMediaSource",P.info("Created ManagedMediaSource")):H?(c=new MediaSource,b="mediaSource",P.info("Created MediaSource")):L&&(c=new WebKitMediaSource,P.info("Created WebkitMediaSource")),c},detachMediaSource:function(L){L.setSource(null)},setConfig:function(L){L&&L.settings&&(h=L.settings)},setDuration:function L(H){c&&c.readyState==="open"&&(H===null&&isNaN(H)||c.duration!==H&&(H!==1/0||h.get().streaming.buffer.mediaSourceDurationInfinity||(H=Math.pow(2,32)),function(J){for(var Q=J.sourceBuffers,F=0;F<Q.length;F++)if(Q[F].updating)return!0;return!1}(c)?setTimeout(L.bind(null,H),50):(P.info("Set MediaSource duration:"+H),c.duration=H)))},setSeekable:function(L,H){c&&typeof c.setLiveSeekableRange=="function"&&typeof c.clearLiveSeekableRange=="function"&&c.readyState==="open"&&L>=0&&L<H&&(c.clearLiveSeekableRange(),c.setLiveSeekableRange(L,H))},signalEndOfStream:function(L){if(L&&L.readyState==="open"){for(var H=L.sourceBuffers,J=0;J<H.length;J++)if(H[J].updating||H[J].buffered.length===0)return;P.info("call to mediaSource endOfStream"),L.endOfStream()}}},P=(0,m.Z)(M).getInstance().getLogger(g),g}Jf.__dashjs_factory_name="MediaSourceController";var jm=R.Z.getSingletonFactory(Jf);function ed(){var g,c,h,b,P,M,w,L,H,J,Q,F="urn:mpeg:dash:event:2012",W="discarded",K="updated",Ee="added",fe=this.context,ye=(0,_.Z)(fe).getInstance();function Te(){if(!w||!L)throw new Error("setConfig function has to be called previously")}function X(){Q=!1,h={},b={},P=null,J=!1,M=Date.now()/1e3}function ge(){try{if(!J){J=!0;var ie=L.getTime(),pe=ie-M;pe=M>0?Math.max(0,pe):0,ee(b,pe,ie),ee(h,pe,ie),ve(b),ve(h),M=ie,J=!1}}catch(se){J=!1,c.error(se)}}function ee(ie,pe,se){try{G(ie,function(V){if(V!==void 0){var le=isNaN(V.duration)?0:V.duration;V.calculatedPresentationTime<=se&&V.calculatedPresentationTime+pe+le>=se?de(V,r.Z.EVENT_MODE_ON_START):(O(se,le+pe,V.calculatedPresentationTime)||function(Ae){try{var Ze=Ae.eventStream.period.start+Ae.eventStream.period.duration;return Ae.calculatedPresentationTime>Ze}catch(Oe){return c.error(Oe),!1}}(V))&&(c.debug("Removing event ".concat(V.id," from period ").concat(V.eventStream.period.id," as it is expired or invalid")),function(Ae,Ze){try{var Oe=Ze.eventStream.schemeIdUri,Be=Ze.eventStream.period.id,ke=Ze.eventStream.value,lt=Ze.id;Ae[Be][Oe]=Ae[Be][Oe].filter(function(ut){return ke&&ut.eventStream.value&&ut.eventStream.value!==ke||ut.id!==lt}),Ae[Be][Oe].length===0&&delete Ae[Be][Oe]}catch(ut){c.error(ut)}}(ie,V))}})}catch(V){c.error(V)}}function ve(ie){try{for(var pe in ie)ie.hasOwnProperty(pe)&&Object.keys(ie[pe]).length===0&&delete ie[pe]}catch(se){c.error(se)}}function S(ie,pe){var se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],V=ie.eventStream.schemeIdUri,le=ie.eventStream.value,Ae=ie.id,Ze=W;pe[V]||(pe[V]=[]);var Oe=pe[V].findIndex(function(ke){return(!le||ke.eventStream.value&&ke.eventStream.value===le)&&ke.id===Ae});if(Oe===-1)pe[V].push(ie),ie.triggeredReceivedEvent=!1,ie.triggeredStartEvent=!1,Ze=Ee;else if(se){var Be=pe[V][Oe];ie.triggeredReceivedEvent=Be.triggeredReceivedEvent,ie.triggeredStartEvent=Be.triggeredStartEvent,pe[V][Oe]=ie,Ze=K}return Ze}function q(ie){try{if(ie.eventStream.value==1){var pe,se=ie.calculatedPresentationTime;pe=ie.calculatedPresentationTime==4294967295?NaN:ie.calculatedPresentationTime+ie.duration,ye.trigger(r.Z.MANIFEST_VALIDITY_CHANGED,{id:ie.id,validUntil:se,newDuration:pe,newManifestValidAfter:NaN},{mode:r.Z.EVENT_MODE_ON_START})}}catch(V){c.error(V)}}function B(ie){try{var pe=L.getTime();G(ie,function(se){var V=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.duration)?se.eventStream.period.duration:NaN,le=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.start)?se.eventStream.period.start:NaN;if(!isNaN(V)&&!isNaN(le)){var Ae=se.calculatedPresentationTime;Math.abs(Ae-pe)<300&&de(se,r.Z.EVENT_MODE_ON_START)}})}catch(se){c.error(se)}}function G(ie,pe){try{if(ie)for(var se=Object.keys(ie),V=0;V<se.length;V++)for(var le=ie[se[V]],Ae=Object.keys(le),Ze=0;Ze<Ae.length;Ze++)le[Ae[Ze]].forEach(function(Oe){Oe!==void 0&&pe(Oe)})}catch(Oe){c.error(Oe)}}function O(ie,pe,se){try{return ie-pe>se}catch(V){return c.error(V),!1}}function de(ie,pe){try{var se=L.getTime(),V=ie.id;if(pe===r.Z.EVENT_MODE_ON_RECEIVE&&!ie.triggeredReceivedEvent)return c.debug("Received event ".concat(V)),ie.triggeredReceivedEvent=!0,void ye.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe});ie.triggeredStartEvent||(ie.eventStream.schemeIdUri===F&&ie.eventStream.value==1?ie.duration===0&&ie.presentationTimeDelta===0||(c.debug("Starting manifest refresh event ".concat(V," at ").concat(se)),function(){try{Te(),w.refreshManifest()}catch(le){c.error(le)}}()):ie.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&ie.eventStream.value==1?(c.debug("Starting callback event ".concat(V," at ").concat(se)),function(le){try{(0,Gt.Z)(fe).create({}).load({method:"get",url:le,request:{responseType:"arraybuffer"}})}catch(Ae){c.error(Ae)}}(ie.messageData)):(c.debug("Starting event ".concat(V," from period ").concat(ie.eventStream.period.id," at ").concat(se)),ye.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe})),ie.triggeredStartEvent=!0)}catch(le){c.error(le)}}return g={addInlineEvents:function(ie,pe){try{if(Te(),h[pe]||(h[pe]={}),ie)for(var se=0;se<ie.length;se++){var V=ie[se];if(!O(L.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)){var le=S(V,h[pe],!0);le===Ee?(c.debug("Added inline event with id ".concat(V.id," from period ").concat(pe)),de(V,r.Z.EVENT_MODE_ON_RECEIVE)):le===K&&c.debug("Updated inline event with id ".concat(V.id," from period ").concat(pe))}}}catch(Ae){throw Ae}},addInbandEvents:function(ie,pe){try{Te(),b[pe]||(b[pe]={});for(var se=0;se<ie.length;se++){var V=ie[se];O(L.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)||(S(V,b[pe],!1)===Ee?(V.eventStream.schemeIdUri===F&&q(V),c.debug("Added inband event with id ".concat(V.id," from period ").concat(pe)),de(V,r.Z.EVENT_MODE_ON_RECEIVE)):c.debug("Inband event with scheme_id_uri ".concat(V.eventStream.schemeIdUri,", value ").concat(V.eventStream.value,", period id ").concat(pe," and event id ").concat(V.id," was ignored because it has been added before.")))}ge()}catch(le){throw le}},getInbandEvents:function(){return b},getInlineEvents:function(){return h},start:function(){try{Te(),c.debug("Start Event Controller");var ie=H.get().streaming.eventControllerRefreshDelay;Q||isNaN(ie)||(Q=!0,P=setInterval(ge,ie))}catch(pe){throw pe}},setConfig:function(ie){try{if(!ie)return;ie.manifestUpdater&&(w=ie.manifestUpdater),ie.playbackController&&(L=ie.playbackController),ie.settings&&(H=ie.settings)}catch(pe){throw pe}},reset:function(){(function(){try{P!==null&&Q&&(clearInterval(P),P=null,Q=!1,function(){try{B(b),B(h)}catch(ie){c.error(ie)}}())}catch(ie){throw ie}})(),X()}},c=(0,m.Z)(fe).getInstance().getLogger(g),X(),g}ed.__dashjs_factory_name="EventController";var zm=R.Z.getSingletonFactory(ed),Fa={LEVELS:{WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function cu(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}function td(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve,S,q,B,G,O,de,ie,pe,se,V,le,Ae,Ze,Oe,Be,ke,lt,ut,rt,it,Ut,De,ze,mt,Xe,Tt,_t=this.context,pt=(0,_.Z)(_t).getInstance();function Kt(){if(!(M&&M.hasOwnProperty("load")&&ee&&ee.hasOwnProperty("initialize")&&ee.hasOwnProperty("reset")&&ee.hasOwnProperty("getClientTimeOffset")&&w&&ge&&H&&le))throw new Error(o.Z.MISSING_CONFIG_ERROR)}function Vt(){if(!P||!P.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function pn(){(function(){try{var tt=L.getStreamsInfo();if(!S&&tt.length===0)throw new Error("There are no periods in the MPD");S&&tt.length>0&&H.updateManifestUpdateInfo({currentTime:le.getTime(),buffered:V.getBufferRange(),presentationStartTime:tt[0].start,clientTimeOffset:ee.getClientTimeOffset()}),ve.length>0&&function(bn){bn.length!==0?ve=ve.filter(function(En){var Yn=bn.filter(function(Fn){return Fn.id===En.getId()}).length>0||En.getId()===S.getId();return Yn||(c.debug("Removing stream ".concat(En.getId())),En.reset(!0)),Yn}):c.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(tt);for(var Mt=[],on=0,hn=tt.length;on<hn;on++){var wn=tt[on];Mt.push(We(wn)),H.addManifestUpdateStreamInfo(wn)}Promise.all(Mt).then(function(){return new Promise(function(bn,En){S?bn():vt(tt,bn,En)})}).then(function(){pt.trigger(f.Z.STREAMS_COMPOSED),Lt()}).catch(function(bn){throw bn})}catch(bn){ge.error(new ce.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,bn.message+" nostreamscomposed",w.getValue())),pe=!0,Gi()}})()}function yn(){ze=!0}function We(tt){var Mt=Ao(tt.id);return Mt?Mt.updateData(tt):(Mt=ca(_t).create({manifestModel:w,mediaPlayerModel:Ze,dashMetrics:H,manifestUpdater:P,adapter:L,timelineConverter:ee,capabilities:h,capabilitiesFilter:b,errHandler:ge,baseURLController:W,segmentBaseController:K,textController:B,abrController:fe,playbackController:le,eventController:Te,mediaController:ye,protectionController:q,videoModel:V,streamInfo:tt,settings:De}),ve.push(Mt),Mt.initialize(),Promise.resolve())}function vt(tt,Mt,on){try{Qt();var hn=H.getCurrentDVRInfo().range;if(hn.end<hn.start){mt&&clearTimeout(mt);var wn=Math.min(1e3*(-1*(hn.end-hn.start)+2),2147483647);return c.debug("Waiting for ".concat(wn," ms before playback can start")),pt.trigger(f.Z.AST_IN_FUTURE,{delay:wn}),void(mt=setTimeout(function(){vt(tt,Mt,on)},wn))}De.get().streaming.applyProducerReferenceTime&&Ae.calculateProducerReferenceTimeOffsets(tt);var bn=tt[0].manifestInfo;if(De.get().streaming.applyServiceDescription&&Ae.applyServiceDescription(bn),L.getIsDynamic()){var En=da(tt,bn);le.computeAndSetLiveDelay(En,bn)}(De.get().streaming.applyContentSteering&&F.shouldQueryBeforeStart()?F.loadSteeringData():Promise.resolve()).then(function(){var Yn=w.getValue();Yn&&W.update(Yn),st(),Mt()}).catch(function(Yn){c.error(Yn),st(),Mt()})}catch(Yn){on(Yn)}}function st(){var tt=function(){var hn;if(L.getIsDynamic()){var wn=H.getCurrentDVRInfo();hn=(wn&&wn.range?wn.range.end:0)-le.getOriginalLiveDelay();var bn=wn?wn.range:null;if(bn){if(isNaN(Xe)&&Xe.toString().indexOf("posix:")===-1){var En=Or(!0);isNaN(En)||(c.info("Start time from URI parameters: ".concat(En)),hn=Math.min(hn,En))}else{c.info("Start time provided by the app: ".concat(Xe));var Yn=lr(!0,Xe);isNaN(Yn)||(hn=Math.min(hn,Yn))}var Fn=De.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;hn=Math.max(hn,bn.start+Fn)}}else if(hn=ha()[0].getStreamInfo().start,isNaN(Xe)){var bi=Or(!1);isNaN(bi)||(c.info("Start time from URI parameters: ".concat(bi)),hn=Math.max(hn,bi))}else{c.info("Start time provided by the app: ".concat(Xe));var Ga=lr(!1,Xe);isNaN(Ga)||(hn=Math.max(hn,Ga))}return hn}(),Mt=zt(tt),on=Mt!==null?Mt:ve[0];pt.trigger(f.Z.INITIAL_STREAM_SWITCH,{startTime:tt}),It(on,null,tt),ut||(ut=setInterval(function(){!de&&le.getTimeToStreamEnd()<=0&&!le.isSeeking()&&pt.trigger(f.Z.PLAYBACK_ENDED,{isLast:ti().isLast})},200))}function It(tt,Mt,on){try{if(de||!tt||Mt===tt&&tt.getIsActive())return;de=!0,pt.trigger(f.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Mt?Mt.getStreamInfo():null,toStreamInfo:tt.getStreamInfo()});var hn=!1;S=tt,Mt&&(hn=kt(tt,Mt),Mt.deactivate(hn)),on=isNaN(on)?!hn&&Mt?tt.getStreamInfo().start:NaN:on,c.info("Switch to stream ".concat(tt.getId(),". Seektime is ").concat(on,", current playback time is ").concat(le.getTime(),". Seamless period switch is set to ").concat(hn)),it=it.filter(function(wn){return wn.getId()!==S.getId()}),le.initialize(ti(),!!Mt),V.getElement()?Pt(on,hn,!1):Xt(on,hn)}catch{de=!1}}function Pt(tt,Mt){var on,hn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function wn(){if(se&&se.readyState==="open"){c.debug("MediaSource is open!"),window.URL.revokeObjectURL(on),se.removeEventListener("sourceopen",wn),se.removeEventListener("webkitsourceopen",wn),Ln();var En=H.getCurrentDVRInfo();J.setSeekable(En.range.start,En.range.end),hn?(isNaN(tt)||le.seek(tt,!0,!0),S.setMediaSource(se).then(function(){S.initializeForTextWithMediaSource(se)})):Xt(tt,Mt)}}function bn(){se.addEventListener("sourceopen",wn,!1),se.addEventListener("webkitsourceopen",wn,!1),on=J.attachMediaSource(V),c.debug("MediaSource attached to element.  Waiting on open...")}se?Mt?Xt(tt,Mt):(J.detachMediaSource(V),bn()):(se=J.createMediaSource(),bn())}function Xt(tt,Mt){S.activate(se,Mt?rt:void 0,tt).then(function(on){if(on){var hn=Object.keys(on);hn.length>0&&on[hn[0]].getBuffer().changeType&&(Ut=!0),rt=on}isNaN(tt)||(pt.trigger(f.Z.SEEK_TARGET,{time:tt},{streamId:S.getId()}),le.seek(tt,!1,!0),S.startScheduleControllers()),de=!1,pt.trigger(f.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ti()})})}function Wt(tt){var Mt=zt(tt.seekTime);Mt&&Mt!==S?Mt&&Mt!==S&&(Jt(),function(on,hn){var wn=on&&!isNaN(on.seekTime)?on.seekTime:NaN,bn=S.getProcessors().map(function(En){return En.prepareOuterPeriodPlaybackSeeking(on)});Promise.all(bn).then(function(){It(hn,S,wn)}).catch(function(En){ge.error(En)})}(tt,Mt)):(Jt(),function(on){S.getProcessors().forEach(function(hn){return hn.prepareInnerPeriodPlaybackSeeking(on)}),Mr(xe.USER_REQUEST_STOP_REASON)}(tt)),Bi(Ge.SEEK_START_REASON)}function Jt(){sn()}function sn(){it&&it.length>0&&(it.forEach(function(tt){tt.deactivate(!0)}),it=[])}function ht(tt){if(tt.newMediaInfo.streamInfo.id===S.getId()){if(sn(),De.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&tt.oldMediaInfo&&tt.oldMediaInfo.codec!==tt.newMediaInfo.codec){var Mt=le.getTime();return S.deactivate(!1),void Pt(Mt,!1,!1)}S.prepareTrackChange(tt)}}function kt(tt,Mt){try{return De.get().streaming.buffer.reuseExistingSourceBuffers&&(Mt.isProtectionCompatible(tt)||ze)&&(Ut&&De.get().streaming.buffer.useChangeTypeForTrackSwitch||Mt.isMediaCodecCompatible(tt,Mt))}catch{return!1}}function jt(tt){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(se&&!tt.getPreloaded()){var on=kt(tt,Mt);on&&tt.startPreloading(se,rt).then(function(){it.push(tt)})}}function zt(tt){if(isNaN(tt))return null;for(var Mt=ve.length,on=0;on<Mt;on++){var hn=ve[on];if(tt<parseFloat((hn.getStartTime()+hn.getDuration()).toFixed(5)))return hn}return null}function Qt(){try{var tt=L.getIsDynamic(),Mt=L.getStreamsInfo()[0].manifestInfo,on=le.getTime(),hn=ee.calcTimeShiftBufferWindow(ve,tt),wn=xn();if(hn.start===void 0||hn.end===void 0)return;wn&&wn.length!==0?wn.forEach(function(bn){H.addDVRInfo(bn.getType(),on,Mt,hn)}):H.addDVRInfo(o.Z.VIDEO,on,Mt,hn)}catch{}}function Qe(tt){if(ke&&O){var Mt=Ze.getInitialBufferLevel(),on=[o.Z.TEXT];(isNaN(Mt)||Mt<=le.getBufferLevel(on)||L.getIsDynamic()&&Mt>le.getLiveDelay())&&(ke=!1,Bi(Ge.INITIAL_PLAYOUT_START_REASON),le.play())}tt&&tt.mediaType&&H.addBufferLevel(tt.mediaType,new Date,1e3*tt.bufferLevel)}function Ue(tt){tt.streamInfo.id===S.getId()&&tt.reason&&tt.reason.forceReplace&&sn(),Ao(tt.streamInfo.id).prepareQualityChange(tt)}function ct(){if(L.getIsDynamic()&&le.getOriginalLiveDelay()!==0&&S){var tt=L.getStreamsInfo();if(tt.length>0){var Mt=tt[0].manifestInfo,on=da(tt,Mt);le.computeAndSetLiveDelay(on,Mt)}}}function _e(){if(fi()){var tt=V.getPlaybackQuality();tt&&H.addDroppedFrames(tt)}}function Ie(){c.debug("[onPlaybackStarted]"),!ke&&Be&&Bi(Ge.RESUME_FROM_PAUSE_START_REASON),ke&&(ke=!1),lt&&(lt=!1,De.get().streaming.applyContentSteering&&!F.shouldQueryBeforeStart()&&F.loadSteeringData()),Be=!1}function et(tt){c.debug("[onPlaybackPaused]"),tt.ended||(Be=!0,Mr(xe.USER_REQUEST_STOP_REASON))}function Nt(tt){c.debug("Stream with id ".concat(tt.streamInfo.id," finished buffering"));var Mt=tt.streamInfo.isLast;se&&Mt?(c.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),J.signalEndOfStream(se)):Lt()}function Lt(){if(S&&S.getHasFinishedBuffering())for(var tt=function(){var wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var bn=wn||S||null;if(bn){var En=bn.getStreamInfo();return ve.filter(function(Yn){var Fn=Yn.getStreamInfo();return Fn.start>En.start&&En.id!==Fn.id})}}catch{return[]}}(S),Mt=0;Mt<tt.length;){var on=tt[Mt],hn=Mt===0?S:tt[Mt-1];!on.getPreloaded()&&hn.getHasFinishedBuffering()&&se&&jt(on,hn),Mt+=1}}function vn(){ut&&(clearInterval(ut),ut=null)}function xn(){return S?S.getProcessors():[]}function rr(tt){if(S&&!S.getIsEndedEventSignaled()){S.setIsEndedEventSignaled(!0);var Mt=function(){var on=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,hn=on||S||null;if(!hn)return null;for(var wn=hn.getStreamInfo(),bn=wn.start,En=0,Yn=-1,Fn=NaN;En<ve.length;){var bi=ve[En].getStreamInfo(),Ga=bi.start-bn;Ga>0&&(isNaN(Fn)||Ga<Fn)&&wn.id!==bi.id&&(Fn=Ga,Yn=En),En+=1}return Yn>=0?ve[Yn]:null}();Mt?(c.debug("StreamController onEnded, found next stream with id ".concat(Mt.getStreamInfo().id,". Switching from ").concat(S.getStreamInfo().id," to ").concat(Mt.getStreamInfo().id)),It(Mt,S,NaN)):(c.debug("StreamController no next stream found"),S.setIsEndedEventSignaled(!1)),Mr(Mt?xe.END_OF_PERIOD_STOP_REASON:xe.END_OF_CONTENT_STOP_REASON)}tt&&tt.isLast&&(vn(),F.stopSteeringRequestTimer())}function Ln(tt){var Mt=tt||ti().manifestInfo.duration;J.setDuration(Mt)}function Or(tt){var Mt=Ee.getURIFragmentData();if(!Mt||!Mt.t)return NaN;var on=ha()[0].getStreamInfo().start;return Mt.t=Mt.t.split(",")[0],Zi(tt,Mt.t,on)}function lr(tt,Mt){var on=0;return tt||(on=ha()[0].getStreamInfo().start),Zi(tt,Mt,on)}function Zi(tt,Mt,on){var hn=L.getRegularPeriods()[0],wn=Mt.toString(),bn=wn.indexOf("posix:")!==-1?wn.substring(6)==="now"?Date.now()/1e3:parseFloat(wn.substring(6)):NaN;return tt&&!isNaN(bn)?ee.calcPresentationTimeFromWallTime(new Date(1e3*bn),hn):parseFloat(wn)+on}function da(tt,Mt){try{var on=NaN;if(Mt&&!isNaN(Mt.maxFragmentDuration)&&isFinite(Mt.maxFragmentDuration))return Mt.maxFragmentDuration;if(tt&&tt.length===1){var hn=tt[0],wn=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT].reduce(function(En,Yn){var Fn=L.getMediaInfoForType(hn,Yn);return Fn&&Fn.isFragmented!==!1&&En.push(Fn),En},[]).reduce(function(En,Yn){var Fn=L.getVoRepresentations(Yn);return Fn&&Fn.length>0&&Fn.forEach(function(bi){bi&&En.push(bi)}),En},[]).reduce(function(En,Yn){var Fn=L.convertRepresentationToRepresentationInfo(Yn);return Fn&&Fn.fragmentDuration&&!isNaN(Fn.fragmentDuration)&&En.push(Fn.fragmentDuration),En},[]);on=Math.max.apply(Math,function(En){if(Array.isArray(En))return cu(En)}(bn=wn)||function(En){if(typeof Symbol<"u"&&Symbol.iterator in Object(En))return Array.from(En)}(bn)||function(En,Yn){if(En){if(typeof En=="string")return cu(En,Yn);var Fn=Object.prototype.toString.call(En).slice(8,-1);return Fn==="Object"&&En.constructor&&(Fn=En.constructor.name),Fn==="Map"||Fn==="Set"?Array.from(En):Fn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fn)?cu(En,Yn):void 0}}(bn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(on)?on:NaN}catch{return NaN}var bn}function ga(tt){if(tt.error)pe=!0,Gi();else{c.info("Manifest updated... updating data system wide.");var Mt=tt.manifest;L.updatePeriods(Mt);var on=L.getUTCTimingSources();!L.getIsDynamic()||on&&on.length!==0||pt.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fa.LEVELS.WARNING,event:Fa.EVENTS.NO_UTC_TIMING_ELEMENT});var hn=L.getIsDynamic()?on.concat(Oe.getUTCTimingSources()):on;b.filterUnsupportedFeatures(Mt).then(function(){W.initialize(Mt),Q.attemptSync(hn,L.getIsDynamic())})}}function fi(){return!!S&&S.getHasVideoTrack()}function wi(){return!!S&&S.getHasAudioTrack()}function Mr(tt,Mt){Mt=Mt||new Date,xn().forEach(function(on){on.finalisePlayList(Mt,tt)}),H.addPlayList()}function Bi(tt){H.createPlaylistMetrics(1e3*le.getTime(),tt)}function pa(tt){if(tt.error){var Mt="";switch(tt.error.code){case 1:Mt="MEDIA_ERR_ABORTED";break;case 2:Mt="MEDIA_ERR_NETWORK";break;case 3:Mt="MEDIA_ERR_DECODE",Tt.counts.mediaErrorDecode+=1;break;case 4:Mt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Mt="MEDIA_ERR_ENCRYPTED";break;default:Mt="UNKNOWN"}Mt==="MEDIA_ERR_DECODE"&&De.get().errors.recoverAttempts.mediaErrorDecode>=Tt.counts.mediaErrorDecode?function(){c.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var on=le.getTime();S.deactivate(!1),c.warn("MediaSource has been resetted. Resuming playback from time ".concat(on)),Pt(on,!1,!1)}():(ie=!0,tt.error.message&&(Mt+=" ("+tt.error.message+")"),tt.error.msExtendedCode&&(Mt+=" (0x"+(tt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),c.fatal("Video Element Error: "+Mt),tt.error&&c.fatal(tt.error),ge.error(new ce.Z(tt.error.code,Mt)),Gi())}}function ti(){return S?S.getStreamInfo():null}function Ao(tt){for(var Mt=0,on=ve.length;Mt<on;Mt++)if(ve[Mt].getId()===tt)return ve[Mt];return null}function Zs(tt){isNaN(tt.newDuration)||Ln(tt.newDuration)}function Bs(){ve=[],Xe=NaN,q=null,de=!1,S=null,ie=!1,pe=!1,ke=!0,lt=!0,Be=!1,O=!0,ut=null,ze=!1,Ut=!1,it=[],mt=null,Tt={counts:{mediaErrorDecode:0}}}function Gi(){Kt(),Q.reset(),Mr(ie||pe?xe.FAILURE_STOP_REASON:xe.USER_REQUEST_STOP_REASON);for(var tt=0,Mt=ve?ve.length:0;tt<Mt;tt++)ve[tt].reset(ie);pt.off(r.Z.PLAYBACK_TIME_UPDATED,_e,g),pt.off(r.Z.PLAYBACK_SEEKING,Wt,g),pt.off(r.Z.PLAYBACK_ERROR,pa,g),pt.off(r.Z.PLAYBACK_STARTED,Ie,g),pt.off(r.Z.PLAYBACK_PAUSED,et,g),pt.off(r.Z.PLAYBACK_ENDED,rr,g),pt.off(r.Z.METRIC_ADDED,Gs,g),pt.off(r.Z.MANIFEST_VALIDITY_CHANGED,Zs,g),pt.off(r.Z.BUFFER_LEVEL_UPDATED,Qe,g),pt.off(r.Z.QUALITY_CHANGE_REQUESTED,Ue,g),f.Z.KEY_SESSION_UPDATED&&pt.off(f.Z.KEY_SESSION_UPDATED,yn,g),pt.off(f.Z.MANIFEST_UPDATED,ga,g),pt.off(f.Z.STREAM_BUFFERING_COMPLETED,Nt,g),pt.off(f.Z.TIME_SYNCHRONIZATION_COMPLETED,pn,g),pt.off(f.Z.CURRENT_TRACK_CHANGED,ht,g),pt.off(f.Z.SETTING_UPDATED_LIVE_DELAY,ct,g),pt.off(f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ct,g),W.reset(),P.reset(),Te.reset(),H.clearAllCurrentMetrics(),w.setValue(null),M.reset(),ee.reset(),X.reset(),se&&(J.detachMediaSource(V),se=null),V=null,q&&(q=null,G=null,w.getValue()&&pt.trigger(f.Z.PROTECTION_DESTROYED,{data:w.getValue().url})),vn(),pt.trigger(f.Z.STREAM_TEARDOWN_COMPLETE),Bs()}function Gs(tt){if(tt.metric===E.Z.DVR_INFO){var Mt=wi()?o.Z.AUDIO:o.Z.VIDEO;tt.mediaType===Mt&&J.setSeekable(tt.value.range.start,tt.value.range.end)}}function ha(){return ve}return g={initialize:function(tt,Mt){Kt(),O=tt,G=Mt,ee.initialize(),(P=$f(_t).create()).setConfig({manifestModel:w,adapter:L,manifestLoader:M,errHandler:ge,settings:De,contentSteeringController:F}),P.initialize(),(Te=zm(_t).getInstance()).setConfig({manifestUpdater:P,playbackController:le,settings:De}),Te.start(),Q.setConfig({dashMetrics:H,baseURLController:W,errHandler:ge,settings:De}),Q.initialize(),J.setConfig({settings:De}),q&&(pt.trigger(f.Z.PROTECTION_CREATED,{controller:q}),q.setMediaElement(V.getElement()),G&&q.setProtectionData(G)),pt.on(r.Z.PLAYBACK_TIME_UPDATED,_e,g),pt.on(r.Z.PLAYBACK_SEEKING,Wt,g),pt.on(r.Z.PLAYBACK_ERROR,pa,g),pt.on(r.Z.PLAYBACK_STARTED,Ie,g),pt.on(r.Z.PLAYBACK_PAUSED,et,g),pt.on(r.Z.PLAYBACK_ENDED,rr,g),pt.on(r.Z.METRIC_ADDED,Gs,g),pt.on(r.Z.MANIFEST_VALIDITY_CHANGED,Zs,g),pt.on(r.Z.BUFFER_LEVEL_UPDATED,Qe,g),pt.on(r.Z.QUALITY_CHANGE_REQUESTED,Ue,g),f.Z.KEY_SESSION_UPDATED&&pt.on(f.Z.KEY_SESSION_UPDATED,yn,g),pt.on(f.Z.MANIFEST_UPDATED,ga,g),pt.on(f.Z.STREAM_BUFFERING_COMPLETED,Nt,g),pt.on(f.Z.TIME_SYNCHRONIZATION_COMPLETED,pn,g),pt.on(f.Z.CURRENT_TRACK_CHANGED,ht,g),pt.on(f.Z.SETTING_UPDATED_LIVE_DELAY,ct,g),pt.on(f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ct,g)},getActiveStreamInfo:ti,addDVRMetric:Qt,hasVideoTrack:fi,hasAudioTrack:wi,getStreamById:Ao,getStreamForTime:zt,getTimeRelativeToStreamId:function(tt,Mt){for(var on=null,hn=0,wn=0,bn=null,En=0;En<ve.length;En++){if(wn=(on=ve[En]).getStartTime(),bn=on.getDuration(),Number.isFinite(wn)&&(hn=wn),on.getId()===Mt)return tt-hn;Number.isFinite(bn)&&(hn+=bn)}return null},load:function(tt){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Kt(),Xe=Mt,M.load(tt)},loadWithManifest:function(tt){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Vt(),Xe=Mt,P.setManifest(tt)},getActiveStreamProcessors:xn,setConfig:function(tt){tt&&(tt.capabilities&&(h=tt.capabilities),tt.capabilitiesFilter&&(b=tt.capabilitiesFilter),tt.manifestLoader&&(M=tt.manifestLoader),tt.manifestModel&&(w=tt.manifestModel),tt.mediaPlayerModel&&(Ze=tt.mediaPlayerModel),tt.customParametersModel&&(Oe=tt.customParametersModel),tt.protectionController&&(q=tt.protectionController),tt.adapter&&(L=tt.adapter),tt.dashMetrics&&(H=tt.dashMetrics),tt.errHandler&&(ge=tt.errHandler),tt.timelineConverter&&(ee=tt.timelineConverter),tt.videoModel&&(V=tt.videoModel),tt.playbackController&&(le=tt.playbackController),tt.serviceDescriptionController&&(Ae=tt.serviceDescriptionController),tt.contentSteeringController&&(F=tt.contentSteeringController),tt.textController&&(B=tt.textController),tt.abrController&&(fe=tt.abrController),tt.mediaController&&(ye=tt.mediaController),tt.settings&&(De=tt.settings),tt.baseURLController&&(W=tt.baseURLController),tt.uriFragmentModel&&(Ee=tt.uriFragmentModel),tt.segmentBaseController&&(K=tt.segmentBaseController),tt.manifestUpdater&&(P=tt.manifestUpdater))},setProtectionData:function(tt){G=tt,q&&q.setProtectionData(G)},getIsStreamSwitchInProgress:function(){return de},switchToVideoElement:function(tt){S&&(le.initialize(ti()),Pt(tt,!1,!0))},getHasMediaOrInitialisationError:function(){return ie||pe},getStreams:ha,getActiveStream:function(){return S},getInitialPlayback:function(){return ke},getAutoPlay:function(){return O},refreshManifest:function(){P.getIsUpdating()||P.refreshManifest()},reset:Gi},c=(0,m.Z)(_t).getInstance().getLogger(g),Q=Gm(_t).getInstance(),J=jm(_t).getInstance(),X=Re(_t).getInstance(),Bs(),g}td.__dashjs_factory_name="StreamController";var nd=R.Z.getSingletonFactory(td);function rd(){var g,c,h,b,P,M,w,L,H,J,Q,F,W=this.context,K=(0,_.Z)(W).getInstance();function Ee(){F.debug("Stopping the gap controller"),P&&(clearInterval(P),P=null),function(){K.off(f.Z.WALLCLOCK_TIME_UPDATED,ge,this),K.off(f.Z.INITIAL_STREAM_SWITCH,X,this),K.off(f.Z.PLAYBACK_SEEKING,fe,this),K.off(f.Z.BUFFER_REPLACEMENT_STARTED,ye,g),K.off(f.Z.TRACK_CHANGE_RENDERED,Te,g)}(),P=null,M=NaN,b=0,J=null,Q={}}function fe(){J&&(clearTimeout(J),J=null)}function ye(G){try{if(G.streamId!==L.getActiveStreamInfo().id||G.mediaType!==o.Z.VIDEO&&G.mediaType!==o.Z.AUDIO)return;G.streamId===L.getActiveStreamInfo().id&&(Q[G.mediaType]=!0)}catch(O){F.error(O)}}function Te(G){G&&G.mediaType&&(Q[G.mediaType]=!1)}function X(){P||function(){try{P||(F.debug("Starting the gap controller"),P=setInterval(function(){ee()&&B(w.getTime())},100))}catch{}}()}function ge(){if(ee(h.get().streaming.gaps.enableSeekFix)&&++b>=10){var G=w.getTime();c===G?B(G,!0):(c=G,M=NaN),b=0}}function ee(){var G=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!L.getActiveStream())return!1;var O=Object.keys(Q).some(function(ie){return Q[ie]}),de=!!G&&ve();return!O&&h.get().streaming.gaps.jumpGaps&&L.getActiveStreamProcessors().length>0&&(!w.isSeeking()||de)&&!w.isPaused()&&!L.getIsStreamSwitchInProgress()&&!L.getHasMediaOrInitialisationError()}function ve(){var G=L.getActiveStream(),O=parseFloat((G.getStartTime()+G.getDuration()).toFixed(5));return w.getTime()+h.get().streaming.gaps.threshold>=O}function S(G,O){try{if(!G||G.length<=1&&O>0)return NaN;for(var de=NaN,ie=0;isNaN(de)&&ie<G.length;){var pe=ie>0?G.end(ie-1):0;O<G.start(ie)&&pe-O<h.get().streaming.gaps.threshold&&(de=ie),ie+=1}return de}catch{return null}}function q(G,O){for(var de=0,ie=G.length;de<ie;de++)if(O>=G.start(de)&&O<=G.end(de))return!0;return!1}function B(G){var O,de=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ie=h.get().streaming.gaps.enableStallFix,pe=h.get().streaming.gaps.stallSeek,se=h.get().streaming.gaps.smallGapLimit,V=h.get().streaming.gaps.jumpLargeGaps,le=H.getBufferRange(),Ae=NaN,Ze=!1;if(O=S(le,G),!isNaN(O)){var Oe=le.start(O),Be=Oe-G;Be>0&&(Be<=se||V)&&(Ae=Oe)}var ke=w.getTimeToStreamEnd();if(isNaN(Ae)&&de&&isFinite(ke)&&!isNaN(ke)&&ke<se&&(Ae=parseFloat(w.getStreamEndTime().toFixed(5)),Ze=!0),ie&&isNaN(Ae)&&de&&isNaN(O)&&q(le,G)&&(pe===0?(F.warn("Toggle play pause to break stall"),H.pause(),H.play()):(F.warn("Jumping ".concat(pe,"s to break stall")),Ae=G+pe)),Ae>0&&M!==Ae&&Ae>G&&!J){var lt=Ae-G;if(Ze){var ut=L.getStreamForTime(Ae),rt=ut&&!!ut.getPreloaded();F.warn("Jumping to end of stream because of gap from ".concat(G," to ").concat(Ae,". Gap duration: ").concat(lt)),w.seek(Ae,!0,rt)}else{var it=w.getIsDynamic(),Ut=O>0?le.end(O-1):G,De=it?1e3*Math.max(0,lt-.1):0;J=window.setTimeout(function(){w.seek(Ae,!0,!0),F.warn("Jumping gap occuring in period ".concat(L.getActiveStream().getStreamId()," starting at ").concat(Ut," and ending at ").concat(Ae,". Jumping by: ").concat(Ae-Ut)),J=null},De)}M=Ae}}return g={reset:Ee,setConfig:function(G){G&&(G.settings&&(h=G.settings),G.playbackController&&(w=G.playbackController),G.streamController&&(L=G.streamController),G.videoModel&&(H=G.videoModel))},initialize:function(){(function(){K.on(f.Z.WALLCLOCK_TIME_UPDATED,ge,this),K.on(f.Z.INITIAL_STREAM_SWITCH,X,this),K.on(f.Z.PLAYBACK_SEEKING,fe,this),K.on(f.Z.BUFFER_REPLACEMENT_STARTED,ye,g),K.on(f.Z.TRACK_CHANGE_RENDERED,Te,g)})()}},F=(0,m.Z)(W).getInstance().getLogger(g),Ee(),g}rd.__dashjs_factory_name="GapController";var qm=R.Z.getSingletonFactory(rd);function id(){var g,c,h,b,P,M,w,L,H,J,Q=this.context,F=(0,_.Z)(Q).getInstance();function W(){c=!1;var ve=At.Z.parseUserAgent();h=ve&&ve.browser&&ve.browser.name&&ve.browser.name.toLowerCase()==="safari"}function K(){c=!1}function Ee(ve){if(ve.streamId===M.getActiveStreamInfo().id&&H){var S=w.getLiveDelay();w.getBufferLevel()>S/2&&(H=!1)}}function fe(ve){ve.streamId===M.getActiveStreamInfo().id&&(H=ve.state===E.Z.BUFFER_EMPTY)}function ye(){L.getCatchupModeEnabled()||b.setPlaybackRate(1)}function Te(){w.getIsDynamic()&&L.getCatchupModeEnabled()&&(L.getCatchupPlaybackRates().max>0||L.getCatchupPlaybackRates().min<0)&&!w.isPaused()&&!w.isSeeking()&&function(){try{return!(!w.getTime()>0||c)&&(ge()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(ve,S){try{return Math.abs(X())>0||ve<S}catch{return!1}}(w.getBufferLevel(),P.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(X())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!c&&b){var ve,S=b.getPlaybackRate(),q=L.getCatchupPlaybackRates(),B=w.getBufferLevel(),G=X(),O=L.getCatchupMaxDrift();if(!isNaN(O)&&O>0&&G>O)J.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),c=!0,w.seekToCurrentLive(!0,!1);else{var de=w.getCurrentLiveLatency(),ie=w.getLiveDelay();ve=ge()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(se,V,le,Ae,Ze){var Oe;if(Ze<Ae){var Be=Math.abs(se.min),ke=5*(Ze-Ae);Oe=1-Be+2*Be/(1+Math.pow(Math.E,-ke)),J.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ze+", newRate: "+Oe)}else{if(Math.abs(V-le)<=.02*le)Oe=1;else{var lt=V-le,ut=lt<0?Math.abs(se.min):se.max,rt=5*lt;Oe=1-ut+2*ut/(1+Math.pow(Math.E,-rt))}J.debug("[LoL+ playback control_latency-based] latency: "+V+", newRate: "+Oe)}return Oe}(q,de,ie,P.get().streaming.liveCatchup.playbackBufferMin,B):function(se,V,le,Ae){if(H)return 1;var Ze=V-le,Oe=Ze<0?Math.abs(se.min):se.max,Be=5*Ze,ke=1-Oe+2*Oe/(1+Math.pow(Math.E,-Be));return w.getPlaybackStalled()&&Ae<=le/2&&Ze>0&&(ke=1),ke}(q,de,ie,B);var pe=h?.25:.02/(.5/q.max);ve&&Math.abs(S-ve)>=pe&&(J.debug("[CatchupController]: Setting playback rate to ".concat(ve)),b.setPlaybackRate(ve))}}}()}function X(){return w.getCurrentLiveLatency()-w.getLiveDelay()}function ge(){var ve=P.get().streaming.liveCatchup.playbackBufferMin;return P.get().streaming.liveCatchup.mode!==o.Z.LIVE_CATCHUP_MODE_LOLP||ve===null||isNaN(ve)?o.Z.LIVE_CATCHUP_MODE_DEFAULT:o.Z.LIVE_CATCHUP_MODE_LOLP}function ee(){L.getCatchupPlaybackRates(!0)}return g={reset:function(){F.off(r.Z.BUFFER_LEVEL_UPDATED,Ee,g),F.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,fe,g),F.off(r.Z.PLAYBACK_PROGRESS,Te,g),F.off(r.Z.PLAYBACK_TIME_UPDATED,Te,g),F.off(r.Z.PLAYBACK_SEEKED,K,g),F.off(f.Z.SETTING_UPDATED_CATCHUP_ENABLED,ye,g),F.off(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,g),F.off(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,g),F.off(r.Z.STREAM_INITIALIZED,ee,g),W(),b.setPlaybackRate(1,!0)},setConfig:function(ve){ve&&(ve.settings&&(P=ve.settings),ve.videoModel&&(b=ve.videoModel),ve.streamController&&(M=ve.streamController),ve.playbackController&&(w=ve.playbackController),ve.mediaPlayerModel&&(L=ve.mediaPlayerModel))},initialize:function(){F.on(r.Z.BUFFER_LEVEL_UPDATED,Ee,g),F.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,fe,g),F.on(r.Z.PLAYBACK_PROGRESS,Te,g),F.on(r.Z.PLAYBACK_TIME_UPDATED,Te,g),F.on(r.Z.PLAYBACK_SEEKED,K,g),F.on(f.Z.SETTING_UPDATED_CATCHUP_ENABLED,ye,g),F.on(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,g),F.on(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,g),F.on(r.Z.STREAM_INITIALIZED,ee,g),ee()}},J=(0,m.Z)(Q).getInstance().getLogger(g),W(),g}id.__dashjs_factory_name="CatchupController";var Ym=R.Z.getSingletonFactory(id),Hm=[o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],ad="video",od="audio";function sd(){var g,c,h,b,P,M=this.context;function w(){c={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},h=[]}function L(H,J,Q){try{c[H][J]=Q/1e3}catch(F){b.error(F)}}return g={getServiceDescriptionSettings:function(){return c},getProducerReferenceTimeOffsets:function(){return h},calculateProducerReferenceTimeOffsets:function(H){try{var J=[];if(H&&H.length>0){var Q=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT],F=P.getAvailabilityStartTime()/1e3;H.forEach(function(W){var K=Q.reduce(function(Ee,fe){return Ee.concat(P.getAllMediaInfoForType(W,fe))},[]).reduce(function(Ee,fe){return P.getProducerReferenceTimes(W,fe).forEach(function(ye){var Te=P.getVoRepresentations(fe);if(Te&&Te.length>0&&Te[0].adaptation&&Te[0].segmentInfoType===i.Z.SEGMENT_TEMPLATE){var X=Te[0],ge=new Date(ye[i.Z.WALL_CLOCK_TIME]).getTime()/1e3-(ye[i.Z.PRESENTATION_TIME]/X[i.Z.TIMESCALE]-X[i.Z.PRESENTATION_TIME_OFFSET]+W.start),ee=F-ge;Ee.push({id:ye[i.Z.ID],to:ee})}}),Ee},[]);J=J.concat(K)})}h=J}catch(W){b.error(W),h=[]}},applyServiceDescription:function(H){if(H&&H.serviceDescriptions){var J=H.serviceDescriptions.filter(function(W){return Hm.includes(W.schemeIdUri)}),Q=H.serviceDescriptions.filter(function(W){return W.schemeIdUri==null}),F=J.length>0?J[J.length-1]:Q[Q.length-1];F&&(F.latency&&F.latency.target>0&&function(W){var K;if(W.schemeIdUri,o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,K=function(Te){return{liveDelay:Te.latency.target/1e3,maxDrift:!isNaN(Te.latency.max)&&Te.latency.max>Te.latency.target?(Te.latency.max-Te.latency.target+500)/1e3:NaN,referenceId:Te.latency.referenceId||NaN}}(W),h.length>0){var Ee=function(Te){var X,ge=0,ee=h.filter(function(ve){return ve.id===Te.referenceId});return ee.length===0?(ge=h.length>0?h[0].to:0,X=h[0].id||NaN):(ge=ee[0].to||0,X=ee[0].id||NaN),{to:ge,id:X}}(K),fe=Ee.to,ye=Ee.id;c.liveDelay=K.liveDelay-fe,c.liveCatchup.maxDrift=K.maxDrift,b.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(fe," from ProducerReferenceTime element with id ").concat(ye,`.
                Live Delay: `).concat(K.liveDelay-fe,", Live catchup max drift: ").concat(K.maxDrift,`
            `))}else c.liveDelay=K.liveDelay,c.liveCatchup.maxDrift=K.maxDrift,b.debug("Found latency properties coming from service description: Live Delay: ".concat(K.liveDelay,", Live catchup max drift: ").concat(K.maxDrift))}(F),F.playbackRate&&function(W){var K=W.playbackRate.min?Math.round(1e3*(W.playbackRate.min-1))/1e3:NaN,Ee=W.playbackRate.max?Math.round(1e3*(W.playbackRate.max-1))/1e3:NaN;c.liveCatchup.playbackRate.min=K,c.liveCatchup.playbackRate.max=Ee,b.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(K)),b.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(Ee))}(F),F.operatingQuality,F.operatingBandwidth&&function(W){if(W&&W.operatingBandwidth&&W.operatingBandwidth.mediaType&&W.operatingBandwidth.mediaType!=="all"){var K={};K.minBandwidth=W.operatingBandwidth.min,K.maxBandwidth=W.operatingBandwidth.max,K.targetBandwidth=W.operatingBandwidth.target;var Ee=[];W.operatingBandwidth.mediaType===ad||W.operatingBandwidth.mediaType===od?Ee.push(W.operatingBandwidth.mediaType):W.operatingBandwidth.mediaType==="any"&&(Ee.push(od),Ee.push(ad)),Ee.forEach(function(fe){isNaN(K.minBandwidth)||L("minBitrate",fe,K.minBandwidth),isNaN(K.maxBandwidth)||L("maxBitrate",fe,K.maxBandwidth),isNaN(K.targetBandwidth)||L("initialBitrate",fe,K.targetBandwidth)})}}(F),F.contentSteering&&function(W){c.contentSteering=W.contentSteering}(F))}},reset:function(){w()},setConfig:function(H){H&&H.adapter&&(P=H.adapter)}},b=(0,m.Z)(M).getInstance().getLogger(g),w(),g}sd.__dashjs_factory_name="ServiceDescriptionController";var Vm=R.Z.getSingletonFactory(sd),Km=v(3973),bs=v.n(Km),ld=v(3039);function fu(){var g,c,h,b,P,M,w,L,H=this.context,J=(0,_.Z)(H).getInstance();function Q(V,le){return V&&h[le]&&h[le][V]?h[le][V].list:[]}function F(V,le){return V&&h[le]&&h[le][V]?h[le][V].current:null}function W(V){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(V&&V.streamInfo){var Ae=V.type,Ze=V.streamInfo,Oe=Ze.id,Be=F(Ae,Oe);if(h[Oe]&&h[Oe][Ae]&&(h[Oe][Ae].current=V,h[Oe][Ae].current&&(Ae!==o.Z.TEXT&&!fe(V,Be)||Ae===o.Z.TEXT&&V.isFragmented)&&J.trigger(f.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Be,newMediaInfo:V,switchMode:b.get().streaming.trackSwitchMode[Ae]},{streamId:Oe}),!le)){var ke=Te(V);if(!ke||!h[Oe][Ae].storeLastSettings)return;ke.roles&&(ke.role=ke.roles[0],delete ke.roles),ke.accessibility&&(ke.accessibility=ke.accessibility[0]),ke.audioChannelConfiguration&&(ke.audioChannelConfiguration=ke.audioChannelConfiguration[0]),M[Ae]=ke,L.setSavedMediaSettings(Ae,ke)}}}function K(V,le){V&&le&&(P[V]=le)}function Ee(V){return V?P[V]:null}function fe(V,le){if(!V&&!le)return!0;if(!V||!le)return!1;var Ae=V.id===le.id,Ze=V.viewpoint===le.viewpoint,Oe=JSON.stringify(V.viewpointsWithSchemeIdUri)===JSON.stringify(le.viewpointsWithSchemeIdUri),Be=V.lang===le.lang,ke=V.codec===le.codec,lt=V.roles.toString()===le.roles.toString(),ut=JSON.stringify(V.rolesWithSchemeIdUri)===JSON.stringify(le.rolesWithSchemeIdUri),rt=V.accessibility.toString()===le.accessibility.toString(),it=JSON.stringify(V.accessibilitiesWithSchemeIdUri)===JSON.stringify(le.accessibilitiesWithSchemeIdUri),Ut=V.audioChannelConfiguration.toString()===le.audioChannelConfiguration.toString(),De=JSON.stringify(V.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(le.audioChannelConfigurationsWithSchemeIdUri);return Ae&&ke&&Ze&&Oe&&Be&&lt&&ut&&rt&&it&&Ut&&De}function ye(){h={},M={},P={audio:null,video:null,text:null}}function Te(V){var le={lang:V.lang,viewpoint:V.viewpoint,roles:V.roles,accessibility:V.accessibility,audioChannelConfiguration:V.audioChannelConfiguration,codec:V.codec};return le.lang||le.viewpoint||le.role&&le.role.length>0||le.accessibility&&le.accessibility.length>0||le.audioChannelConfiguration&&le.audioChannelConfiguration.length>0?le:null}function X(V,le,Ae){var Ze=[];return V.forEach(function(Oe){le(Ae,Oe)&&Ze.push(Oe)}),Ze.length!==0?Ze:V}function ge(V,le){try{return!V.lang||V.lang instanceof RegExp?le.lang.match(V.lang):le.lang!==""&&(0,ld.extendedFilter)(le.lang,bs()(V.lang)).length>0}catch{return!1}}function ee(V,le){return V.index===void 0||V.index===null||le.index===V.index}function ve(V,le){return!V.viewpoint||V.viewpoint===le.viewpoint}function S(V,le){var Ae=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ze=!V.role||!!le.roles.filter(function(Oe){return Oe===V.role})[0];return Ze||le.type===o.Z.AUDIO&&Ae}function q(V,le){return V.accessibility?!!le.accessibility.filter(function(Ae){return Ae===V.accessibility})[0]:!le.accessibility.length}function B(V,le){return!V.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(Ae){return Ae===V.audioChannelConfiguration})[0]}function G(V,le){return!V.codec||V.codec===le.codec}function O(V){var le,Ae=0,Ze=[];return V.forEach(function(Oe){(le=Math.max.apply(Math,Oe.bitrateList.map(function(Be){return Be.bandwidth})))>Ae?(Ae=le,Ze=[Oe]):le===Ae&&Ze.push(Oe)}),Ze}function de(V){var le,Ae=1/0,Ze=[];return V.forEach(function(Oe){var Be=Oe.bitrateList.reduce(function(ke,lt){var ut=Math.max(1,lt.width*lt.height);return ke+lt.bandwidth/ut},0);(le=Be/Oe.bitrateList.length)<Ae?(Ae=le,Ze=[Oe]):le===Ae&&Ze.push(Oe)}),Ze}function ie(V){var le,Ae=0,Ze=[];return V.forEach(function(Oe){(le=Oe.representationCount)>Ae?(Ae=le,Ze=[Oe]):le===Ae&&Ze.push(Oe)}),Ze}function pe(V,le){if(V===o.Z.TEXT)return le[0];var Ae,Ze=b.get().streaming.selectionModeForInitialTrack,Oe=w.getCustomInitialTrackSelectionFunction();if(Oe&&typeof Oe=="function")Ae=Oe(le);else switch(Ze){case o.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Ae=function(Be){var ke,lt,ut=(ke=0,lt=[],Be.forEach(function(rt){isNaN(rt.selectionPriority)||(rt.selectionPriority>ke?(ke=rt.selectionPriority,lt=[rt]):rt.selectionPriority===ke&&lt.push(rt))}),lt);return ut.length>1&&(ut=O(ut)),ut.length>1&&(ut=ie(ut)),ut}(le);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ae=function(Be){var ke=O(Be);return ke.length>1&&(ke=ie(ke)),ke}(le);break;case o.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Ae=se(le);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ae=function(Be){var ke=de(Be);return ke.length>1&&(ke=O(ke)),ke}(le);break;case o.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Ae=function(Be){var ke=ie(Be);return ke.length>1&&(ke=O(Be)),ke}(le);break;default:c.warn("Track selection mode ".concat(Ze," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Ae=se(le)}return Ae.length>0?Ae[0]:le[0]}function se(V){return V[0]}return g={setInitialMediaSettingsForType:function(V,le){var Ae=M[V]||Ee(V),Ze=Q(V,le.id),Oe=[];Ae||((Ae=L.getSavedMediaSettings(V))&&delete Ae.codec,K(V,Ae)),Ze&&Ze.length!==0&&(Ae&&(Oe=X(Oe=Array.from(Ze),ge,Ae),Oe=X(Oe,ee,Ae),Oe=X(Oe,ve,Ae),V===o.Z.AUDIO&&M[V]||(Oe=X(Oe,S,Ae)),Oe=X(Oe,q,Ae),Oe=X(Oe,B,Ae),Oe=X(Oe,G,Ae)),Oe.length===0?W(pe(V,Ze),!0):Oe.length>1?W(pe(V,Oe)):W(Oe[0]))},addTrack:function(V){if(V){var le=V.type;if((Ae=le)===o.Z.AUDIO||Ae===o.Z.VIDEO||Ae===o.Z.TEXT||Ae===o.Z.IMAGE){var Ae,Ze,Oe=V.streamInfo.id;h[Oe]||(h[Oe]={audio:{list:[],storeLastSettings:Ze=b.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Ze,current:null},text:{list:[],storeLastSettings:Ze,current:null},image:{list:[],storeLastSettings:Ze,current:null}});for(var Be=h[Oe][le].list,ke=0,lt=Be.length;ke<lt;++ke)if(fe(Be[ke],V))return;Be.push(V)}}},getTracksFor:Q,getCurrentTrackFor:F,isCurrentTrack:function(V){if(!V)return!1;var le=V.type,Ae=V.streamInfo.id;return h[Ae]&&h[Ae][le]&&fe(h[Ae][le].current,V)},setTrack:W,selectInitialTrack:pe,setInitialSettings:K,getInitialSettings:Ee,getTracksWithHighestBitrate:O,getTracksWithHighestEfficiency:de,getTracksWithWidestRange:ie,isTracksEqual:fe,matchSettings:function(V,le){var Ae=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Ze=!1;if(V.lang){if(V.lang instanceof RegExp)Ze=le.lang.match(V.lang);else if(le.lang!==""){var Oe=bs()(V.lang);Oe&&(Ze=(0,ld.extendedFilter)(le.lang,Oe).length>0)}}else Ze=!0;var Be=V.index===void 0||V.index===null||le.index===V.index,ke=!V.viewpoint||V.viewpoint===le.viewpoint,lt=!V.role||!!le.roles.filter(function(it){return it===V.role})[0],ut=!V.accessibility||!!le.accessibility.filter(function(it){return it===V.accessibility})[0],rt=!V.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(it){return it===V.audioChannelConfiguration})[0];return Ze&&Be&&ke&&(lt||le.type===o.Z.AUDIO&&Ae)&&ut&&rt}catch{return!1}},matchSettingsLang:ge,matchSettingsIndex:ee,matchSettingsViewPoint:ve,matchSettingsRole:S,matchSettingsAccessibility:q,matchSettingsAudioChannelConfig:B,saveTextSettingsDisabled:function(){L.setSavedMediaSettings(o.Z.TEXT,null)},setConfig:function(V){V&&(V.domStorage&&(L=V.domStorage),V.settings&&(b=V.settings),V.customParametersModel&&(w=V.customParametersModel))},reset:ye},c=(0,m.Z)(H).getInstance().getLogger(g),ye(),g}fu.__dashjs_factory_name="MediaController";var ud=R.Z.getSingletonFactory(fu);R.Z.updateSingletonFactory(fu.__dashjs_factory_name,ud);var Wm=ud,Is=NaN,cd=function g(c,h){(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.data={baseUrls:c||null,selectedIdx:h||Is},this.children=[]};function fd(){var g,c,h,b,P=this.context,M=Ft(P).getInstance();function w(Q,F,W){var K=L(W);Q[F]?M.areEqual(K,Q[F].data.baseUrls)||(Q[F].data.baseUrls=K,Q[F].data.selectedIdx=Is):Q[F]=new cd(K)}function L(Q){var F=h.getBaseURLsFromElement(Q),W=b.getSynthesizedBaseUrlElements(F);return W&&W.length>0&&(F=F.concat(W)),F}function H(Q,F){var W=F||c;Q(W.data),W.children&&W.children.forEach(function(K){return H(Q,K)})}function J(){c=new cd}return g={reset:J,update:function(Q){(function(F){(function(){if(!h||!h.hasOwnProperty("getBaseURLsFromElement")||!h.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var W=L(F);M.areEqual(W,c.data.baseUrls)||(c.data.baseUrls=W,c.data.selectedIdx=Is),F&&F.Period_asArray&&F.Period_asArray.forEach(function(K,Ee){w(c.children,Ee,K),K.AdaptationSet_asArray&&K.AdaptationSet_asArray.forEach(function(fe,ye){w(c.children[Ee].children,ye,fe),fe.Representation_asArray&&fe.Representation_asArray.sort(h.getRepresentationSortFunction()).forEach(function(Te,X){w(c.children[Ee].children[ye].children,X,Te)})})})})(Q)},getForPath:function(Q){var F=c,W=[F.data];return Q&&Q.forEach(function(K){(F=F.children[K])&&W.push(F.data)}),W.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function(Q){H(function(F){isNaN(F.selectedIdx)||Q===F.baseUrls[F.selectedIdx].serviceLocation&&(F.selectedIdx=Is)})},setConfig:function(Q){Q.adapter&&(h=Q.adapter),Q.contentSteeringController&&(b=Q.contentSteeringController)},getBaseUrls:function(Q){return L(Q)}},J(),g}fd.__dashjs_factory_name="BaseURLTreeModel";var Qm=R.Z.getClassFactory(fd);function dd(g){var c=(g=g||{}).blacklistController;return{select:function(h){return h&&function(P){var M,w,L=0,H=[],J=0;if((w=P.sort(function(Q,F){var W=Q.dvbPriority-F.dvbPriority;return isNaN(W)?0:W}).filter(function(Q,F,W){return!F||W[0].dvbPriority&&Q.dvbPriority&&W[0].dvbPriority===Q.dvbPriority})).length)return w.length>1&&(w.forEach(function(Q){L+=Q.dvbWeight,H.push(L)}),M=Math.floor(Math.random()*(L-1)),H.every(function(Q,F){return J=F,!(M<Q)})),w[J]}((b=[],h.filter(function(P){return!c.contains(P.serviceLocation)||(P.dvbPriority&&b.push(P.dvbPriority),!1)}).filter(function(P){return!b.length||!P.dvbPriority||b.indexOf(P.dvbPriority)===-1})));var b}}}dd.__dashjs_factory_name="DVBSelector";var Xm=R.Z.getClassFactory(dd);function gd(g){var c=(g=g||{}).blacklistController;return{select:function(h){var b,P=0;return h&&h.some(function(M,w){return P=w,!c.contains(M.serviceLocation)})&&(b=h[P]),b}}}gd.__dashjs_factory_name="BasicSelector";var $m=R.Z.getClassFactory(gd);function pd(){var g,c,h,b=this.context;function P(){for(var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=0,H=NaN,J=function(){var F=M[L],W=w.findIndex(function(K){return K.serviceLocation&&K.serviceLocation===F});if(W!==-1&&!h.contains(w[W].serviceLocation))return H=W,"break";L+=1};L<M.length;){var Q=J();if(Q==="break")break}return H}return g={selectBaseUrlIndex:function(M){var w=NaN;if(isNaN(M.selectedIdx)){var L=c.getSteeringDataFromManifest();L&&L.defaultServiceLocationArray.length>0&&(w=P(L.defaultServiceLocationArray,M.baseUrls))}var H=c.getCurrentSteeringResponseData();return M.baseUrls&&M.baseUrls.length&&H&&H.pathwayPriority&&H.pathwayPriority.length&&(w=P(H.pathwayPriority,M.baseUrls)),w},setConfig:function(M){M.blacklistController&&(h=M.blacklistController),M.contentSteeringController&&(c=M.contentSteeringController)}},c=ei(b).getInstance(),g}pd.__dashjs_factory_name="ContentSteeringSelector";var Jm=R.Z.getClassFactory(pd);function hd(){var g,c,h,b,P,M,w=this.context,L=(0,_.Z)(w).getInstance(),H=(0,be.Z)(w).getInstance();function J(){c.reset()}return g={chooseSelector:function(Q){(0,ae.PS)(Q,"boolean"),M=Q?b:h},select:function(Q){if(Q){if(H.get().streaming.applyContentSteering){var F=P.selectBaseUrlIndex(Q);isNaN(F)||F===-1||(Q.selectedIdx=F)}if(!isNaN(Q.selectedIdx))return Q.baseUrls[Q.selectedIdx];var W=M.select(Q.baseUrls);return W?(Q.selectedIdx=Q.baseUrls.indexOf(W),W):(L.trigger(f.Z.URL_RESOLUTION_FAILED,{error:new ce.Z(oe.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,oe.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(M===h&&J()))}},reset:J,setConfig:function(Q){Q.selector&&(M=Q.selector),Q.contentSteeringSelector&&(P=Q.contentSteeringSelector)}},c=xa(w).create({updateEventName:f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),h=$m(w).create({blacklistController:c}),b=Xm(w).create({blacklistController:c}),(P=Jm(w).create()).setConfig({blacklistController:c}),M=h,g}hd.__dashjs_factory_name="BaseURLSelector";var ey=R.Z.getClassFactory(hd);function md(){var g,c,h,b,P,M=this.context,w=(0,_.Z)(M).getInstance(),L=(0,nt.Z)(M).getInstance();function H(Q){h.update(Q),b.chooseSelector(c.getIsDVB(Q)),w.trigger(r.Z.BASE_URLS_UPDATED,{baseUrls:J(Q)})}function J(Q){return h.getBaseUrls(Q)}return g={reset:function(){h.reset(),b.reset()},initialize:function(Q){h.setConfig({adapter:c,contentSteeringController:P}),H(Q)},resolve:function(Q){var F=h.getForPath(Q).reduce(function(W,K){var Ee=b.select(K);return Ee?(L.isRelative(Ee.url)?W.url=L.resolve(Ee.url,W.url):(W.url=Ee.url,W.serviceLocation=Ee.serviceLocation),W.availabilityTimeOffset=Ee.availabilityTimeOffset,W.availabilityTimeComplete=Ee.availabilityTimeComplete,W.queryParams=Ee.queryParams,W):new Xr},new Xr);if(!L.isRelative(F.url))return F},setConfig:function(Q){Q.baseURLTreeModel&&(h=Q.baseURLTreeModel),Q.baseURLSelector&&(b=Q.baseURLSelector),Q.adapter&&(c=Q.adapter),Q.contentSteeringController&&(P=Q.contentSteeringController)},getBaseUrls:J,update:H},h=Qm(M).create(),b=ey(M).create(),w.on(f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(Q){h.invalidateSelectedIndexes(Q.entry)},g),g}md.__dashjs_factory_name="BaseURLController";var ty=R.Z.getClassFactory(md);function du(g){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},du(g)}function gu(g,c){return gu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},gu(g,c)}function ny(g,c){return!c||du(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Rs(g){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Rs(g)}var yd=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&gu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Rs(c);if(h){var L=Rs(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return ny(this,M)});function P(M,w){var L;return function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")}(this,P),(L=b.call(this)).url=M||null,L.type=w||null,L.mediaType=o.Z.STREAM,L.responseType="",L}return P}(I.Z);function vd(g){g=g||{};var c=this.context,h=(0,_.Z)(c).getInstance(),b=wr(c).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:oe});return{load:function(P,M,w){var L=function(J,Q){M.resolved=!0,M.resolvedContent=J||null,h.trigger(f.Z.XLINK_ELEMENT_LOADED,{element:M,resolveObject:w,error:J||Q?null:new ce.Z(oe.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,oe.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+P)})};if(P==="urn:mpeg:dash:resolve-to-zero:2013")L(null,!0);else{var H=new yd(P,Pe.w.XLINK_EXPANSION_TYPE);b.load({request:H,success:function(J){L(J)},error:function(){L(null)}})}},reset:function(){b&&(b.abort(),b=null)}}}vd.__dashjs_factory_name="XlinkLoader";var ry=R.Z.getClassFactory(vd),Ed=function(g){(g=g||{}).escapeMode===void 0&&(g.escapeMode=!0),g.attributePrefix===void 0&&(g.attributePrefix="_"),g.arrayAccessForm=g.arrayAccessForm||"none",g.emptyNodeForm=g.emptyNodeForm||"text",g.enableToStringFunc===void 0&&(g.enableToStringFunc=!0),g.arrayAccessFormPaths=g.arrayAccessFormPaths||[],g.skipEmptyTextNodesForObj===void 0&&(g.skipEmptyTextNodesForObj=!0),g.stripWhitespaces===void 0&&(g.stripWhitespaces=!0),g.datetimeAccessFormPaths=g.datetimeAccessFormPaths||[],g.useDoubleQuotes===void 0&&(g.useDoubleQuotes=!1),g.xmlElementsFilter=g.xmlElementsFilter||[],g.jsonPropertiesFilter=g.jsonPropertiesFilter||[],g.keepCData===void 0&&(g.keepCData=!1),g.ignoreRoot===void 0&&(g.ignoreRoot=!1);function c(X){var ge=X.localName;return ge==null&&(ge=X.baseName),ge!=null&&ge!=""||(ge=X.nodeName),ge}function h(X){return typeof X=="string"?X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):X}function b(X,ge,ee,ve){for(var S=0;S<X.length;S++){var q=X[S];if(typeof q=="string"){if(q==ve)break}else if(q instanceof RegExp){if(q.test(ve))break}else if(typeof q=="function"&&q(ge,ee,ve))break}return S!=X.length}function P(X,ge,ee){g.arrayAccessForm==="property"&&(X[ge]instanceof Array?X[ge+"_asArray"]=X[ge]:X[ge+"_asArray"]=[X[ge]]),!(X[ge]instanceof Array)&&g.arrayAccessFormPaths.length>0&&b(g.arrayAccessFormPaths,X,ge,ee)&&(X[ge]=[X[ge]])}function M(X){var ge=X.split(/[-T:+Z]/g),ee=new Date(ge[0],ge[1]-1,ge[2]),ve=ge[5].split(".");if(ee.setHours(ge[3],ge[4],ve[0]),ve.length>1&&ee.setMilliseconds(ve[1]),ge[6]&&ge[7]){var S=60*ge[6]+Number(ge[7]);S=0+((/\d\d-\d\d:\d\d$/.test(X)?"-":"+")=="-"?-1*S:S),ee.setMinutes(ee.getMinutes()-S-ee.getTimezoneOffset())}else X.indexOf("Z",X.length-1)!==-1&&(ee=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds())));return ee}function w(X,ge,ee,ve){return!(ge==1&&g.xmlElementsFilter.length>0)||b(g.xmlElementsFilter,X,ee,ve)}function L(X,ge){if(X.nodeType==9){for(var ee=new Object,ve=X.childNodes,S=0;S<ve.length;S++)(B=ve[S]).nodeType==1&&(g.ignoreRoot?ee=L(B):(ee={})[G=c(B)]=L(B));return ee}if(X.nodeType==1){(ee=new Object).__cnt=0;var q=[];for(ve=X.childNodes,S=0;S<ve.length;S++){var B,G=c(B=ve[S]);if(B.nodeType!=8){var O=ge+"."+G;if(w(ee,B.nodeType,G,O))if(ee.__cnt++,ee[G]==null){var de=L(B,O);(G!="#text"||/[^\s]/.test(de))&&((ie={})[G]=de,q.push(ie)),ee[G]=de,P(ee,G,O)}else{var ie;ee[G]!=null&&(ee[G]instanceof Array||(ee[G]=[ee[G]],P(ee,G,O))),de=L(B,O),(G!="#text"||/[^\s]/.test(de))&&((ie={})[G]=de,q.push(ie)),ee[G][ee[G].length]=de}}}ee.__children=q;for(var pe=c(X),se=0;se<X.attributes.length;se++){var V=X.attributes[se];ee.__cnt++;for(var le=V.value,Ae=0,Ze=g.matchers.length;Ae<Ze;Ae++){var Oe=g.matchers[Ae];Oe.test(V,pe)&&(le=Oe.converter(V.value))}ee[g.attributePrefix+V.name]=le}var Be=function(ke){return ke.prefix}(X);return Be!=null&&Be!=""&&(ee.__cnt++,ee.__prefix=Be),ee["#text"]!=null&&(ee.__text=ee["#text"],ee.__text instanceof Array&&(ee.__text=ee.__text.join(`
`)),g.stripWhitespaces&&(ee.__text=ee.__text.trim()),delete ee["#text"],g.arrayAccessForm=="property"&&delete ee["#text_asArray"],ee.__text=function(ke,lt,ut){if(g.datetimeAccessFormPaths.length>0){var rt=ut.split(".#")[0];return b(g.datetimeAccessFormPaths,ke,lt,rt)?M(ke):ke}return ke}(ee.__text,G,ge+"."+G)),ee["#cdata-section"]!=null&&(ee.__cdata=ee["#cdata-section"],delete ee["#cdata-section"],g.arrayAccessForm=="property"&&delete ee["#cdata-section_asArray"]),ee.__cnt==0&&g.emptyNodeForm=="text"?ee="":ee.__cnt==1&&ee.__text!=null?ee=ee.__text:ee.__cnt!=1||ee.__cdata==null||g.keepCData?ee.__cnt>1&&ee.__text!=null&&g.skipEmptyTextNodesForObj&&(g.stripWhitespaces&&ee.__text==""||ee.__text.trim()=="")&&delete ee.__text:ee=ee.__cdata,delete ee.__cnt,!g.enableToStringFunc||ee.__text==null&&ee.__cdata==null||(ee.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ee}if(X.nodeType==3||X.nodeType==4)return X.nodeValue}function H(X,ge,ee,ve){var S="<"+(X!=null&&X.__prefix!=null?X.__prefix+":":"")+ge;if(ee!=null)for(var q=0;q<ee.length;q++){var B=ee[q],G=X[B];g.escapeMode&&(G=h(G)),S+=" "+B.substr(g.attributePrefix.length)+"=",g.useDoubleQuotes?S+='"'+G+'"':S+="'"+G+"'"}return S+(ve?"/>":">")}function J(X,ge){return"</"+(X.__prefix!=null?X.__prefix+":":"")+ge+">"}function Q(X,ge){return g.arrayAccessForm=="property"&&(ve="_asArray",(ee=ge.toString()).indexOf(ve,ee.length-ve.length)!==-1)||ge.toString().indexOf(g.attributePrefix)==0||ge.toString().indexOf("__")==0||X[ge]instanceof Function;var ee,ve}function F(X){var ge=0;if(X instanceof Object)for(var ee in X)Q(X,ee)||ge++;return ge}function W(X,ge,ee){return g.jsonPropertiesFilter.length==0||ee==""||b(g.jsonPropertiesFilter,X,ge,ee)}function K(X){var ge=[];if(X instanceof Object)for(var ee in X)ee.toString().indexOf("__")==-1&&ee.toString().indexOf(g.attributePrefix)==0&&ge.push(ee);return ge}function Ee(X){var ge="";return X instanceof Object?ge+=function(ee){var ve="";return ee.__cdata!=null&&(ve+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(g.escapeMode?ve+=h(ee.__text):ve+=ee.__text),ve}(X):X!=null&&(g.escapeMode?ge+=h(X):ge+=X),ge}function fe(X,ge){return X===""?ge:X+"."+ge}function ye(X,ge,ee,ve){var S="";if(X.length==0)S+=H(X,ge,ee,!0);else for(var q=0;q<X.length;q++)S+=H(X[q],ge,K(X[q]),!1),S+=Te(X[q],fe(ve,ge)),S+=J(X[q],ge);return S}function Te(X,ge){var ee="";if(F(X)>0){for(var ve in X)if(!Q(X,ve)&&(ge==""||W(X,ve,fe(ge,ve)))){var S=X[ve],q=K(S);S==null||S==null?ee+=H(S,ve,q,!0):S instanceof Object?S instanceof Array?ee+=ye(S,ve,q,ge):S instanceof Date?(ee+=H(S,ve,q,!1),ee+=S.toISOString(),ee+=J(S,ve)):F(S)>0||S.__text!=null||S.__cdata!=null?(ee+=H(S,ve,q,!1),ee+=Te(S,fe(ge,ve)),ee+=J(S,ve)):ee+=H(S,ve,q,!0):(ee+=H(S,ve,q,!1),ee+=Ee(S),ee+=J(S,ve))}}return ee+Ee(X)}this.parseXmlString=function(X){var ge;if(X===void 0)return null;if(window.DOMParser){var ee=new window.DOMParser;try{(ge=ee.parseFromString(X,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else X.indexOf("<?")==0&&(X=X.substr(X.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(X);return ge},this.asArray=function(X){return X===void 0||X==null?[]:X instanceof Array?X:[X]},this.toXmlDateTime=function(X){return X instanceof Date?X.toISOString():typeof X=="number"?new Date(X).toISOString():null},this.asDateTime=function(X){return typeof X=="string"?M(X):X},this.xml2json=function(X){return L(X)},this.xml_str2json=function(X){var ge=this.parseXmlString(X);return ge!=null?this.xml2json(ge):null},this.json2xml_str=function(X){return Te(X,"")},this.json2xml=function(X){var ge=this.json2xml_str(X);return this.parseXmlString(ge)},this.getVersion=function(){return"1.2.0"}},Ua="onLoad";function _d(g){g=g||{};var c,h,b,P,M,w,L=this.context,H=(0,_.Z)(L).getInstance(),J=(0,nt.Z)(L).getInstance();function Q(fe,ye,Te){var X,ge,ee={};ee.elements=fe,ee.type=ye,ee.resolveType=Te,ee.elements.length===0&&W(ee);for(var ve=0;ve<ee.elements.length;ve++)X=ee.elements[ve],ge=J.isHTTPURL(X.url)?X.url:X.originalContent.BaseURL+X.url,w.load(ge,X,ee)}function F(fe){var ye,Te,X="";if(ye=fe.element,Te=fe.resolveObject,ye.resolvedContent){var ge=0;ye.resolvedContent.indexOf("<?xml")===0&&(ge=ye.resolvedContent.indexOf("?>")+2),X=ye.resolvedContent.substr(0,ge)+"<response>"+ye.resolvedContent.substr(ge)+"</response>",ye.resolvedContent=M.xml_str2json(X)}(function(ee){var ve;for(ve=0;ve<ee.elements.length;ve++)if(ee.elements[ve].resolved===!1)return!1;return!0})(Te)&&W(Te)}function W(fe){var ye,Te,X=[];if(function(ge){var ee,ve,S,q,B,G,O=[];for(q=ge.elements.length-1;q>=0;q--){if(ve=(ee=ge.elements[q]).type+"_asArray",ee.resolvedContent){if(ee.resolvedContent)for(B=0;B<ee.resolvedContent[ve].length;B++)S=ee.resolvedContent[ve][B],O.push(S)}else delete ee.originalContent["xlink:actuate"],delete ee.originalContent["xlink:href"],O.push(ee.originalContent);for(ee.parentElement[ve].splice(ee.index,1),G=0;G<O.length;G++)ee.parentElement[ve].splice(ee.index+G,0,O[G]);O=[]}ge.elements.length>0&&b.run(P)}(fe),fe.resolveType==="onActuate"&&H.trigger(f.Z.XLINK_READY,{manifest:P}),fe.resolveType===Ua)switch(fe.type){case i.Z.PERIOD:for(ye=0;ye<P[i.Z.PERIOD+"_asArray"].length;ye++)(Te=P[i.Z.PERIOD+"_asArray"][ye]).hasOwnProperty(i.Z.ADAPTATION_SET+"_asArray")&&(X=X.concat(K(Te[i.Z.ADAPTATION_SET+"_asArray"],Te,i.Z.ADAPTATION_SET,Ua))),Te.hasOwnProperty(i.Z.EVENT_STREAM+"_asArray")&&(X=X.concat(K(Te[i.Z.EVENT_STREAM+"_asArray"],Te,i.Z.EVENT_STREAM,Ua)));Q(X,i.Z.ADAPTATION_SET,Ua);break;case i.Z.ADAPTATION_SET:H.trigger(f.Z.XLINK_READY,{manifest:P})}}function K(fe,ye,Te,X){var ge,ee,ve,S=[];for(ee=fe.length-1;ee>=0;ee--)(ge=fe[ee]).hasOwnProperty("xlink:href")&&ge["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&fe.splice(ee,1);for(ee=0;ee<fe.length;ee++)(ge=fe[ee]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===X&&(ve=Ee(ge["xlink:href"],ye,Te,ee,X,ge),S.push(ve));return S}function Ee(fe,ye,Te,X,ge,ee){return{url:fe,parentElement:ye,type:Te,index:X,resolveType:ge,originalContent:ee,resolvedContent:null,resolved:!1}}return c={resolveManifestOnLoad:function(fe){M=new Ed({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:h}),(P=fe).Period_asArray?Q(K(P.Period_asArray,P,i.Z.PERIOD,Ua),i.Z.PERIOD,Ua):H.trigger(f.Z.XLINK_READY,{manifest:P})},setMatchers:function(fe){fe&&(h=fe)},setIron:function(fe){fe&&(b=fe)},reset:function(){H.off(f.Z.XLINK_ELEMENT_LOADED,F,c),w&&(w.reset(),w=null)}},H.on(f.Z.XLINK_ELEMENT_LOADED,F,c),w=ry(L).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,settings:g.settings}),c}_d.__dashjs_factory_name="XlinkController";var iy=R.Z.getClassFactory(_d);function _o(g){return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_o(g)}function Td(g){function c(P,M){for(var w in P)M.hasOwnProperty(w)||(M[w]=P[w])}function h(P,M,w){for(var L=0,H=P.length;L<H;++L){var J=P[L];if(M[J.name])if(w[J.name]){if(J.merge){var Q=M[J.name],F=w[J.name];_o(Q)==="object"&&_o(F)==="object"?c(Q,F):w[J.name]=Q+F}}else w[J.name]=M[J.name]}}function b(P,M){for(var w=0,L=P.children.length;w<L;++w){var H=P.children[w],J=M[H.name+"_asArray"];if(J)for(var Q=0,F=J.length;Q<F;++Q){var W=J[Q];h(P.properties,M,W),b(H,W)}}}return{run:function(P){if(P===null||_o(P)!=="object")return P;if(P.Period_asArray&&"period"in g)for(var M=g.period,w=P.Period_asArray,L=0,H=w.length;L<H;++L){var J=w[L];if(b(M,J),"adaptationset"in g){var Q=J.AdaptationSet_asArray;if(Q)for(var F=g.adaptationset,W=0,K=Q.length;W<K;++W)b(F,Q[W])}}return P}}}Td.__dashjs_factory_name="ObjectIron";var ay=R.Z.getClassFactory(Td);function oy(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var To=function(){function g(b,P){(function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this._test=b,this._converter=P}var c,h;return c=g,(h=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&oy(c.prototype,h),g}();function pu(g){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},pu(g)}function qn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function hu(g,c){return hu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},hu(g,c)}function sy(g,c){return!c||pu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ns(g){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ns(g)}var ly=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&hu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ns(c);if(h){var L=Ns(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return sy(this,M)});function P(){return function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),b.call(this,function(M,w){var L,H=(qn(L={},i.Z.MPD,[i.Z.ID,i.Z.PROFILES]),qn(L,i.Z.PERIOD,[i.Z.ID]),qn(L,i.Z.BASE_URL,[i.Z.SERVICE_LOCATION,i.Z.BYTE_RANGE]),qn(L,i.Z.SEGMENT_BASE,[i.Z.INDEX_RANGE]),qn(L,i.Z.INITIALIZATION,[i.Z.RANGE]),qn(L,i.Z.REPRESENTATION_INDEX,[i.Z.RANGE]),qn(L,i.Z.SEGMENT_LIST,[i.Z.INDEX_RANGE]),qn(L,i.Z.BITSTREAM_SWITCHING,[i.Z.RANGE]),qn(L,i.Z.SEGMENT_URL,[i.Z.MEDIA_RANGE,i.Z.INDEX_RANGE]),qn(L,i.Z.SEGMENT_TEMPLATE,[i.Z.INDEX_RANGE,i.Z.MEDIA,i.Z.INDEX,i.Z.INITIALIZATION_MINUS,i.Z.BITSTREAM_SWITCHING_MINUS]),qn(L,i.Z.ASSET_IDENTIFIER,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.EVENT_STREAM,[i.Z.VALUE]),qn(L,i.Z.ADAPTATION_SET,[i.Z.PROFILES,i.Z.MIME_TYPE,i.Z.SEGMENT_PROFILES,i.Z.CODECS,i.Z.CONTENT_TYPE]),qn(L,i.Z.FRAME_PACKING,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.AUDIO_CHANNEL_CONFIGURATION,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.CONTENT_PROTECTION,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.ESSENTIAL_PROPERTY,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.SUPPLEMENTAL_PROPERTY,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.INBAND_EVENT_STREAM,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.ACCESSIBILITY,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.ROLE,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.RATING,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.VIEWPOINT,[i.Z.VALUE,i.Z.ID]),qn(L,i.Z.CONTENT_COMPONENT,[i.Z.CONTENT_TYPE]),qn(L,i.Z.REPRESENTATION,[i.Z.ID,i.Z.DEPENDENCY_ID,i.Z.MEDIA_STREAM_STRUCTURE_ID]),qn(L,i.Z.SUBSET,[i.Z.ID]),qn(L,i.Z.METRICS,[i.Z.METRICS_MINUS]),qn(L,i.Z.REPORTING,[i.Z.VALUE,i.Z.ID]),L);if(H.hasOwnProperty(w)){var J=H[w];return J!==void 0&&J.indexOf(M.name)>=0}return!1},function(M){return String(M)})}return P}(To);function mu(g){return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},mu(g)}function yu(g,c){return yu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},yu(g,c)}function uy(g,c){return!c||mu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Cs(g){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Cs(g)}var Sd=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,cy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&yu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Cs(c);if(h){var L=Cs(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return uy(this,M)});function P(){return function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),b.call(this,function(M){for(var w=[i.Z.MIN_BUFFER_TIME,i.Z.MEDIA_PRESENTATION_DURATION,i.Z.MINIMUM_UPDATE_PERIOD,i.Z.TIMESHIFT_BUFFER_DEPTH,i.Z.MAX_SEGMENT_DURATION,i.Z.MAX_SUBSEGMENT_DURATION,i.Z.SUGGESTED_PRESENTATION_DELAY,i.Z.START,o.Z.START_TIME,i.Z.DURATION],L=w.length,H=0;H<L;H++)if(M.nodeName===w[H])return Sd.test(M.value);return!1},function(M){var w=Sd.exec(M),L=31536e3*parseFloat(w[3]||0)+2592e3*parseFloat(w[5]||0)+86400*parseFloat(w[7]||0)+3600*parseFloat(w[9]||0)+60*parseFloat(w[11]||0)+parseFloat(w[13]||0);return w[1]!==void 0&&(L=-L),L})}return P}(To);function vu(g){return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},vu(g)}function Eu(g,c){return Eu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},Eu(g,c)}function fy(g,c){return!c||vu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ds(g){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ds(g)}var Ad=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,dy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&Eu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ds(c);if(h){var L=Ds(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return fy(this,M)});function P(){return function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),b.call(this,function(M){return Ad.test(M.value)},function(M){var w,L=Ad.exec(M);if(w=Date.UTC(parseInt(L[1],10),parseInt(L[2],10)-1,parseInt(L[3],10),parseInt(L[4],10),parseInt(L[5],10),L[6]&&parseInt(L[6],10)||0,L[7]&&1e3*parseFloat(L[7])||0),L[9]&&L[10]){var H=60*parseInt(L[9],10)+parseInt(L[10],10);w+=(L[8]==="+"?-1:1)*H*60*1e3}return new Date(w)})}return P}(To);function _u(g){return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_u(g)}function Tu(g,c){return Tu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},Tu(g,c)}function gy(g,c){return!c||_u(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Os(g){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Os(g)}var py=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,hy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&Tu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Os(c);if(h){var L=Os(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return gy(this,M)});function P(){return function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),b.call(this,function(M){return py.test(M.value)},function(M){return parseFloat(M)})}return P}(To);function Su(g){return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Su(g)}function So(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function Au(g,c){return Au=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},Au(g,c)}function my(g,c){return!c||Su(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ms(g){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ms(g)}var yy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&Au(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ms(c);if(h){var L=Ms(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return my(this,M)});function P(){return function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),b.call(this,function(M,w){var L,H=(So(L={},i.Z.ADAPTATION_SET,[i.Z.LANG]),So(L,i.Z.REPRESENTATION,[i.Z.LANG]),So(L,i.Z.CONTENT_COMPONENT,[i.Z.LANG]),So(L,i.Z.LABEL,[i.Z.LANG]),So(L,i.Z.GROUP_LABEL,[i.Z.LANG]),L);if(H.hasOwnProperty(w)){var J=H[w];return J!==void 0&&J.indexOf(M.name)>=0}return!1},function(M){return bs()(M)||String(M)})}return P}(To);function vy(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var Ey=function(){function g(b){var P;(function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=b,this._merge=(P=b)&&P.length&&P.charAt(0)===P.charAt(0).toUpperCase()}var c,h;return c=g,(h=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&vy(c.prototype,h),g}();function _y(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var Za=function(){function g(b,P,M){var w=this;(function(L,H){if(!(L instanceof H))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=b||"",this._properties=[],this._children=M||[],Array.isArray(P)&&P.forEach(function(L){w._properties.push(new Ey(L))})}var c,h;return c=g,(h=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&_y(c.prototype,h),g}();function wu(g){return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},wu(g)}function bu(g,c){return bu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},bu(g,c)}function Ty(g,c){return!c||wu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ps(g){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ps(g)}var Sy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&bu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ps(c);if(h){var L=Ps(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return Ty(this,M)});function P(){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,P);var M=[i.Z.PROFILES,i.Z.WIDTH,i.Z.HEIGHT,i.Z.SAR,i.Z.FRAMERATE,i.Z.AUDIO_SAMPLING_RATE,i.Z.MIME_TYPE,i.Z.SEGMENT_PROFILES,i.Z.CODECS,i.Z.MAXIMUM_SAP_PERIOD,i.Z.START_WITH_SAP,i.Z.MAX_PLAYOUT_RATE,i.Z.CODING_DEPENDENCY,i.Z.SCAN_TYPE,i.Z.FRAME_PACKING,i.Z.AUDIO_CHANNEL_CONFIGURATION,i.Z.CONTENT_PROTECTION,i.Z.ESSENTIAL_PROPERTY,i.Z.ESSENTIAL_PROPERTY+"_asArray",i.Z.SUPPLEMENTAL_PROPERTY,i.Z.INBAND_EVENT_STREAM];return b.call(this,i.Z.ADAPTATION_SET,M,[new Za(i.Z.REPRESENTATION,M,[new Za(i.Z.SUB_REPRESENTATION,M)])])}return P}(Za);function Iu(g){return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Iu(g)}function Ru(g,c){return Ru=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},Ru(g,c)}function Ay(g,c){return!c||Iu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ls(g){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ls(g)}var wy=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&Ru(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Ls(c);if(h){var L=Ls(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return Ay(this,M)});function P(){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,P);var M=[i.Z.SEGMENT_BASE,i.Z.SEGMENT_TEMPLATE,i.Z.SEGMENT_LIST];return b.call(this,i.Z.PERIOD,M,[new Za(i.Z.ADAPTATION_SET,M,[new Za(i.Z.REPRESENTATION,M)])])}return P}(Za);function wd(g){g=g||{};var c,h,b,P,M,w=this.context,L=g.debug;return c={parse:function(H){var J,Q=window.performance.now();if(!(J=P.xml_str2json(H)))throw new Error("parsing the manifest failed");var F=window.performance.now();J.Patch?((J=J.Patch).add_asArray&&J.add_asArray.forEach(function(K){return M.run(K)}),J.replace_asArray&&J.replace_asArray.forEach(function(K){return M.run(K)})):(J=J.MPD,M.run(J));var W=window.performance.now();return h.info("Parsing complete: ( xml2json: "+(F-Q).toPrecision(3)+"ms, objectiron: "+(W-F).toPrecision(3)+"ms, total: "+((W-Q)/1e3).toPrecision(3)+"s)"),J.protocol="DASH",J},getMatchers:function(){return b},getIron:function(){return M}},h=L.getLogger(c),b=[new cy,new dy,new hy,new yy,new ly],P=new Ed({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:b}),M=ay(w).create({adaptationset:new Sy,period:new wy}),c}wd.__dashjs_factory_name="DashParser";var by=R.Z.getClassFactory(wd);function bd(g){g=g||{};var c,h,b,P,M,w=this.context,L=g.debug,H=g.settings,J=(0,_.Z)(w).getInstance(),Q=(0,nt.Z)(w).getInstance(),F=g.mssHandler,W=g.errHandler;function K(fe){J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:fe.manifest})}function Ee(fe){var ye=null;return fe.indexOf("SmoothStreamingMedia")>-1?(F&&(ye=F.createMssParser(),F.createMssFragmentProcessor(),F.registerEvents()),ye):fe.indexOf("MPD")>-1||fe.indexOf("Patch")>-1?by(w).create({debug:L}):ye}return c={load:function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=new Date,ge=new yd(fe,Pe.w.MPD_TYPE);ye&&(ge.serviceLocation=ye),Te&&(ge.queryParams=Te),ge.requestStartDate||(ge.requestStartDate=X),J.trigger(f.Z.MANIFEST_LOADING_STARTED,{request:ge}),b.load({request:ge,success:function(ee,ve,S){var q,B,G;if(P)if(S&&S!==fe?(B=Q.parseBaseUrl(S),q=S):(Q.isRelative(fe)&&(fe=Q.resolve(fe,window.location.href)),B=Q.parseBaseUrl(fe)),ve!="No Content")if(M===null&&(M=Ee(ee)),M!==null){P.setMatchers(M.getMatchers()),P.setIron(M.getIron());try{G=M.parse(ee)}catch{return void J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ce.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(fe))})}if(G){if(G.url=q||fe,G.originalUrl||(G.originalUrl=G.url),H&&H.get().streaming.enableManifestDurationMismatchFix&&G.mediaPresentationDuration&&G.Period_asArray.length>1){var O=G.Period_asArray.reduce(function(de,ie){return de+ie.duration},0);!isNaN(O)&&G.mediaPresentationDuration>O&&(h.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),G.mediaPresentationDuration=O)}G.baseUri=B,G.loadedTime=new Date,P.resolveManifestOnLoad(G),J.trigger(f.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:ee})}else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ce.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(fe))})}else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ce.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(fe))});else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ee,ve,S){J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new ce.Z(oe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(fe,", ").concat(S))})}})},reset:function(){J.off(f.Z.XLINK_READY,K,c),F&&F.reset(),P&&(P.reset(),P=null),b&&(b.abort(),b=null)}},h=L.getLogger(c),J.on(f.Z.XLINK_READY,K,c),b=wr(w).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:Q,constants:o.Z,dashConstants:i.Z,errors:oe,requestTimeout:g.settings.get().streaming.manifestRequestTimeout}),P=iy(w).create({errHandler:W,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,settings:g.settings}),M=null,c}bd.__dashjs_factory_name="ManifestLoader";var Iy=R.Z.getClassFactory(bd);function Id(){var g=this.context,c=(0,_.Z)(g).getInstance();return{error:function(h){c.trigger(f.Z.ERROR,{error:h})}}}Id.__dashjs_factory_name="ErrorHandler";var Ry=R.Z.getSingletonFactory(Id),Rd=v(1715);function Nd(){var g,c,h,b,P,M,w=this.context,L=(0,_.Z)(w).getInstance();function H(J,Q){if(!Q||!Q.Period_asArray||Q.Period_asArray.length===0)return Promise.resolve();var F=[];return Q.Period_asArray.forEach(function(W){F.push(function(K,Ee){return new Promise(function(fe){if(K&&K.AdaptationSet_asArray&&K.AdaptationSet_asArray.length!==0){var ye=[];K.AdaptationSet_asArray.forEach(function(Te){c.getIsTypeOf(Te,Ee)&&ye.push(function(X,ge){return new Promise(function(ee){if(X.Representation_asArray&&X.Representation_asArray.length!==0){var ve=[],S=[];X.Representation_asArray.forEach(function(q,B){var G=c.getCodec(X,B,!1),O=function(de,ie,pe){switch(de){case o.Z.VIDEO:return function(se,V){return{codec:V,width:se.width||null,height:se.height||null,framerate:se.frameRate||null,bitrate:se.bandwidth||null}}(ie,pe);case o.Z.AUDIO:return function(se,V){var le=se.audioSamplingRate||null;return{codec:V,bitrate:se.bandwidth||null,samplerate:le}}(ie,pe);default:return null}}(ge,q,G);S.push(O),ve.push(h.supportsCodec(O,ge))}),Promise.all(ve).then(function(q){X.Representation_asArray=X.Representation_asArray.filter(function(B,G){return q[G]||M.debug("[Stream] Codec ".concat(S[G].codec," not supported ")),q[G]}),ee()}).catch(function(){ee()})}else ee()})}(Te,Ee))}),Promise.all(ye).then(function(){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(Te){var X=Te.Representation_asArray&&Te.Representation_asArray.length>0;return X||(L.trigger(f.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Te}),M.warn("AdaptationSet has been removed because of no supported Representation")),X}),fe()}).catch(function(){fe()})}else fe()})}(W,J))}),Promise.all(F)}return g={setConfig:function(J){J&&(J.adapter&&(c=J.adapter),J.capabilities&&(h=J.capabilities),J.settings&&(b=J.settings),J.customParametersModel&&(P=J.customParametersModel))},filterUnsupportedFeatures:function(J){return new Promise(function(Q){var F=[];F.push(H(o.Z.VIDEO,J)),F.push(H(o.Z.AUDIO,J)),Promise.all(F).then(function(){b.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(W){W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(K){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(Ee){return!Ee.Representation_asArray||Ee.Representation_asArray.length===0||(Ee.Representation_asArray=Ee.Representation_asArray.filter(function(fe){var ye=c.getEssentialPropertiesForRepresentation(fe);if(ye&&ye.length>0)for(var Te=0;Te<ye.length;){if(!h.supportsEssentialProperty(ye[Te]))return M.debug("[Stream] EssentialProperty not supported: "+ye[Te].schemeIdUri),!1;Te+=1}return!0}),Ee.Representation_asArray&&Ee.Representation_asArray.length>0)})})}(J),function(W){var K=P.getCustomCapabilitiesFilters();K&&K.length!==0&&W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(Ee){Ee.AdaptationSet_asArray=Ee.AdaptationSet_asArray.filter(function(fe){return!fe.Representation_asArray||fe.Representation_asArray.length===0||(fe.Representation_asArray=fe.Representation_asArray.filter(function(ye){return!K.some(function(Te){return!Te(ye)})}),fe.Representation_asArray&&fe.Representation_asArray.length>0)})})}(J),Q()}).catch(function(){Q()})})}},M=(0,m.Z)(w).getInstance().getLogger(g),g}Nd.__dashjs_factory_name="CapabilitiesFilter";var Ny=R.Z.getSingletonFactory(Nd),Cy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Cd(){var g;return{initialize:function(c){if(g=new Cy,!c)return null;var h=c.indexOf("#");if(h!==-1)for(var b=c.substr(h+1).split("&"),P=0,M=b.length;P<M;++P){var w=b[P],L=w.indexOf("=");if(L!==-1){var H=w.substring(0,L);g.hasOwnProperty(H)&&(g[H]=w.substr(L+1))}}},getURIFragmentData:function(){return g}}}Cd.__dashjs_factory_name="URIFragmentModel";var Dy=R.Z.getSingletonFactory(Cd);function Dd(){var g,c=this.context,h=(0,_.Z)(c).getInstance();return{getValue:function(){return g},setValue:function(b){g=b,b&&h.trigger(f.Z.MANIFEST_LOADED,{data:b})}}}Dd.__dashjs_factory_name="ManifestModel";var Oy=R.Z.getSingletonFactory(Dd),Nu=-.5;function Od(){var g,c,h,b,P=this.context,M=(0,be.Z)(P).getInstance();function w(J,Q){return isNaN(J)?0:J>0?(Q&&c.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):J<Nu?(Q&&c.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(Nu,": ").concat(-50,"% playback speed.")),Nu):J}function L(J,Q){return isNaN(J)?0:J<0?(Q&&c.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):J>1?(Q&&c.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):J}function H(){var J=M.get().streaming.buffer.stableBufferTime>0?M.get().streaming.buffer.stableBufferTime:M.get().streaming.buffer.fastSwitchEnabled?20:12,Q=h.getLiveDelay();return!isNaN(Q)&&Q>0?Math.min(J,Q):J}return g={getCatchupMaxDrift:function(){if(!isNaN(M.get().streaming.liveCatchup.maxDrift)&&M.get().streaming.liveCatchup.maxDrift>0)return M.get().streaming.liveCatchup.maxDrift;var J=b.getServiceDescriptionSettings();return J&&J.liveCatchup&&!isNaN(J.liveCatchup.maxDrift)&&J.liveCatchup.maxDrift>0?J.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return M.get().streaming.liveCatchup.enabled!==null?M.get().streaming.liveCatchup.enabled:h.getInitialCatchupModeActivated()},getStableBufferTime:H,getInitialBufferLevel:function(){var J=M.get().streaming.buffer.initialBufferLevel;return isNaN(J)||J<0?0:Math.min(H(),J)},getRetryAttemptsForType:function(J){var Q=isNaN(M.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:M.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return h.getLowLatencyModeEnabled()?M.get().streaming.retryAttempts[J]*Q:M.get().streaming.retryAttempts[J]},getRetryIntervalsForType:function(J){var Q=isNaN(M.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:M.get().streaming.retryIntervals.lowLatencyReductionFactor;return h.getLowLatencyModeEnabled()?M.get().streaming.retryIntervals[J]/Q:M.get().streaming.retryIntervals[J]},getCatchupPlaybackRates:function(J){var Q=M.get().streaming.liveCatchup.playbackRate;if(!isNaN(Q.min)||!isNaN(Q.max))return{min:w(Q.min,J),max:L(Q.max,J)};var F=b.getServiceDescriptionSettings();if(F&&F.liveCatchup&&(!isNaN(F.liveCatchup.playbackRate.min)||!isNaN(F.liveCatchup.playbackRate.max))){var W=F.liveCatchup.playbackRate;return{min:w(W.min,J),max:L(W.max,J)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(J,Q){try{var F=M.get().streaming.abr[J][Q];if(!isNaN(F)&&F!==-1)return F;var W=b.getServiceDescriptionSettings();return W&&W[J]&&!isNaN(W[J][Q])?W[J][Q]:-1}catch{return-1}},setConfig:function(J){J.playbackController&&(h=J.playbackController),J.serviceDescriptionController&&(b=J.serviceDescriptionController)},reset:function(){}},c=(0,m.Z)(P).getInstance().getLogger(g),g}Od.__dashjs_factory_name="MediaPlayerModel";var My=R.Z.getSingletonFactory(Od),Py=v(1767);function Md(g){var c=(g=g||{}).abrController,h=g.switchHistory,b=g.droppedFramesHistory,P=g.currentRequest,M=g.useBufferOccupancyABR,w=g.useL2AABR,L=g.useLoLPABR,H=g.streamProcessor?g.streamProcessor.getScheduleController():null,J=g.streamProcessor?g.streamProcessor.getRepresentationInfo():null,Q=g.videoModel?g.videoModel:null;function F(){return J?J.mediaInfo:null}return{getMediaType:function(){var W=F();return W?W.type:null},getMediaInfo:F,getDroppedFramesHistory:function(){return b},getCurrentRequest:function(){return P},getSwitchHistory:function(){return h},getStreamInfo:function(){var W=F();return W?W.streamInfo:null},getScheduleController:function(){return H},getAbrController:function(){return c},getRepresentationInfo:function(){return J},useBufferOccupancyABR:function(){return M},useL2AABR:function(){return w},useLoLPABR:function(){return L},getVideoModel:function(){return Q}}}Md.__dashjs_factory_name="RulesContext";var Pd=R.Z.getClassFactory(Md),xs=v(2068);function Ld(){var g=[],c=[];return{push:function(h){h.newValue===xs.Z.NO_CHANGE&&(h.newValue=h.oldValue),g[h.oldValue]||(g[h.oldValue]={noDrops:0,drops:0,dropSize:0});var b=h.newValue-h.oldValue,P=b<0?1:0,M=P?-b:0,w=P?0:1;if(g[h.oldValue].drops+=P,g[h.oldValue].dropSize+=M,g[h.oldValue].noDrops+=w,c.push({idx:h.oldValue,noDrop:w,drop:P,dropSize:M}),c.length>8){var L=c.shift();g[L.idx].drops-=L.drop,g[L.idx].dropSize-=L.dropSize,g[L.idx].noDrops-=L.noDrop}},getSwitchRequests:function(){return g},reset:function(){g=[],c=[]}}}Ld.__dashjs_factory_name="SwitchRequestHistory";var Ly=R.Z.getClassFactory(Ld);function xd(){var g={},c={},h={};return{push:function(b,P,M){if(P){g[b]||(g[b]=[],c[b]=0,h[b]=0);var w=M&&M.droppedVideoFrames?M.droppedVideoFrames:0,L=M&&M.totalVideoFrames?M.totalVideoFrames:0,H=w-c[b];c[b]=w;var J=L-h[b];h[b]=L;var Q=g[b];isNaN(P)||(Q[P]?(Q[P].droppedVideoFrames+=H,Q[P].totalVideoFrames+=J):Q[P]={droppedVideoFrames:H,totalVideoFrames:J})}},getFrameHistory:function(b){return g[b]},clearForStream:function(b){try{delete g[b],delete c[b],delete h[b]}catch{}},reset:function(){g={},c={},h={}}}}xd.__dashjs_factory_name="DroppedFramesHistory";var xy=R.Z.getClassFactory(xd);function kd(g){var c,h,b,P,M,w=this.context,L=(g=g||{}).settings,H=(0,_.Z)(w).getInstance();function J(fe,ye,Te,X){var ge=Math.pow(.5,Te/X.fast);fe.fastEstimate=(1-ge)*ye+ge*fe.fastEstimate;var ee=Math.pow(.5,Te/X.slow);fe.slowEstimate=(1-ee)*ye+ee*fe.slowEstimate,fe.totalWeight+=Te}function Q(fe,ye,Te){return L.get().streaming.abr.movingAverageMethod!==o.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(X,ge){var ee=X?M.throughputHalfLife:M.latencyHalfLife,ve=X?b[ge]:P[ge];if(!ve||ve.totalWeight<=0)return NaN;var S=ve.fastEstimate/(1-Math.pow(.5,ve.totalWeight/ee.fast)),q=ve.slowEstimate/(1-Math.pow(.5,ve.totalWeight/ee.slow));return X?Math.min(S,q):Math.max(S,q)}(fe,ye):function(X,ge,ee){var ve=function(q,B,G){var O,de;if(q?(O=c[B],de=G?3:4):(O=h[B],de=4),O){if(de>=O.length)de=O.length;else if(q)for(var ie=1;ie<de;++ie){var pe=O[O.length-ie]/O[O.length-ie-1];if((pe>=1.3||pe<=.7692307692307692)&&(de+=1)===O.length)break}}else de=0;return de}(X,ge,ee),S=(X?c:h)[ge];return ve!==0&&S&&S.length!==0?(S=S.slice(-ve)).reduce(function(q,B){return q+B})/S.length:NaN}(fe,ye,Te)}function F(fe,ye){return Q(!0,fe,ye)}function W(fe){c[fe]=c[fe]||[],h[fe]=h[fe]||[],b[fe]=b[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[fe]=P[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function K(){c={},h={},b={},P={}}var Ee={push:function(fe,ye,Te){if(ye.trace&&ye.trace.length){var X,ge=ye.tresponse.getTime()-ye.trequest.getTime()||1,ee=ye._tfinish.getTime()-ye.tresponse.getTime()||1,ve=ye.trace.reduce(function(G,O){return G+O.b[0]},0),S=0;if((X=ye._fileLoaderType&&ye._fileLoaderType===o.Z.FILE_LOADER_TYPES.FETCH?ye.trace.reduce(function(G,O){return G+O.d},0):Te?ee:ge+ee)!==0&&(S=Math.round(8*ve/X)),ye.cmsd){var q=ye.cmsd.dynamic&&ye.cmsd.dynamic.etp?ye.cmsd.dynamic.etp:null;if(q){var B=L.get().streaming.cmsd.abr.etpWeightRatio;B>0&&B<=1&&(S=S*(1-B)+q*B)}}if(W(fe),function(G,O,de){return G===o.Z.VIDEO?de<L.get().streaming.cacheLoadThresholds[o.Z.VIDEO]:G===o.Z.AUDIO?de<L.get().streaming.cacheLoadThresholds[o.Z.AUDIO]:void 0}(fe,0,ee)){if(c[fe].length>0&&!c[fe].hasCachedEntries)return;c[fe].hasCachedEntries=!0}else c[fe]&&c[fe].hasCachedEntries&&function(G){delete c[G],delete h[G],delete b[G],delete P[G],W(G)}(fe);c[fe].push(S),H.trigger(r.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:S,mediaType:fe,httpRequest:ye}),c[fe].length>20&&c[fe].shift(),h[fe].push(ge),h[fe].length>20&&h[fe].shift(),J(b[fe],S,.001*ee,M.throughputHalfLife),J(P[fe],ge,1,M.latencyHalfLife)}},getAverageThroughput:F,getSafeAverageThroughput:function(fe,ye){var Te=F(fe,ye);return isNaN(Te)||(Te*=L.get().streaming.abr.bandwidthSafetyFactor),Te},getAverageLatency:function(fe){return Q(!1,fe)},reset:K};return M={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},K(),Ee}kd.__dashjs_factory_name="ThroughputHistory";var ky=R.Z.getClassFactory(kd);function Cu(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve,S,q,B,G,O,de=this.context,ie=(0,m.Z)(de).getInstance(),pe=(0,_.Z)(de).getInstance();function se(){P={},M={},L={},w={},ge={},S={},q={},B={},J===void 0&&(J=!1),ee&&ee.reset(),X=void 0,ee=void 0,ve=void 0,clearTimeout(H),H=null}function V(De){var ze=De.request.mediaType,mt=De.streamId;if(ze&&mt&&w[mt]&&O.get().streaming.abr.autoSwitchBitrate[ze]){var Xe=w[mt][ze];if(Xe){var Tt=Pd(de).create({abrController:g,streamProcessor:Xe,currentRequest:De.request,useBufferOccupancyABR:S[ze],useL2AABR:q[ze],useLoLPABR:B[ze],videoModel:K}),_t=h.shouldAbandonFragment(Tt,mt);_t.quality>xs.Z.NO_CHANGE&&Xe.getFragmentModel().getRequests({state:te.FRAGMENT_MODEL_LOADING,index:De.request.index})[0]&&(L[mt][ze].state=E.Z.ABANDON_LOAD,ge[mt][ze].reset(),ge[mt][ze].push({oldValue:Be(ze,mt),newValue:_t.quality,confidence:1,reason:_t.reason}),ke(ze,b.getActiveStreamInfo(),_t.quality,_t.reason),clearTimeout(H),H=setTimeout(function(){L[mt][ze].state=E.Z.ALLOW_LOAD,H=null},O.get().streaming.abandonLoadTimeout))}}}function le(De){De.mediaType===o.Z.VIDEO&&(X!==void 0&&ee.push(De.streamId,X,K.getPlaybackQuality()),X=De.newQuality)}function Ae(De){var ze,mt;De.metric!==E.Z.HTTP_REQUEST||!De.value||De.value.type!==Pe.w.MEDIA_SEGMENT_TYPE||De.mediaType!==o.Z.AUDIO&&De.mediaType!==o.Z.VIDEO||ve.push(De.mediaType,De.value,O.get().streaming.abr.useDeadTimeLatency),De.metric!==E.Z.BUFFER_LEVEL||De.mediaType!==o.Z.AUDIO&&De.mediaType!==o.Z.VIDEO||(ze=De.mediaType,mt=.001*De.value.level,O.get().streaming.abr.ABRStrategy===o.Z.ABR_STRATEGY_DYNAMIC&&function(Xe,Tt){try{var _t=Ee.getStableBufferTime(),pt=_t,Kt=.5*_t,Vt=S[Xe],pn=Tt>(Vt?Kt:pt);S[Xe]=pn,pn!==Vt&&(pn?c.info("["+Xe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Tt.toFixed(3)+")."):c.info("["+Xe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Tt.toFixed(3)+")."))}catch(yn){c.error(yn)}}(ze,mt))}function Ze(De,ze){try{var mt;return P[ze]=P[ze]||{},P[ze].hasOwnProperty(De)||(P[ze][De]=0),mt=function(Xe,Tt){var _t=P[Tt][Xe],pt=_t;if(!w[Tt]||!w[Tt][Xe])return pt;var Kt=Oe(Xe,Tt);Kt!==void 0&&(pt=Math.max(_t,Kt));var Vt=function(pn,yn){try{var We=Ee.getAbrBitrateParameter("maxBitrate",pn);return We>-1?rt(w[yn][pn].getMediaInfo(),We,yn):void 0}catch{return}}(Xe,Tt);return Vt!==void 0&&(pt=Math.min(pt,Vt)),pt}(De,ze),mt=function(Xe,Tt,_t){var pt=P[_t][Tt],Kt=O.get().streaming.abr.maxRepresentationRatio[Tt];return isNaN(Kt)||Kt>=1||Kt<0?Xe:Math.min(Xe,Math.round(pt*Kt))}(mt,De,ze),mt=function(Xe,Tt,_t){if(Tt!==o.Z.VIDEO||!O.get().streaming.abr.limitBitrateByPortal||!w[_t]||!w[_t][Tt])return Xe;J||Ut();var pt=w[_t][Tt].getStreamInfo(),Kt=W.getAdaptationForType(pt.index,Tt,pt).Representation_asArray,Vt=Xe;if(Q>0&&F>0){for(;Vt>0&&Kt[Vt]&&Q<Kt[Vt].width&&Q-Kt[Vt-1].width<Kt[Vt].width-Q;)Vt-=1;for(;Vt<Kt.length-1&&Kt[Vt].width===Kt[Vt+1].width;)Vt+=1}return Vt}(mt,De,ze),O.get().streaming.cmsd.enabled&&O.get().streaming.cmsd.abr.applyMb&&(mt=function(Xe,Tt,_t){if(Tt!=="video")return Xe;var pt=ye.getMaxBitrate(Tt);if(pt<0)return Xe;var Kt=ut(_t,"audio",Be("audio",_t));pt-=Kt?Kt.bitrate/1e3:0;var Vt=rt(w[_t][Tt].getMediaInfo(),pt,_t);return c.debug("Stream ID: "+_t+" ["+Tt+"] Apply max bit rate from CMSD: "+pt),Math.min(Xe,Vt)}(mt,De,ze)),mt}catch{return}}function Oe(De,ze){try{return function(mt,Xe){try{var Tt=Ee.getAbrBitrateParameter("minBitrate",mt);if(Tt>-1){var _t=w[Xe][mt].getMediaInfo(),pt=it(_t),Kt=rt(_t,Tt,Xe);return pt[Kt]&&Kt<pt.length-1&&pt[Kt].bitrate<1e3*Tt&&Kt++,Kt}return}catch{return}}(De,ze)}catch{return}}function Be(De){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return ze||(ze=b.getActiveStreamInfo().id),De&&w[ze]&&w[ze][De]&&ze?(M[ze]=M[ze]||{},M[ze].hasOwnProperty(De)||(M[ze][De]=0),M[ze][De]):0}catch{return 0}}function ke(De,ze,mt){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(ze&&ze.id&&De){var Tt=ze.id,_t=Be(De,Tt);(0,ae.SE)(mt);var pt=Ze(De,Tt);mt!==_t&&mt>=0&&mt<=pt&&lt(De,_t,mt,pt,Xe,Tt)}}function lt(De,ze,mt,Xe,Tt,_t){if(De&&w[_t]&&w[_t][De]){var pt=w[_t][De].getStreamInfo(),Kt=pt&&pt.manifestInfo&&pt.manifestInfo.isDynamic,Vt=G.getCurrentBufferLevel(De);c.info("Stream ID: "+_t+" ["+De+"] switch from "+ze+" to "+mt+"/"+Xe+" (buffer: "+Vt+") "+(Tt?JSON.stringify(Tt):".")),M[_t]=M[_t]||{},M[_t][De]=mt;var pn=ut(_t,De,mt);pe.trigger(f.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:ze,newQuality:mt,reason:Tt,streamInfo:pt,bitrateInfo:pn,maxIdx:Xe,mediaType:De},{streamId:pt.id,mediaType:De});var yn=ve.getAverageThroughput(De,Kt);isNaN(yn)||Te.setSavedBitrateSettings(De,yn)}}function ut(De,ze,mt){if(ze&&w&&w[De]&&w[De][ze]){var Xe=it(w[De][ze].getMediaInfo());return Xe[mt]?Xe[mt]:null}return null}function rt(De,ze,mt){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Tt=De&&De.type?w[mt][De.type].getRepresentationInfo():null;if(O.get().streaming.abr.useDeadTimeLatency&&Xe&&Tt&&Tt.fragmentDuration){Xe/=1e3;var _t=Tt.fragmentDuration;if(Xe>_t)return 0;var pt=Xe/_t;ze*=1-pt}for(var Kt=it(De),Vt=Kt.length-1;Vt>=0;Vt--){var pn=Kt[Vt];if(1e3*ze>=pn.bitrate)return Vt}return 0}function it(De){var ze=[];if(!De||!De.bitrateList)return ze;for(var mt,Xe=De.bitrateList,Tt=De.type,_t=0,pt=Xe.length;_t<pt;_t++)(mt=new Es).mediaType=Tt,mt.qualityIndex=_t,mt.bitrate=Xe[_t].bandwidth,mt.width=Xe[_t].width,mt.height=Xe[_t].height,mt.scanType=Xe[_t].scanType,ze.push(mt);return ze}function Ut(){if(K){var De=O.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Q=K.getClientWidth()*De,F=K.getClientHeight()*De}}return g={initialize:function(){ee=xy(de).create(),ve=ky(de).create({settings:O}),(h=(0,Py.Z)(de).create({dashMetrics:G,customParametersModel:fe,mediaPlayerModel:Ee,settings:O})).initialize(),pe.on(r.Z.QUALITY_CHANGE_RENDERED,le,g),pe.on(r.Z.METRIC_ADDED,Ae,g),pe.on(f.Z.LOADING_PROGRESS,V,g)},isPlayingAtTopQuality:function(De){var ze=De?De.id:null,mt=Be(o.Z.AUDIO,ze),Xe=Be(o.Z.VIDEO,ze);return mt===Ze(o.Z.AUDIO,ze)&&Xe===Ze(o.Z.VIDEO,ze)},updateTopQualityIndex:function(De){var ze=De.type,mt=De.streamInfo.id,Xe=De.representationCount-1;return P[mt]=P[mt]||{},P[mt][ze]=Xe,Xe},clearDataForStream:function(De){ee&&ee.clearForStream(De),w[De]&&delete w[De],ge[De]&&delete ge[De],L[De]&&delete L[De]},getThroughputHistory:function(){return ve},getBitrateList:it,getQualityForBitrate:rt,getTopBitrateInfoFor:function(De){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ze||(ze=b.getActiveStreamInfo().id),De&&w&&w[ze]&&w[ze][De]){var mt=Ze(De,ze),Xe=it(w[ze][De].getMediaInfo());return Xe[mt]?Xe[mt]:null}return null},getMinAllowedIndexFor:Oe,getMaxAllowedIndexFor:Ze,getInitialBitrateFor:function(De,ze){if(function(){if(!Te||!Te.hasOwnProperty("getSavedBitrateSettings"))throw new Error(o.Z.MISSING_CONFIG_ERROR)}(),De===o.Z.TEXT)return NaN;var mt=Te.getSavedBitrateSettings(De),Xe=Ee.getAbrBitrateParameter("initialBitrate",De),Tt=O.get().streaming.abr.initialRepresentationRatio[De];if(Xe===-1)if(Tt>-1){var _t=w[ze][De].getStreamInfo(),pt=W.getAdaptationForType(_t.index,De,_t).Representation_asArray;Xe=Array.isArray(pt)?pt[Math.max(Math.round(pt.length*Tt)-1,0)].bandwidth/1e3:0}else Xe=isNaN(mt)?De===o.Z.VIDEO?1e3:100:mt;return Xe},getQualityFor:Be,getAbandonmentStateFor:function(De,ze){return L[De]&&L[De][ze]?L[De][ze].state:null},setPlaybackQuality:ke,checkPlaybackQuality:function(De,ze){try{if(!(De&&w&&w[ze]&&w[ze][De]))return!1;if(ee){var mt=K.getPlaybackQuality();mt&&ee.push(ze,X,mt)}if(!O.get().streaming.abr.autoSwitchBitrate[De])return!1;var Xe=Be(De,ze),Tt=Pd(de).create({abrController:g,switchHistory:ge[ze][De],droppedFramesHistory:ee,streamProcessor:w[ze][De],currentValue:Xe,useBufferOccupancyABR:S[De],useL2AABR:q[De],useLoLPABR:B[De],videoModel:K}),_t=Oe(De,ze),pt=Ze(De,ze),Kt=h.getMaxQuality(Tt),Vt=Kt.quality;return _t!==void 0&&(Vt>xs.Z.NO_CHANGE?Vt:Xe)<_t&&(Vt=_t),Vt>pt&&(Vt=pt),ge[ze][De].push({oldValue:Xe,newValue:Vt}),Vt>xs.Z.NO_CHANGE&&Vt!==Xe&&(L[ze][De].state===E.Z.ALLOW_LOAD||Vt<Xe)&&(lt(De,Xe,Vt,pt,Kt.reason,ze),!0)}catch{return!1}},setElementSize:Ut,setWindowResizeEventCalled:function(De){J=De},registerStreamType:function(De,ze){var mt=ze.getStreamInfo().id;w[mt]||(w[mt]={}),ge[mt]||(ge[mt]={}),L[mt]||(L[mt]={}),ge[mt][De]=Ly(de).create(),w[mt][De]=ze,L[mt][De]={},L[mt][De].state=E.Z.ALLOW_LOAD,function(Xe){var Tt=O.get().streaming.abr.ABRStrategy;Tt===o.Z.ABR_STRATEGY_L2A?(S[Xe]=!1,B[Xe]=!1,q[Xe]=!0):Tt===o.Z.ABR_STRATEGY_LoLP?(S[Xe]=!1,B[Xe]=!0,q[Xe]=!1):Tt===o.Z.ABR_STRATEGY_BOLA?(S[Xe]=!0,B[Xe]=!1,q[Xe]=!1):Tt===o.Z.ABR_STRATEGY_THROUGHPUT?(S[Xe]=!1,B[Xe]=!1,q[Xe]=!1):Tt===o.Z.ABR_STRATEGY_DYNAMIC&&(S[Xe]=!(!S||!S[Xe])&&S[Xe],B[Xe]=!1,q[Xe]=!1)}(De),De===o.Z.VIDEO&&Ut()},unRegisterStreamType:function(De,ze){try{w[De]&&w[De][ze]&&delete w[De][ze],ge[De]&&ge[De][ze]&&delete ge[De][ze],L[De]&&L[De][ze]&&delete L[De][ze]}catch{}},setConfig:function(De){De&&(De.streamController&&(b=De.streamController),De.domStorage&&(Te=De.domStorage),De.mediaPlayerModel&&(Ee=De.mediaPlayerModel),De.customParametersModel&&(fe=De.customParametersModel),De.cmsdModel&&(ye=De.cmsdModel),De.dashMetrics&&(G=De.dashMetrics),De.adapter&&(W=De.adapter),De.videoModel&&(K=De.videoModel),De.settings&&(O=De.settings))},reset:function(){se(),pe.off(f.Z.LOADING_PROGRESS,V,g),pe.off(r.Z.QUALITY_CHANGE_RENDERED,le,g),pe.off(r.Z.METRIC_ADDED,Ae,g),h&&h.reset()}},c=ie.getLogger(g),se(),g}Cu.__dashjs_factory_name="AbrController";var Du=R.Z.getSingletonFactory(Cu);Du.QUALITY_DEFAULT=0,R.Z.updateSingletonFactory(Cu.__dashjs_factory_name,Du);var Fy=Du,Uy=new Map([[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Fd(){var g,c,h,b,P,M,w,L,H=this.context,J=(0,_.Z)(H).getInstance(),Q=[];function F(){h&&(h.playbackRate=1,h.removeEventListener("canplay",F))}function W(){return Q.length>0}function K(){if(h&&W()&&h.playbackRate===0){var ee=document.createEvent("Event");ee.initEvent("waiting",!0,!1),h.dispatchEvent(ee)}}function Ee(ee,ve){h&&h.addEventListener(ee,ve)}function fe(ee,ve){h&&h.removeEventListener(ee,ve)}function ye(){return h?h.readyState:NaN}function Te(){return h?h.buffered:null}function X(ee,ve,S,q,B){if(h){for(var G=0;G<h.textTracks.length;G++)if(h.textTracks[G].kind===ee&&(!ve||h.textTracks[G].label==ve)&&h.textTracks[G].language===S&&h.textTracks[G].isTTML===q&&h.textTracks[G].isEmbedded===B)return h.textTracks[G]}return null}function ge(ee,ve){return ee===o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||ye()>=ee?(ve(),null):function(S,q){var B=function G(){fe(S,G),q(S)};return Ee(S,B),{func:B,event:S}}(Uy.get(ee),ve)}return g={addEventListener:Ee,addTextTrack:function(ee,ve,S,q,B){if(!h)return null;var G=X(ee,ve,S,q,B);return G||((G=h.addTextTrack(ee,ve,S)).isEmbedded=B,G.isTTML=q),G},appendChild:function(ee){h&&(h.appendChild(ee),ee.isTTML!==void 0&&(h.textTracks[h.textTracks.length-1].isTTML=ee.isTTML,h.textTracks[h.textTracks.length-1].isEmbedded=ee.isEmbedded))},getBufferRange:Te,getClientHeight:function(){return h?h.clientHeight:NaN},getClientWidth:function(){return h?h.clientWidth:NaN},getElement:function(){return h},getEnded:function(){return h?h.ended:null},getPlaybackQuality:function(){if(!h)return null;var ee="webkitDroppedFrameCount"in h&&"webkitDecodedFrameCount"in h,ve=null;return"getVideoPlaybackQuality"in h?ve=h.getVideoPlaybackQuality():ee&&(ve={droppedVideoFrames:h.webkitDroppedFrameCount,totalVideoFrames:h.webkitDroppedFrameCount+h.webkitDecodedFrameCount,creationTime:new Date}),ve},getPlaybackRate:function(){return h?h.playbackRate:null},getPlayedRanges:function(){return h?h.played:null},getReadyState:ye,getSource:function(){return h?h.src:null},getTTMLRenderingDiv:function(){return M},getTextTrack:X,getTextTracks:function(){return h?h.textTracks:[]},getTime:function(){return h?isNaN(b)?h.currentTime:b:null},getVideoHeight:function(){return h?h.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(h){var ee=h.parentNode.host||h.parentNode;return ee?h.getBoundingClientRect().left-ee.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(h){var ee=h.parentNode.host||h.parentNode;return ee?h.getBoundingClientRect().top-ee.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return h?h.videoWidth:NaN},getVttRenderingDiv:function(){return w},initialize:function(){J.on(f.Z.PLAYBACK_PLAYING,K,this)},isPaused:function(){return h?h.paused:null},isSeeking:function(){return h?h.seeking||!isNaN(b):null},isStalled:W,pause:function(){h&&(h.pause(),h.autoplay=!1)},play:function(){if(h){h.autoplay=!0;var ee=h.play();ee&&ee.catch&&typeof Promise<"u"&&ee.catch(function(ve){ve.name==="NotAllowedError"&&J.trigger(f.Z.PLAYBACK_NOT_ALLOWED),c.warn("Caught pending play exception - continuing (".concat(ve,")"))})}},removeChild:function(ee){h&&h.removeChild(ee)},removeEventListener:fe,reset:function(){clearTimeout(L),J.off(f.Z.PLAYBACK_PLAYING,K,this)},setCurrentTime:function(ee,ve){h&&(P&&P.func&&P.event&&fe(P.event,P.func),b=ee,P=ge(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(h)if(h.currentTime!==b)try{b=ve?function(S){var q=Te(),B=S,G=9999999999;if(q)for(var O=0;O<q.length;O++){var de=q.start(O),ie=q.end(O),pe=Math.abs(de-S),se=Math.abs(ie-S);if(S>=de&&S<=ie)return S;pe<G&&(G=pe,B=de),se<G&&(G=se,B=ie)}return B}(b):b,isNaN(b)||(h.currentTime=b),b=NaN}catch(S){h.readyState===0&&S.code===S.INVALID_STATE_ERR&&(L=setTimeout(function(){h.currentTime=b,b=NaN},400))}else b=NaN}))},setElement:function(ee){if(!(ee==null||ee&&/^(VIDEO|AUDIO)$/i.test(ee.nodeName)))throw"element is not video or audio DOM type!";(h=ee)&&(h.preload="auto")},setPlaybackRate:function(ee){var ve=arguments.length>1&&arguments[1]!==void 0&&arguments[1];h&&(!ve&&h.readyState<=2&&ee>0?h.addEventListener("canplay",F):h.playbackRate=ee)},setSource:function(ee){h&&(ee?h.src=ee:(h.removeAttribute("src"),h.load()))},setStallState:function(ee,ve){(function(S,q){q?function(B){B!==null&&h&&!h.seeking&&Q.indexOf(B)===-1&&Q.push(B)}(S):function(B){var G=Q.indexOf(B);B!==null&&G!==-1&&Q.splice(G,1)}(S)})(ee,ve)},setTTMLRenderingDiv:function(ee){(M=ee).style.position="absolute",M.style.display="flex",M.style.overflow="hidden",M.style.pointerEvents="none",M.style.top=0,M.style.left=0},setVttRenderingDiv:function(ee){w=ee},waitForReadyState:ge,setDisableRemotePlayback:function(ee){h&&(h.disableRemotePlayback=ee)}},c=(0,m.Z)(H).getInstance().getLogger(g),b=NaN,g}Fd.__dashjs_factory_name="VideoModel";var Zy=R.Z.getSingletonFactory(Fd),By=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ud="dashjs_?_bitrate",Zd="dashjs_?_settings",Ba="localStorage",Bd="lastBitrate",Gd="lastMediaSettings";function jd(g){g=g||{};var c,h,b,P=this.context,M=g.settings;function w(Q){if(b!==void 0)return b;var F;b=!1;try{typeof window<"u"&&(F=window[Q])}catch(W){return h.warn("DOMStorage access denied: "+W.message),b}if(!F||Q!==Ba)return b;try{F.setItem("1","1"),F.removeItem("1"),b=!0}catch(W){h.warn("DOMStorage is supported, but cannot be used: "+W.message)}return b}function L(){var Q=6e5;return Math.round(new Date().getTime()/Q)*Q}function H(Q,F){return w(Q)&&M.get().streaming[F+"CachingInfo"].enabled}function J(){if(!M)throw new Error(o.Z.MISSING_CONFIG_ERROR)}return c={getSavedBitrateSettings:function(Q){if(J(),!M.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var F=NaN;if(H(Ba,Bd)){var W=Ud.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},Ee=new Date().getTime()-parseInt(K.timestamp,10)>=M.get().streaming.lastBitrateCachingInfo.ttl||!1,fe=parseFloat(K.bitrate);isNaN(fe)||Ee?Ee&&localStorage.removeItem(W):(F=fe,h.debug("Last saved bitrate for "+Q+" was "+fe))}catch{return null}}return F},setSavedBitrateSettings:function(Q,F){if(H(Ba,Bd)&&F){var W=Ud.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({bitrate:F.toFixed(3),timestamp:L()}))}catch(K){h.error(K.message)}}},getSavedMediaSettings:function(Q){if(J(),!M.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var F=null;if(H(Ba,Gd)){var W=Zd.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},Ee=new Date().getTime()-parseInt(K.timestamp,10)>=M.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;F=K.settings,Ee&&(localStorage.removeItem(W),F=null)}catch{return null}}return F},setSavedMediaSettings:function(Q,F){if(H(Ba,Gd)){var W=Zd.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({settings:F,timestamp:L()}))}catch(K){h.error(K.message)}}}},h=(0,m.Z)(P).getInstance().getLogger(c),w(Ba)&&By.forEach(function(Q){var F=localStorage.getItem(Q.oldKey);if(F){localStorage.removeItem(Q.oldKey);try{localStorage.setItem(Q.newKey,F)}catch(W){h.error(W.message)}}}),c}jd.__dashjs_factory_name="DOMStorage";var Gy=R.Z.getSingletonFactory(jd),jy=v(2032),zd=v(2011);function qd(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K=this.context;function Ee(X,ge,ee,ve){var S=null,q=X?W.resolve(X.path):null,B=ve||{init:!0,url:q?q.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};c.debug("Start searching for initialization.");var G=Te(B);L.load({request:G,success:function(O){if(B.bytesLoaded=B.range.end,!(S=b.findInitRange(O)))return B.range.end=B.bytesLoaded+B.bytesToLoad,Ee(X,ge,ee,B);X.range=S,ee(X)},error:function(){ee(X)}}),c.debug("Perform init search: "+B.url)}function fe(X,ge,ee,ve,S,q){if(ee&&(ee.start===void 0||ee.end===void 0)){var B=ee?ee.toString().split("-"):null;ee=B?{start:parseFloat(B[0]),end:parseFloat(B[1])}:null}S=S||ye;var G=null,O=null,de=!!ee,ie=X?W.resolve(X.path):null,pe={init:!1,url:ie?ie.url:void 0,range:de?ee:{start:0,end:1500},searching:!de,bytesLoaded:q?q.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},se=Te(pe);L.load({request:se,success:function(V){var le=pe.bytesToLoad,Ae=V.byteLength;if(pe.bytesLoaded=pe.range.end-pe.range.start,G=b.parse(V),(O=G.getBox("sidx"))&&O.isComplete){var Ze,Oe,Be=O.references;if(Be!=null&&Be.length>0&&(Ze=Be[0].reference_type===1),Ze){var ke,lt,ut,rt;c.debug("Initiate multiple SIDX load."),pe.range.end=pe.range.start+O.size;var it=[],Ut=0,De=(O.offset||pe.range.start)+O.size,ze=function(Xe){Xe?(it=it.concat(Xe),++Ut>=lt&&(it.sort(function(Tt,_t){return Tt.startTime-_t.startTime<0?-1:0}),S(it,X,ve))):S(null,X,ve)};for(ke=0,lt=Be.length;ke<lt;ke++)ut=De,rt=De+Be[ke].referenced_size-1,De+=Be[ke].referenced_size,fe(X,ge,{start:ut,end:rt},ve,ze,pe)}else c.debug("Parsing segments from SIDX. representation "+ge+" - id: "+X.id+" for range : "+pe.range.start+" - "+pe.range.end),Oe=function(Xe,Tt){for(var _t,pt,Kt,Vt,pn=Xe.references,yn=pn.length,We=Xe.timescale,vt=Xe.earliest_presentation_time,st=Tt.range.start+Xe.offset+Xe.first_offset+Xe.size,It=[],Pt=0;Pt<yn;Pt++)Kt=pn[Pt].subsegment_duration,Vt=pn[Pt].referenced_size,(_t=new zd.Z).duration=Kt,_t.startTime=vt,_t.timescale=We,pt=st+Vt-1,_t.mediaRange=st+"-"+pt,It.push(_t),vt+=Kt,st+=Vt;return It}(O,pe),S(Oe,X,ve)}else{if(O)pe.range.start=O.offset||pe.range.start,pe.range.end=pe.range.start+(O.size||le);else{if(Ae<pe.bytesLoaded)return void S(null,X,ve);var mt=G.getLastBox();mt&&mt.size?(pe.range.start=mt.offset+mt.size,pe.range.end=pe.range.start+le):pe.range.end+=le}fe(X,ge,pe.range,ve,null,pe)}},error:function(){S(null,X,ve)}}),c.debug("Perform SIDX load for type ".concat(ge," : ").concat(pe.url," with range ").concat(pe.range.start," - ").concat(pe.range.end))}function ye(X,ge,ee){ee({segments:X,representation:ge,error:X?void 0:new ce.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Te(X){if(X.url){var ge=new I.Z;return ge.setInfo(X),ge}}return g={setConfig:function(X){X.baseURLController&&(W=X.baseURLController),X.dashMetrics&&(M=X.dashMetrics),X.mediaPlayerModel&&(w=X.mediaPlayerModel),X.errHandler&&(h=X.errHandler),X.boxParser&&(b=X.boxParser),X.debug&&(c=X.debug.getLogger(g)),X.requestModifier&&(P=X.requestModifier),X.errors&&(H=X.errors),X.urlUtils&&(F=X.urlUtils),X.constants&&(J=X.constants),X.dashConstants&&(Q=X.dashConstants)},initialize:function(){L=wr(K).create({errHandler:h,dashMetrics:M,mediaPlayerModel:w,requestModifier:P,boxParser:b,errors:H,urlUtils:F,constants:J,dashConstants:Q})},loadInitialization:function(X,ge){return new Promise(function(ee){Ee(X,ge,ee)})},loadSegments:function(X,ge,ee){return new Promise(function(ve){fe(X,ge,ee,ve)})},reset:function(){L&&(L.abort(),L=null)}}}qd.__dashjs_factory_name="SegmentBaseLoader";var zy=R.Z.getSingletonFactory(qd);function Yd(g){var c;g=g||{};var h=new DataView(g.data),b=0;function P(w,L){var H=!0,J=0;if(L===void 0&&(L=!1),w.tag>16777215?(h.getUint32(b)!==w.tag&&(H=!1),J=4):w.tag>65535?(256*h.getUint16(b)+h.getUint8(b+2)!==w.tag&&(H=!1),J=3):w.tag>255?(h.getUint16(b)!==w.tag&&(H=!1),J=2):(h.getUint8(b)!==w.tag&&(H=!1),J=1),!H&&w.required&&!L)throw new Error("required tag not found");return H&&(b+=J),H}function M(w){var L=1,H=128,J=-1,Q=0,F=h.getUint8(b),W=0;for(W=0;W<8;W+=1){if((F&H)===H){Q=w===void 0?F&~H:F,J=W;break}H>>=1}for(W=0;W<J;W+=1,L+=1)Q=Q<<8|255&h.getUint8(b+L);return b+=L,Q}return c={getPos:function(){return b},setPos:function(w){b=w},consumeTag:P,consumeTagAndSize:function(w,L){var H=P(w,L);return H&&M(),H},parseTag:function(w){var L;return P(w),L=M(),c[w.parse](L)},skipOverElement:function(w,L){var H,J=P(w,L);return J&&(H=M(),b+=H),J},getMatroskaCodedNum:M,getMatroskaFloat:function(w){var L;switch(w){case 4:L=h.getFloat32(b),b+=4;break;case 8:L=h.getFloat64(b),b+=8}return L},getMatroskaUint:function(w){if(w>4)return function(J){for(var Q=Math.floor(Number.MAX_SAFE_INTEGER/256),F=0,W=0;W<J;W+=1){if(F>Q)throw new Error("Value exceeds safe integer limit");F*=256;var K=h.getUint8(b+W);if(F>Number.MAX_SAFE_INTEGER-K)throw new Error("Value exceeds safe integer limit");F+=K}return b+=J,F}(w);for(var L=0,H=0;H<w;H+=1)L<<=8,L|=255&h.getUint8(b+H);return b+=w,L>>>0},moreData:function(){return b<h.byteLength}}}Yd.__dashjs_factory_name="EBMLParser";var Hd=R.Z.getClassFactory(Yd);function Vd(){var g,c,h,b,P,M,w,L,H,J,Q=this.context;function F(W){var K=new I.Z;return K.setInfo(W),K}return g={setConfig:function(W){if(!(W.baseURLController&&W.dashMetrics&&W.mediaPlayerModel&&W.errHandler))throw new Error(o.Z.MISSING_CONFIG_ERROR);J=W.baseURLController,M=W.dashMetrics,w=W.mediaPlayerModel,b=W.errHandler,H=W.errors,c=W.debug.getLogger(g),P=W.requestModifier},initialize:function(){L=wr(Q).create({errHandler:b,dashMetrics:M,mediaPlayerModel:w,requestModifier:P,errors:H})},loadInitialization:function(W,K){return new Promise(function(Ee){var fe=null,ye=W?J.resolve(W.path):null,Te=W?W.range.split("-"):null,X={range:{start:Te?parseFloat(Te[0]):null,end:Te?parseFloat(Te[1]):null},request:fe,url:ye?ye.url:void 0,init:!0,mediaType:K};c.info("Start loading initialization."),fe=F(X),L.load({request:fe,success:function(){Ee(W)},error:function(){Ee(W)}}),c.debug("Perform init load: "+X.url)})},loadSegments:function(W,K,Ee){return new Promise(function(fe){var ye=null,Te=W?J.resolve(W.path):null,X=Te?Te.url:void 0;ye=F({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:ye,url:X,init:!1,mediaType:K}),c.debug("Parsing ebml header"),L.load({request:ye,success:function(ge){(function(ee,ve,S,q){if(ee&&ee.byteLength!==0){var B,G,O,de,ie=Hd(Q).create({data:ee}),pe=S?S.split("-"):null,se=null,V={url:ve,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:se};for(c.debug("Parse EBML header: "+V.url),ie.skipOverElement(h.EBML),ie.consumeTag(h.Segment),O=ie.getMatroskaCodedNum(),O+=ie.getPos(),de=ie.getPos();ie.moreData()&&!ie.consumeTagAndSize(h.Segment.Info,!0);)if(!(ie.skipOverElement(h.Segment.SeekHead,!0)||ie.skipOverElement(h.Segment.Tracks,!0)||ie.skipOverElement(h.Segment.Cues,!0)||ie.skipOverElement(h.Void,!0)))throw new Error("no valid top level element found");for(;B===void 0;){var le=ie.getMatroskaCodedNum(!0),Ae=ie.getMatroskaCodedNum();le===h.Segment.Info.Duration.tag?B=ie[h.Segment.Info.Duration.parse](Ae):ie.setPos(ie.getPos()+Ae)}se=F(V),L.load({request:se,success:function(Ze){G=function(Oe,Be,ke,lt){var ut,rt,it,Ut,De,ze,mt,Xe;for(it=[],De=0,ze=(rt=function(Tt){var _t,pt,Kt=[],Vt=Hd(Q).create({data:Tt});for(Vt.consumeTagAndSize(h.Segment.Cues);Vt.moreData()&&Vt.consumeTagAndSize(h.Segment.Cues.CuePoint,!0);){for((_t={}).CueTime=Vt.parseTag(h.Segment.Cues.CuePoint.CueTime),_t.CueTracks=[];Vt.moreData()&&Vt.consumeTag(h.Segment.Cues.CuePoint.CueTrackPositions,!0);){var pn=Vt.getMatroskaCodedNum(),yn=Vt.getPos();if((pt={}).Track=Vt.parseTag(h.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),pt.Track===0)throw new Error("Cue track cannot be 0");pt.ClusterPosition=Vt.parseTag(h.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),_t.CueTracks.push(pt),Vt.setPos(yn+pn)}if(_t.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");Kt.push(_t)}if(Kt.length===0)throw new Error("mandatory cuepoint not found");return Kt}(Oe)).length;De<ze;De+=1)Ut=new zd.Z,ut=De<rt.length-1?rt[De+1].CueTime-rt[De].CueTime:lt-rt[De].CueTime,Ut.duration=ut,Ut.startTime=rt[De].CueTime,Ut.timescale=1e3,mt=rt[De].CueTracks[0].ClusterPosition+Be,Xe=De<rt.length-1?rt[De+1].CueTracks[0].ClusterPosition+Be-1:ke-1,Ut.mediaRange=mt+"-"+Xe,it.push(Ut);return c.debug("Parsed cues: "+it.length+" cues."),it}(Ze,de,O,B),q(G)},error:function(){c.error("Download Error: Cues "+V.url),q(null)}}),c.debug("Perform cues load: "+V.url+" bytes="+V.range.start+"-"+V.range.end)}else q(null)})(ge,X,Ee,function(ee){fe({segments:ee,representation:W,error:ee?void 0:new ce.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){fe({representation:W,error:new ce.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){L&&(L.abort(),L=null)}},h={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},g}Vd.__dashjs_factory_name="WebmSegmentBaseLoader";var qy=R.Z.getSingletonFactory(Vd);function Kd(g){g=g||{};var c,h,b,P=this.context,M=g.eventBus,w=g.events,L=g.dashMetrics,H=g.mediaPlayerModel,J=g.errHandler,Q=g.baseURLController,F=g.debug,W=g.boxParser,K=g.requestModifier,Ee=g.errors;function fe(ye){return(ye?ye.split("/")[1]:"").toLowerCase()==="webm"}return c={initialize:function(){h.initialize(),b.initialize()},getSegmentBaseInitSegment:function(ye){return fe(ye.representation.mimeType)?b.loadInitialization(ye.representation,ye.mediaType):h.loadInitialization(ye.representation,ye.mediaType)},getSegmentList:function(ye){return fe(ye.mimeType)?b.loadSegments(ye.representation,ye.mediaType,ye.representation?ye.representation.indexRange:null):h.loadSegments(ye.representation,ye.mediaType,ye.representation?ye.representation.indexRange:null)},reset:function(){h.reset(),b.reset()}},h=zy(P).getInstance(),b=qy(P).getInstance(),h.setConfig({baseURLController:Q,dashMetrics:L,mediaPlayerModel:H,errHandler:J,eventBus:M,events:w,errors:Ee,debug:F,boxParser:W,requestModifier:K}),b.setConfig({baseURLController:Q,dashMetrics:L,mediaPlayerModel:H,errHandler:J,eventBus:M,events:w,errors:Ee,debug:F,requestModifier:K}),c}Kd.__dashjs_factory_name="SegmentBaseController";var Yy=R.Z.getSingletonFactory(Kd),Wd=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Ou=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.essentialProperties={},this.essentialPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Qd=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},Hy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function Vy(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var Ky=function(){function g(b){var P=this;(function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this.valid=b[0]=="/",this.path=b.split("/").filter(function(M){return M.length!==0}).map(function(M){var w={name:M},L=M.indexOf("[");if(L!=-1){w.name=M.substring(0,L);var H=M.substring(L+1,M.length-1);P.valid=P.valid&&H.indexOf("[")==-1;var J=H.indexOf("=");J!=-1?(w.attribute={name:H.substring(1,J),value:H.substring(J+1)},["'",'"'].indexOf(w.attribute.value[0])!=-1&&(w.attribute.value=w.attribute.value.substring(1,w.attribute.value.length-1))):w.position=parseInt(H,10)-1}return w})}var c,h;return c=g,(h=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return this.path[this.path.length-1].name==="text()"}},{key:"getMpdTarget",value:function(b,P){for(var M=null,w=b,L=1,H="MPD";L<this.path.length&&w!==null;){M=w;var J=this.path[L];if(H=J.name,L!==this.path.length-1||!H.startsWith("@")&&H!=="text()"){var Q=M[H+"_asArray"]||[];Q.length===0&&M[H]&&Q.push(M[H]),J.position?w=Q[J.position]||null:J.attribute?function(){var F=J.attribute;w=Q.filter(function(W){return W[F.name]==F.value})[0]||null}():w=Q[0]||null}L++}return w===null?null:H.startsWith("@")?{name:H.substring(1),leaf:w,target:w}:H==="text()"?{name:"__text",leaf:w,target:w}:{name:H,leaf:w,target:P?M:w}}}])&&Vy(c.prototype,h),g}();function Wy(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var Qy=function(){function g(b,P,M){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,g),this.action=b,this.xpath=P,this.value=M,this.position=null}var c,h;return c=g,(h=[{key:"getMpdTarget",value:function(b){var P=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(b,P)}}])&&Wy(c.prototype,h),g}();function Xd(){var g,c,h=this.context;return g={getIsPatch:function(b){return b&&b.hasOwnProperty(i.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(b){return b&&b.hasOwnProperty(i.Z.PUBLISH_TIME)?new Date(b[i.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(b){return b&&b.hasOwnProperty(i.Z.ORIGINAL_PUBLISH_TIME)?new Date(b[i.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(b){return b&&b[i.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(b){return b?(b.__children||[]).map(function(P){var M=Object.keys(P)[0];if(M!=="add"&&M!=="remove"&&M!=="replace")return c.warn("Ignoring node of invalid action: ".concat(M)),null;var w=P[M],L=w.sel;if(M==="add"&&w.type){if(!w.type.startsWith("@"))return c.warn("Ignoring add action for prefixed namespace declaration: ".concat(w.type,"=").concat(w.__text)),null;L="".concat(L,"/").concat(w.type)}var H=new Ky(L);if(!H.isValid())return c.warn("Ignoring action with invalid selector: ".concat(M," - ").concat(L)),null;var J=null;H.findsAttribute()||H.findsTextReplace()?J=w.__text||"":M!=="remove"&&(J=w.__children.reduce(function(F,W){var K=Object.keys(W)[0];return K!=="#text"&&(F[K]=F[K]||[],F[K].push(W[K])),F},{}));var Q=new Qy(M,H,J);return M==="add"&&(Q.position=w.pos),Q}).filter(function(P){return!!P}):[]}},c=(0,m.Z)(h).getInstance().getLogger(g),g}Xd.__dashjs_factory_name="PatchManifestModel";var Xy=R.Z.getSingletonFactory(Xd);function $d(){var g,c,h,b,P,M,w,L=this.context;function H(B,G,O){var de,ie=c.getAdaptationsForType(b[0].mpd.manifest,B,G);if(!ie||ie.length===0)return null;if(ie.length>1&&O){var pe=F(O,G);if(P[O.id]&&P[O.id][G]){for(var se=0,V=ie.length;se<V;se++)if(J(P[O.id][G],pe[se]))return ie[se]}for(var le=0,Ae=ie.length;le<Ae;le++)if(de=ie[le],c.getRolesForAdaptation(de).filter(function(Ze){return Ze.value===i.Z.MAIN})[0])return ie[le]}return ie[0]}function J(B,G){if(!B||!G)return!1;var O=B.id===G.id,de=B.codec===G.codec,ie=B.viewpoint===G.viewpoint,pe=JSON.stringify(B.viewpointsWithSchemeIdUri)===JSON.stringify(G.viewpointsWithSchemeIdUri),se=B.lang===G.lang,V=B.roles.toString()===G.roles.toString(),le=JSON.stringify(B.rolesWithSchemeIdUri)===JSON.stringify(G.rolesWithSchemeIdUri),Ae=B.accessibility.toString()===G.accessibility.toString(),Ze=JSON.stringify(B.accessibilitiesWithSchemeIdUri)===JSON.stringify(G.accessibilitiesWithSchemeIdUri),Oe=B.audioChannelConfiguration.toString()===G.audioChannelConfiguration.toString(),Be=JSON.stringify(B.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri);return O&&de&&ie&&pe&&se&&V&&le&&Ae&&Ze&&Oe&&Be}function Q(B,G,O,de,ie,pe){var se,V,le,Ae,Ze,Oe,Be=[];if(!de||de.length===0)return[];var ke=c.getAdaptationsForPeriod(G);for(Ae=0,Oe=de.length;Ae<Oe;Ae++)if(se=de[Ae],V=X(ke[le=c.getIndexForAdaptation(se,B,O.index)]),pe){var lt=V.accessibility.length;for(Ze=0;Ze<lt;Ze++)if(V){var ut=V.accessibility[Ze];if(ut.indexOf("cea-608:")===0){var rt=ut.substring(8).split(";");if(rt[0].substring(0,2)==="CC")for(Ze=0;Ze<rt.length;Ze++)V||(V=X.call(this,ke[le])),ge(V,rt[Ze].substring(0,3),rt[Ze].substring(4)),Be.push(V),V=null;else for(Ze=0;Ze<rt.length;Ze++)V||(V=X.call(this,ke[le])),ge(V,"CC"+(Ze+1),rt[Ze]),Be.push(V),V=null}else ut.indexOf("cea-608")===0&&(ge(V,M.CC1,"eng"),Be.push(V),V=null)}}else ie===M.IMAGE?(V.type=M.IMAGE,Be.push(V),V=null):V&&Be.push(V);return Be}function F(B,G,O){var de=b,ie=O,pe=[];if(ie)ve(),de=W(ie);else{if(!(b.length>0))return pe;ie=b[0].mpd.manifest}var se=Te(B,de),V=c.getAdaptationsForType(ie,B?B.index:null,G);return pe=Q(ie,se,B,V,G),G===M.TEXT&&(V=c.getAdaptationsForType(ie,B?B.index:null,M.VIDEO),pe=pe.concat(Q(ie,se,B,V,G,!0))),pe}function W(B){var G=K(B);return c.getRegularPeriods(G)}function K(B){var G=fe(B);return c.getMpd(G)}function Ee(){b=[],P={}}function fe(B){return B||(b.length>0?b[0].mpd.manifest:null)}function ye(B){try{var G=Te(B.streamInfo,b),O=c.getAdaptationsForPeriod(G);return B&&B.streamInfo&&B.streamInfo.id!==void 0&&O?O[B.index]:null}catch{return null}}function Te(B,G){for(var O=G.length,de=0;de<O;de++){var ie=G[de];if(B&&B.id===ie.id)return ie}return null}function X(B){if(!B)return null;var G,O,de,ie,pe,se=new Ou,V=B.period.mpd.manifest.Period_asArray[B.period.index].AdaptationSet_asArray[B.index];if(se.id=B.id,se.index=B.index,se.type=B.type,se.streamInfo=ee(B.period),se.representationCount=c.getRepresentationCount(V),se.labels=c.getLabelsForAdaptation(V),se.lang=c.getLanguageForAdaptation(V),se.segmentAlignment=c.getSegmentAlignment(V),se.subSegmentAlignment=c.getSubSegmentAlignment(V),G=c.getViewpointForAdaptation(V),se.viewpoint=G.length?G[0].value:void 0,se.viewpointsWithSchemeIdUri=G,pe=c.getAccessibilityForAdaptation(V),se.accessibility=pe.map(function(Be){var ke=Be.value,lt=ke;return Be.schemeIdUri&&Be.schemeIdUri.search("cea-608")>=0&&w!==void 0&&(lt=ke?"cea-608:"+ke:"cea-608",se.embeddedCaptions=!0),lt}),se.accessibilitiesWithSchemeIdUri=pe,O=c.getAudioChannelConfigurationForAdaptation(V),se.audioChannelConfiguration=O.map(function(Be){return Be.value}),se.audioChannelConfigurationsWithSchemeIdUri=O,se.audioChannelConfiguration.length===0&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0&&(de=c.getAudioChannelConfigurationForRepresentation(V.Representation_asArray[0]),se.audioChannelConfiguration=de.map(function(Be){return Be.value}),se.audioChannelConfigurationsWithSchemeIdUri=de),ie=c.getRolesForAdaptation(V),se.roles=ie.map(function(Be){return Be.value}),se.rolesWithSchemeIdUri=ie,se.codec=c.getCodec(V),se.mimeType=c.getMimeType(V),se.contentProtection=c.getContentProtectionData(V),se.bitrateList=c.getBitrateListForAdaptation(V),se.selectionPriority=c.getSelectionPriority(V),se.contentProtection){var le=se.contentProtection.map(function(Be){return c.getKID(Be)}).filter(function(Be){return Be!==null});if(le.length){var Ae=le[0];se.contentProtection.forEach(function(Be){Be.keyId=Ae})}}if(se.isText=c.getIsText(V),se.supplementalProperties=c.getSupplementalPropertiesForAdaptation(V),(!se.supplementalProperties||Object.keys(se.supplementalProperties).length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var Ze=V.Representation_asArray.map(function(Be){return c.getSupplementalPropertiesForRepresentation(Be)});Ze.every(function(Be){return JSON.stringify(Be)===JSON.stringify(Ze[0])})&&(se.supplementalProperties=Ze[0])}if(se.supplementalPropertiesAsArray=c.getSupplementalPropertiesAsArrayForAdaptation(V),(!se.supplementalPropertiesAsArray||se.supplementalPropertiesAsArray.length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var Oe=V.Representation_asArray.map(function(Be){return c.getSupplementalPropertiesAsArrayForRepresentation(Be)});Oe.every(function(Be){return JSON.stringify(Be)===JSON.stringify(Oe[0])})&&(se.supplementalPropertiesAsArray=Oe[0])}return se.essentialProperties=c.getEssentialPropertiesForAdaptation(V),se.essentialPropertiesAsArray=c.getEssentialPropertiesAsArrayForAdaptation(V),se.isFragmented=c.getIsFragmented(V),se.isEmbedded=!1,se}function ge(B,G,O){B.id=G,B.index=100+parseInt(G.substring(2,3)),B.type=M.TEXT,B.codec="cea-608-in-SEI",B.isEmbedded=!0,B.isFragmented=!1;var de=bs()(O);B.lang=de||O,B.roles=["caption"],B.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function ee(B){var G,O,de=new Qd;return de.id=B.id,de.index=B.index,de.start=B.start,de.duration=B.duration,de.manifestInfo=(G=B.mpd,(O=new Hy).dvrWindowSize=G.timeShiftBufferDepth,O.loadedTime=G.manifest.loadedTime,O.availableFrom=G.availabilityStartTime,O.minBufferTime=G.manifest.minBufferTime,O.maxFragmentDuration=G.maxSegmentDuration,O.duration=c.getDuration(G.manifest),O.isDynamic=c.getIsDynamic(G.manifest),O.serviceDescriptions=c.getServiceDescriptions(G.manifest),O.protocol=G.manifest.protocol,O),de.isLast=B.mpd.manifest.Period_asArray.length===1||Math.abs(de.start+de.duration-de.manifestInfo.duration)<1,de}function ve(){if(!M)throw new Error("setConfig function has to be called previously")}function S(B){return b.length>0?b[0].mpd.manifest.Period_asArray[B]:null}function q(B,G,O){var de,ie,pe,se,V;if(B){for(de=B.AdaptationSet_asArray,se=0;se<de.length;se+=1)for(pe=de[se].Representation_asArray,V=0;V<pe.length;V+=1)if(G===(ie=pe[V]).id)return O?V:ie}return null}return g={getBandwidthForRepresentation:function(B,G){var O;return(O=q(S(G),B))?O.bandwidth:null},getIndexForRepresentation:function(B,G){return function(O,de){var ie=q(O,de,!0);return ie!==null?ie:-1}(S(G),B)},getMaxIndexForBufferType:function(B,G){return function(O,de){var ie,pe,se,V;if(!O||!de)return-1;for(pe=O.AdaptationSet_asArray,V=0;V<pe.length;V+=1)if(se=(ie=pe[V]).Representation_asArray,c.getIsTypeOf(ie,de))return se.length;return-1}(S(G),B)},convertRepresentationToRepresentationInfo:function(B){if(B){var G=new Wd,O=B.adaptation.period.mpd.manifest.Period_asArray[B.adaptation.period.index].AdaptationSet_asArray[B.adaptation.index],de=c.getRepresentationFor(B.index,O);return G.id=B.id,G.quality=B.index,G.bandwidth=c.getBandwidth(de),G.fragmentDuration=B.segmentDuration||(B.segments&&B.segments.length>0?B.segments[0].duration:NaN),G.MSETimeOffset=B.MSETimeOffset,G.mediaInfo=X(B.adaptation),G}return null},getStreamsInfo:function(B,G){var O=[],de=b;if(B&&(ve(),de=W(B)),de.length>0){(!G||G>de.length)&&(G=de.length);for(var ie=0;ie<G;ie++)O.push(ee(de[ie]))}return O},getMediaInfoForType:function(B,G){if(b.length===0||!B)return null;var O=Te(B,b);if(!O)return null;var de=c.getAdaptationsForPeriod(O),ie=H(B.index,G,B);return ie?X(de[c.getIndexForAdaptation(ie,b[0].mpd.manifest,B.index)]):null},getAllMediaInfoForType:F,getAdaptationForType:H,getRealAdaptation:function(B,G){var O,de,ie=Te(B,b);return O=G?G.id:null,b.length>0&&ie&&(de=O?c.getAdaptationForId(O,b[0].mpd.manifest,ie.index):c.getAdaptationForIndex(G?G.index:null,b[0].mpd.manifest,ie.index)),de},getProducerReferenceTimes:function(B,G){var O,de,ie=Te(B,b);return O=G?G.id:null,b.length>0&&ie&&(de=O?c.getAdaptationForId(O,b[0].mpd.manifest,ie.index):c.getAdaptationForIndex(G?G.index:null,b[0].mpd.manifest,ie.index)),de?c.getProducerReferenceTimesForAdaptation(de):[]},getRealPeriodByIndex:function(B){return c.getRealPeriodForIndex(B,b[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(B){try{return c.getEssentialPropertiesForRepresentation(B)}catch{return[]}},getVoRepresentations:function(B){var G=ye(B);return c.getRepresentationsForAdaptation(G)},getEventsFor:function(B,G,O){var de=[];if(b.length>0){var ie=b[0].mpd.manifest;if(B instanceof Qd){var pe=Te(B,b);de=c.getEventsForPeriod(pe)}else if(B instanceof Ou){var se=Te(O,b);de=c.getEventStreamForAdaptationSet(ie,ye(B),se)}else if(B instanceof Wd){var V=Te(O,b);de=c.getEventStreamForRepresentation(ie,G,V)}}return de},getEvent:function(B,G,O,de){try{if(!B||!G||isNaN(O)||!de)return null;var ie=B.scheme_id_uri,pe=B.value;if(!G[ie+"/"+pe])return null;var se,V=new Er,le=B.timescale||1,Ae=de.adaptation.period.start,Ze=G[ie+"/"+pe],Oe=isNaN(de.presentationTimeOffset)?isNaN(Ze.presentationTimeOffset)?0:Ze.presentationTimeOffset:de.presentationTimeOffset,Be=B.presentation_time_delta/le;se=B.version===0?Ae+O-Oe+Be:Ae-Oe+Be;var ke=B.event_duration/le,lt=B.id,ut=B.message_data;return V.eventStream=Ze,V.eventStream.value=pe,V.eventStream.timescale=le,V.duration=ke,V.id=lt,V.calculatedPresentationTime=se,V.messageData=ut,V.presentationTimeDelta=Be,V}catch{return null}},getMpd:K,setConfig:function(B){B&&(B.constants&&(M=B.constants),B.cea608parser&&(w=B.cea608parser),B.errHandler&&c.setConfig({errHandler:B.errHandler}),B.BASE64&&c.setConfig({BASE64:B.BASE64}))},updatePeriods:function(B){if(!B)return null;ve(),b=W(B)},getIsTextTrack:function(B){return c.getIsText(B)},getUTCTimingSources:function(){var B=fe();return c.getUTCTimingSources(B)},getSuggestedPresentationDelay:function(){var B=b.length>0?b[0].mpd:null;return c.getSuggestedPresentationDelay(B)},getAvailabilityStartTime:function(B){var G=K(B);return c.getAvailabilityStartTime(G)},getIsTypeOf:function(B,G){return c.getIsTypeOf(B,G)},getIsDynamic:function(B){var G=fe(B);return c.getIsDynamic(G)},getDuration:function(B){var G=fe(B);return c.getDuration(G)},getRegularPeriods:W,getContentSteering:function(B){return c.getContentSteering(B)},getLocation:function(B){return c.getLocation(B)},getPatchLocation:function(B){var G=c.getPatchLocation(B),O=c.getPublishTime(B);return G&&G.length!==0&&O?G.filter(function(de){return isNaN(de.ttl)||O.getTime()+de.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(B){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return c.getManifestUpdatePeriod(B,G)},getPublishTime:function(B){return c.getPublishTime(B)},getIsDVB:function(B){return c.hasProfile(B,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(B){return h.getIsPatch(B)},getBaseURLsFromElement:function(B){return c.getBaseURLsFromElement(B)},getRepresentationSortFunction:function(){return c.getRepresentationSortFunction()},getCodec:function(B,G,O){return c.getCodec(B,G,O)},getPeriodById:function(B){if(!B||b.length===0)return null;var G=b.filter(function(O){return O.id===B});return G&&G.length>0?G[0]:null},setCurrentMediaInfo:function(B,G,O){P[B]=P[B]||{},P[B][G]=P[B][G]||{},P[B][G]=O},isPatchValid:function(B,G){var O=c.getId(B),de=h.getMpdId(G),ie=c.getPublishTime(B),pe=h.getPublishTime(G),se=h.getOriginalPublishTime(G);return!!(O&&de&&O==de&&ie&&se&&ie.getTime()==se.getTime()&&pe&&ie.getTime()<pe.getTime())},applyPatchToManifest:function(B,G){h.getPatchOperations(G).forEach(function(O){var de=O.getMpdTarget(B);if(de!==null){var ie=de.name,pe=de.target,se=de.leaf;if(O.xpath.findsAttribute()||ie==="__text")switch(O.action){case"add":case"replace":pe[ie]=O.value;break;case"remove":delete pe[ie]}else{var V=(pe[ie+"_asArray"]||[]).indexOf(se),le=O.position==="prepend"||O.position==="before";if((O.action==="remove"||O.action==="replace")&&(delete pe[ie],V!=-1)){var Ae=pe[ie+"_asArray"];Ae.splice(V,1),Ae.length>1?pe[ie]=Ae:Ae.length==1?pe[ie]=Ae[0]:delete pe[ie+"_asArray"]}O.action!=="add"&&O.action!=="replace"||Object.keys(O.value).forEach(function(Ze){var Oe=O.value[Ze],Be=pe[Ze+"_asArray"]||[];if(Be.length===0&&pe[Ze]&&Be.push(pe[Ze]),Be.length===0)Be=Oe;else{var ke=Be.length;ke=Ze==ie&&V!=-1?V+(le?0:1)+(O.action=="replace"?-1:0):le?0:Be.length,Be.splice.apply(Be,[ke,0].concat(Oe))}pe[Ze+"_asArray"]=Be,pe[Ze]=Be.length==1?Be[0]:Be})}}})},areMediaInfosEqual:J,reset:Ee},c=ln(L).getInstance(),h=Xy(L).getInstance(),Ee(),g}$d.__dashjs_factory_name="DashAdapter";var $y=R.Z.getSingletonFactory($d);function Jy(g,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}var ev=function(){function g(){(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g)}var c,h;return c=g,h=[{key:"round10",value:function(b,P){return function(M,w,L){return L===void 0||+L==0?Math[M](w):(L=+L,(w=+w)===null||isNaN(w)||typeof L!="number"||L%1!=0?NaN:(w=w.toString().split("e"),+((w=(w=Math[M](+(w[0]+"e"+(w[1]?+w[1]-L:-L)))).toString().split("e"))[0]+"e"+(w[1]?+w[1]+L:L))))}("round",b,P)}}],h&&Jy(c,h),g}(),tv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},nv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.mt=null,this.to=null,this.lto=null},rv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.level=null},iv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.target=null,this.state=E.Z.BUFFER_EMPTY},av=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.range=null,this.manifestInfo=null},ov=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.droppedFrames=null};function Mu(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function")}var sv=function g(){Mu(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},lv=function g(){Mu(this,g),this.id=null,this.index=null,this.start=null,this.duration=null},uv=function g(){Mu(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},cv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},fv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.loadingRequests=[],this.executedRequests=[]};function Jd(g){var c,h,b=(g=g||{}).settings,P=this.context,M=(0,_.Z)(P).getInstance();function w(){M.trigger(f.Z.METRICS_CHANGED)}function L(K){M.trigger(f.Z.METRIC_CHANGED,{mediaType:K}),w()}function H(K,Ee,fe){M.trigger(f.Z.METRIC_UPDATED,{mediaType:K,metric:Ee,value:fe}),L(K)}function J(K,Ee,fe){M.trigger(f.Z.METRIC_ADDED,{mediaType:K,metric:Ee,value:fe}),L(K)}function Q(K,Ee){var fe=null;return K&&(h.hasOwnProperty(K)?fe=h[K]:Ee||(fe=new tv,h[K]=fe)),fe}function F(K,Ee,fe){var ye=Q(K);ye!==null&&(ye[Ee].push(fe),ye[Ee].length>b.get().streaming.metrics.maxListDepth&&ye[Ee].shift())}function W(K,Ee,fe){F(K,Ee,fe),J(K,Ee,fe)}return c={clearCurrentMetricsForType:function(K){delete h[K],L(K)},clearAllCurrentMetrics:function(){h={},w()},getMetricsFor:Q,addHttpRequest:function K(Ee,fe,ye,Te,X,ge,ee,ve,S,q,B,G,O,de,ie,pe,se){var V=new Pe.w;ge!=null&&ge!==Te&&(K(Ee,null,ye,Te,X,null,null,ve,S,null,null,null,O,null,null,pe,se),V.actualurl=ge),V.tcpid=fe,V.type=ye,V.url=Te,V.range=ve,V.trequest=S,V.tresponse=q,V.responsecode=G,V.cmsd=se,V._tfinish=B,V._stream=Ee,V._mediaduration=O,V._quality=X,V._responseHeaders=de,V._serviceLocation=ee,V._fileLoaderType=pe,ie?ie.forEach(function(le){(function(Ae,Ze,Oe,Be){var ke=new Pe.O;ke.s=Ze,ke.d=Oe,ke.b=Be,Ae.trace.push(ke),Ae.interval||(Ae.interval=0),Ae.interval+=Oe})(V,le.s,le.d,le.b)}):(delete V.interval,delete V.trace),W(Ee,E.Z.HTTP_REQUEST,V)},addRepresentationSwitch:function(K,Ee,fe,ye,Te){var X=new nv;X.t=Ee,X.mt=fe,X.to=ye,Te?X.lto=Te:delete X.lto,W(K,E.Z.TRACK_SWITCH,X)},addBufferLevel:function(K,Ee,fe){var ye=new rv;ye.t=Ee,ye.level=fe,W(K,E.Z.BUFFER_LEVEL,ye)},addBufferState:function(K,Ee,fe){var ye=new iv;ye.target=fe,ye.state=Ee,W(K,E.Z.BUFFER_STATE,ye)},addDVRInfo:function(K,Ee,fe,ye){var Te=new av;Te.time=Ee,Te.range=ye,Te.manifestInfo=fe,W(K,E.Z.DVR_INFO,Te)},addDroppedFrames:function(K,Ee){var fe=new ov,ye=Q(K).DroppedFrames;Ee&&(fe.time=Ee.creationTime,fe.droppedFrames=Ee.droppedVideoFrames,ye.length>0&&ye[ye.length-1]==fe||W(K,E.Z.DROPPED_FRAMES,fe))},addSchedulingInfo:function(K,Ee,fe,ye,Te,X,ge,ee,ve){var S=new cv;S.mediaType=K,S.t=Ee,S.type=fe,S.startTime=ye,S.availabilityStartTime=Te,S.duration=X,S.quality=ge,S.range=ee,S.state=ve,W(K,E.Z.SCHEDULING_INFO,S)},addRequestsQueue:function(K,Ee,fe){var ye=new fv;ye.loadingRequests=Ee,ye.executedRequests=fe,Q(K).RequestsQueue=ye,J(K,E.Z.REQUESTS_QUEUE,ye)},addManifestUpdate:function(K,Ee,fe,ye,Te,X,ge,ee,ve,S){var q=new sv;q.mediaType=K,q.type=Ee,q.requestTime=fe,q.fetchTime=ye,q.availabilityStartTime=Te,q.presentationStartTime=X,q.clientTimeOffset=ge,q.currentTime=ee,q.buffered=ve,q.latency=S,F(o.Z.STREAM,E.Z.MANIFEST_UPDATE,q),J(K,E.Z.MANIFEST_UPDATE,q)},updateManifestUpdateInfo:function(K,Ee){if(K){for(var fe in Ee)K[fe]=Ee[fe];H(K.mediaType,E.Z.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function(K,Ee,fe,ye,Te){if(K){var X=new lv;X.id=Ee,X.index=fe,X.start=ye,X.duration=Te,K.streamInfo.push(X),H(K.mediaType,E.Z.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function(K,Ee,fe,ye,Te,X,ge,ee){if(K&&K.representationInfo){var ve=new uv;ve.id=Ee,ve.index=fe,ve.streamIndex=ye,ve.mediaType=Te,ve.startNumber=ge,ve.fragmentInfoType=ee,ve.presentationTimeOffset=X,K.representationInfo.push(ve),H(K.mediaType,E.Z.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(Ee){Ee.hasOwnProperty("subreplevel")&&!Ee.subreplevel&&delete Ee.subreplevel}):delete K.trace,W(o.Z.STREAM,E.Z.PLAY_LIST,K)},addDVBErrors:function(K){W(o.Z.STREAM,E.Z.DVB_ERRORS,K)}},h={},c}Jd.__dashjs_factory_name="MetricsModel";var dv=R.Z.getSingletonFactory(Jd);function eg(g){g=g||{};var c,h,b,P,M=this.context,w=g.metricsModel;function L(Q){var F=w.getMetricsFor(Q,!0);if(!F)return null;var W,K=F.HttpList,Ee=null;if(!K||K.length<=0)return null;for(W=K.length-1;W>=0;){if(K[W].responsecode){Ee=K[W];break}W--}return Ee}function H(Q){var F=w.getMetricsFor(Q,!0);return F&&F.HttpList?F.HttpList:[]}function J(Q,F){if(!Q)return null;var W=Q[F];return W&&W.length!==0?W[W.length-1]:null}return c={getCurrentRepresentationSwitch:function(Q){return J(w.getMetricsFor(Q,!0),E.Z.TRACK_SWITCH)},getCurrentBufferState:function(Q){return J(w.getMetricsFor(Q,!0),E.Z.BUFFER_STATE)},getCurrentBufferLevel:function(Q){var F=J(w.getMetricsFor(Q,!0),E.Z.BUFFER_LEVEL);return F?ev.round10(F.level/1e3,-3):0},getCurrentHttpRequest:L,getHttpRequests:H,getCurrentDroppedFrames:function(){return J(w.getMetricsFor(o.Z.VIDEO,!0),E.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Q){return J(w.getMetricsFor(Q,!0),E.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(Q){return J(Q?w.getMetricsFor(Q,!0):w.getMetricsFor(o.Z.VIDEO,!0)||w.getMetricsFor(o.Z.AUDIO,!0),E.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return J(w.getMetricsFor(o.Z.STREAM),E.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Q,F){if(!F)return null;var W={},K=L(Q);K&&(W=At.Z.parseHttpHeaders(K._responseHeaders));var Ee=W[F.toLowerCase()];return Ee===void 0?null:Ee},getLatestMPDRequestHeaderValueByID:function(Q){if(!Q)return null;var F,W,K,Ee={};for(K=(F=H(o.Z.STREAM)).length-1;K>=0;K--)if((W=F[K]).type===Pe.w.MPD_TYPE){Ee=At.Z.parseHttpHeaders(W._responseHeaders);break}var fe=Ee[Q.toLowerCase()];return fe===void 0?null:fe},addRepresentationSwitch:function(Q,F,W,K,Ee){w.addRepresentationSwitch(Q,F,W,K,Ee)},addDVRInfo:function(Q,F,W,K){w.addDVRInfo(Q,F,W,K)},updateManifestUpdateInfo:function(Q){var F=this.getCurrentManifestUpdate();w.updateManifestUpdateInfo(F,Q)},addManifestUpdateStreamInfo:function(Q){if(Q){var F=this.getCurrentManifestUpdate();w.addManifestUpdateStreamInfo(F,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function(Q,F){if(Q){var W=this.getCurrentManifestUpdate();w.addManifestUpdateRepresentationInfo(W,Q.id,Q.index,Q.streamIndex,F,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function(Q){w.addManifestUpdate(o.Z.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function(Q,F,W,K,Ee,fe){w.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,F,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,W,Q.duration,K,Ee,Q.fileLoaderType,fe)},addSchedulingInfo:function(Q,F){w.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,F)},addRequestsQueue:function(Q,F,W){w.addRequestsQueue(Q,F,W)},addBufferLevel:function(Q,F,W){w.addBufferLevel(Q,F,W)},addBufferState:function(Q,F,W){w.addBufferState(Q,F,W)},addDroppedFrames:function(Q){w.addDroppedFrames(o.Z.VIDEO,Q)},addPlayList:function(){P&&(w.addPlayList(P),P=null)},addDVBErrors:function(Q){w.addDVBErrors(Q)},createPlaylistMetrics:function(Q,F){(P=new Ge).start=new Date,P.mstart=Q,P.starttype=F},createPlaylistTraceMetrics:function(Q,F,W){h===!0&&(h=!1,(b=new xe).representationid=Q,b.start=new Date,b.mstart=F,b.playbackspeed=W!==null?W.toString():null)},updatePlayListTraceMetrics:function(Q){if(b)for(var F in b)b[F]=Q[F]},pushPlayListTraceMetrics:function(Q,F){if(h===!1&&P&&b&&b.start){var W=b.start,K=Q.getTime()-W.getTime();b.duration=K,b.stopreason=F,P.trace.push(b),h=!0}},clearAllCurrentMetrics:function(){w.clearAllCurrentMetrics()}},w=w||dv(M).getInstance({settings:g.settings}),h=!0,b=null,P=null,c}eg.__dashjs_factory_name="DashMetrics";var gv=R.Z.getSingletonFactory(eg);function tg(){var g,c,h,b,P=this.context,M=(0,_.Z)(P).getInstance(),w=(0,be.Z)(P).getInstance();function L(Te){b=Te}function H(Te,X,ge,ee){var ve,S=X.adaptation.period.mpd,q=S.availabilityStartTime;if(ee)ve=ge&&S.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(q.getTime()+1e3*(Te+S.timeShiftBufferDepth)):S.availabilityEndTime;else if(ge){var B=X.availabilityTimeOffset;ve=new Date(q.getTime()+1e3*(Te-B))}else ve=q;return ve}function J(Te,X){return(Te.getTime()-X.mpd.availabilityStartTime.getTime()+1e3*b)/1e3}function Q(Te,X){return Te+(X.adaptation.period.start-X.presentationTimeOffset)}function F(Te){var X={start:NaN,end:NaN},ge=Te[0].getAdapter().getRegularPeriods()[0],ee=J(new Date,ge);if(!Te||Te.length===0)return{range:X,now:ee};Te.forEach(function(S){var q=S.getAdapter(),B=q.getMediaInfoForType(S.getStreamInfo(),o.Z.VIDEO)||q.getMediaInfoForType(S.getStreamInfo(),o.Z.AUDIO),G=q.getVoRepresentations(B)[0],O={start:NaN,end:NaN};if(G)if(G.segmentInfoType===i.Z.SEGMENT_TIMELINE)O=function(ie){var pe,se,V,le,Ae=ie.adaptation.period.mpd.manifest.Period_asArray[ie.adaptation.period.index].AdaptationSet_asArray[ie.adaptation.index],Ze=c.getRepresentationFor(ie.index,Ae),Oe=Ze.SegmentTemplate||Ze.SegmentList,Be=Oe.SegmentTimeline,ke=Oe.timescale,lt=Be.S_asArray,ut={start:0,end:0},rt=lt[0].t,it=!isNaN(rt),Ut=it?rt:0,De=0;for(it&&(ut.start=Q(Ut/ke,ie)),V=0,le=lt.length;V<le;V++)se=0,(pe=lt[V]).hasOwnProperty("r")&&(se=pe.r),De+=pe.d*(1+se);return ut.end=Q((Ut+De)/ke,ie),ut}(G);else{var de=G.adaptation.period;O.start=de.start,O.end=Math.max(ee,de.start+de.duration)}!isNaN(O.start)&&(isNaN(X.start)||X.start>O.start)&&(X.start=O.start),!isNaN(O.end)&&(isNaN(X.end)||X.end<O.end)&&(X.end=O.end)}),X.end=Math.min(ee,X.end);var ve=K(Te,X.end,!0);return X.end=isNaN(ve)?X.end:ve,X.start=ge&&ge.mpd&&ge.mpd.timeShiftBufferDepth&&!isNaN(ge.mpd.timeShiftBufferDepth)&&!isNaN(X.end)?Math.max(X.end-ge.mpd.timeShiftBufferDepth,X.start):X.start,X.start=K(Te,X.start),{range:X,now:ee}}function W(Te,X){h=Te-X.end}function K(Te,X){var ge=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var ee=0,ve=!1,S=NaN;!ve&&ee<Te.length;){var q=Te[ee].getStreamInfo();q.start<=X&&(!isFinite(q.duration)||q.start+q.duration>=X)?(S=X,ve=!0):!ge&&q.start>X&&(isNaN(S)||q.start<S)?S=q.start:ge&&q.start+q.duration<X&&(isNaN(S)||q.start+q.duration>S)&&(S=q.start+q.duration),ee+=1}return S}catch{return X}}function Ee(Te){Te.offset===void 0||isNaN(Te.offset)||L(Te.offset/1e3)}function fe(){b=0,h=0}function ye(){M.off(f.Z.UPDATE_TIME_SYNC_OFFSET,Ee,this),fe()}return g={initialize:function(){fe(),M.on(f.Z.UPDATE_TIME_SYNC_OFFSET,Ee,this)},getClientTimeOffset:function(){return b},setClientTimeOffset:L,getClientReferenceTime:function(){return Date.now()-1e3*h+1e3*b},calcAvailabilityStartTimeFromPresentationTime:function(Te,X,ge){return H(Te,X,ge)},calcAvailabilityEndTimeFromPresentationTime:function(Te,X,ge){return H(Te,X,ge,!0)},calcPresentationTimeFromWallTime:J,calcPresentationTimeFromMediaTime:Q,calcPeriodRelativeTimeFromMpdRelativeTime:function(Te,X){return X-Te.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Te,X){return Te-X.adaptation.period.start+X.presentationTimeOffset},calcWallTimeForSegment:function(Te,X){var ge,ee,ve;return X&&(ge=Te.representation.adaptation.period.mpd.suggestedPresentationDelay,ee=Te.presentationStartTime+ge,ve=new Date(Te.availabilityStartTime.getTime()+1e3*ee)),ve},calcTimeShiftBufferWindow:function(Te,X){if(!X)return function(ee){var ve={start:NaN,end:NaN},S=0,q=NaN;return ee.forEach(function(B){var G=B.getStreamInfo();S+=G.duration,(isNaN(q)||G.start<q)&&(q=G.start)}),ve.start=q,ve.end=q+S,ve}(Te);if(w.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ge=F(Te);return W(ge.now,ge.range),ge.range}return function(ee){var ve={start:NaN,end:NaN};if(!ee||ee.length===0)return ve;var S=ee[0].getAdapter().getRegularPeriods()[0],q=J(new Date,S),B=S.mpd.timeShiftBufferDepth,G=isNaN(B)?0:q-B;if(ve.start=K(ee,G),ve.end=!isNaN(ve.start)&&q<ve.start?q:K(ee,q,!0),!isNaN(B)&&ve.end<q-B&&(ve.end=NaN),w.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var O=F(ee);if(O.range.end<ve.start)return M.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fa.LEVELS.WARNING,event:Fa.EVENTS.INVALID_DVR_WINDOW}),W(O.now,O.range),O.range}return ve}(Te)},reset:ye},c=ln(P).getInstance(),ye(),g}tg.__dashjs_factory_name="TimelineConverter";var pv=R.Z.getSingletonFactory(tg),Pu=v(4593),ks=v(6934);function Lu(g){return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Lu(g)}function xu(g,c){return xu=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h},xu(g,c)}function hv(g,c){return!c||Lu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Fs(g){return Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Fs(g)}var mv=function(g){(function(M,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),w&&xu(M,w)})(P,g);var c,h,b=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,w=Fs(c);if(h){var L=Fs(this).constructor;M=Reflect.construct(w,arguments,L)}else M=w.apply(this,arguments);return hv(this,M)});function P(){var M;return function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}(this,P),(M=b.call(this)).captionData=null,M.label=null,M.defaultTrack=!1,M.kind=null,M.isFragmented=!1,M.isEmbedded=!1,M.isTTML=null,M}return P}(Ou),yv=v(2295);function ng(){var g=0;function c(L){for(var H="",J=0;J<L.length;++J)H+=L[J].uchar;return H.length-H.replace(/^\s+/,"").length}function h(L){return"left: "+3.125*L.x+"%; top: "+6.66*L.y1+"%; width: "+(100-3.125*L.x)+"%; height: "+6.66*Math.max(L.y2-1-L.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function b(L){return L==="red"?"rgb(255, 0, 0)":L==="green"?"rgb(0, 255, 0)":L==="blue"?"rgb(0, 0, 255)":L==="cyan"?"rgb(0, 255, 255)":L==="magenta"?"rgb(255, 0, 255)":L==="yellow"?"rgb(255, 255, 0)":L==="white"?"rgb(255, 255, 255)":L==="black"?"rgb(0, 0, 0)":L}function P(L,H){var J=L.videoHeight/15;return H?"font-size: "+J+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(H.foreground?b(H.foreground):"rgb(255, 255, 255)")+"; font-style: "+(H.italics?"italic":"normal")+"; text-decoration: "+(H.underline?"underline":"none")+"; white-space: pre; background-color: "+(H.background?b(H.background):"transparent")+";":"font-size: "+J+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function M(L){return L.replace(/^\s+/g,"")}function w(L){return L.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(L,H,J,Q){var F,W,K=null,Ee=!1,fe=-1,ye={start:H,end:J,spans:[]},Te="style_cea608_white_black",X={},ge={},ee=[];for(F=0;F<15;++F){var ve=Q.rows[F],S="",q=null;if(ve.isEmpty()===!1){var B=c(ve.chars);K===null&&(K={x:B,y1:F,y2:F+1,p:[]}),B!==fe&&Ee&&(K.p.push(ye),ye={start:H,end:J,spans:[]},K.y2=F,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K={x:B,y1:F,y2:F+1,p:[]});for(var G=0;G<ve.chars.length;++G){var O=ve.chars[G],de=O.penState;if(q===null||!de.equals(q)){S.trim().length>0&&(ye.spans.push({name:Te,line:S,row:F}),S="");var ie="style_cea608_"+de.foreground+"_"+de.background;de.underline&&(ie+="_underline"),de.italics&&(ie+="_italics"),ge.hasOwnProperty(ie)||(ge[ie]=JSON.parse(JSON.stringify(de))),q=de,Te=ie}S+=O.uchar}S.trim().length>0&&ye.spans.push({name:Te,line:S,row:F}),Ee=!0,fe=B}else Ee=!1,fe=-1,K&&(K.p.push(ye),ye={start:H,end:J,spans:[]},K.y2=F,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null)}K&&(K.p.push(ye),K.y2=F+1,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null);var pe=[];for(F=0;F<ee.length;++F){var se=ee[F],V="sub_cea608_"+g++,le=document.createElement("div");le.id=V;var Ae=h(se);le.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Ae;var Ze=document.createElement("div");Ze.className="paragraph bodyStyle",Ze.style.cssText=P(L);var Oe=document.createElement("div");Oe.className="cueUniWrapper",Oe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Be=0;Be<se.p.length;++Be){var ke=se.p[Be],lt=0;for(W=0;W<ke.spans.length;++W){var ut=ke.spans[W];if(ut.line.length>0){if(W!==0&&lt!=ut.row){var rt=document.createElement("br");rt.className="lineBreak",Oe.appendChild(rt)}var it=!1;lt===ut.row&&(it=!0),lt=ut.row;var Ut=ge[ut.name],De=document.createElement("span");De.className="spanPadding "+ut.name+" customSpanColor",De.style.cssText=P(L,Ut),W!==0&&it?W===ke.spans.length-1?De.textContent=w(ut.line):De.textContent=ut.line:ke.spans.length>1&&W<ke.spans.length-1&&ut.row===ke.spans[W+1].row?De.textContent=M(ut.line):De.textContent=ut.line.trim(),Oe.appendChild(De)}}}Ze.appendChild(Oe),le.appendChild(Ze);var ze={bodyStyle:["%",90]};for(var mt in ge)ge.hasOwnProperty(mt)&&(ze[mt]=["%",90]);pe.push({type:"html",start:H,end:J,cueHTMLElement:le,cueID:V,cellResolution:[32,15],isFromCEA608:!0,fontSize:ze,lineHeight:{},linePadding:{}})}return pe}}}ng.__dashjs_factory_name="EmbeddedTextHtmlRender";var vv=R.Z.getSingletonFactory(ng);function rg(g){var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X=g.errHandler,ge=g.manifestModel,ee=g.mediaController,ve=g.videoModel,S=g.textTracks,q=g.vttParser,B=g.vttCustomRenderingParser,G=g.ttmlParser,O=g.streamInfo,de=g.settings,ie=this.context,pe=(0,_.Z)(ie).getInstance(),se=!1;function V(){w=null,H=NaN,J=[],Q=null,L=!1,M=[],P=null}function le(rt){var it=new mv;for(var Ut in rt)it[Ut]=rt[Ut];it.labels=rt.labels,it.defaultTrack=function(De){var ze=!1;return W.length>1&&De.isEmbedded?ze=De.id&&De.id===o.Z.CC1:W.length===1?De.id&&typeof De.id=="string"&&De.id.substring(0,2)==="CC"&&(ze=!0):W.length===0&&(ze=De.index===M[0].index),ze}(rt),it.isFragmented=rt.isFragmented,it.isEmbedded=!!rt.isEmbedded,it.isTTML=function(De){return De.codec&&De.codec.search(o.Z.STPP)>=0||De.mimeType&&De.mimeType.search(o.Z.TTML)>=0}(rt),it.kind=function(De,ze){var mt=De.roles&&De.roles.length>0?ze[De.roles[0]]:ze.caption;return mt=mt===ze.caption||mt===ze.subtitle?mt:ze.caption}(rt,{subtitle:"subtitles",caption:"captions"}),S.addTextTrack(it)}function Ae(rt){var it=rt.chunk;it.mediaInfo.embeddedCaptions&&Oe(it.bytes,it)}function Ze(rt){F=rt}function Oe(rt,it){var Ut=it.mediaInfo,De=Ut.type,ze=Ut.mimeType,mt=Ut.codec||ze;mt?Ut.codec.indexOf("application/mp4")!==-1?function(Xe,Tt,_t){var pt;if(Tt.segmentType==="InitializationSegment")L=!0,H=b.getMediaTimescaleFromMoov(Xe);else{if(!L)return;(pt=b.getSamplesInfo(Xe).sampleList).length>0&&(Q=pt[0].cts-Tt.start*H),_t.search(o.Z.STPP)>=0?function(Kt,Vt,pn){var yn,We;for(P=P!==null?P:lt(pn),yn=0;yn<Vt.length;yn++){var vt=Vt[yn],st=vt.cts,It=ke(),Pt=It+st/H,Xt=Pt+vt.duration/H;c.buffered.add(Pt,Xt);var Wt=new DataView(Kt,vt.offset,vt.subSizes[0]),Jt=ks.Utils.dataViewToString(Wt,o.Z.UTF8),sn=[],ht=vt.offset+vt.subSizes[0];for(We=1;We<vt.subSizes.length;We++){var kt=new Uint8Array(Kt,ht,vt.subSizes[We]),jt=String.fromCharCode.apply(null,kt);sn.push(jt),ht+=vt.subSizes[We]}try{var zt=ge.getValue().ttmlTimeIsRelative?st/H:0,Qt=P.parse(Jt,zt,st/H,(st+vt.duration)/H,sn);S.addCaptions(F,It,Qt)}catch(Qe){w.removeExecutedRequestsBeforeTime(),this.remove(),h.error("TTML parser error: "+Qe.message)}}}(Xe,pt,_t):function(Kt,Vt){var pn,yn,We,vt=[];for(pn=0;pn<Vt.length;pn++){var st=Vt[pn];st.cts-=Q;var It=ke()+st.cts/H,Pt=It+st.duration/H;c.buffered.add(It,Pt);var Xt=Kt.slice(st.offset,st.offset+st.size),Wt=ks.parseBuffer(Xt);for(yn=0;yn<Wt.boxes.length;yn++){var Jt=Wt.boxes[yn];if(h.debug("VTT box1: "+Jt.type),Jt.type!=="vtte"&&Jt.type==="vttc"){h.debug("VTT vttc boxes.length = "+Jt.boxes.length);var sn={styles:{}};for(We=0;We<Jt.boxes.length;We++){var ht=Jt.boxes[We];if(h.debug("VTT box2: "+ht.type),ht.type==="payl")sn.start=st.cts/H,sn.end=(st.cts+st.duration)/H,sn.data=ht.cue_text;else if(ht.type==="sttg"&&ht.settings&&ht.settings!=="")try{var kt=ht.settings.split(" ");sn.styles=q.getCaptionStyles(kt)}catch{}}sn&&sn.data&&(vt.push(sn),h.debug("VTT  ".concat(sn.start," - ").concat(sn.end," :  ").concat(sn.data)))}}}vt.length>0&&S.addCaptions(F,0,vt)}(Xe,pt)}}(rt,it,mt):De===o.Z.VIDEO?function(Xe,Tt){var _t,pt;if(Tt.segmentType===Pe.w.INIT_SEGMENT_TYPE)K===0&&(K=b.getMediaTimescaleFromMoov(Xe));else if(Tt.segmentType===Pe.w.MEDIA_SEGMENT_TYPE){if(K===0)return void h.warn("CEA-608: No timescale for embeddedTextTrack yet");var Kt=(pt=b.getSamplesInfo(Xe)).lastSequenceNumber,Vt=Math.trunc(Tt.start),pn=Math.trunc(Tt.end);if(ye[0]||ye[1]||function(){for(var It,Pt=0;Pt<W.length;Pt++){if((It=S.getTrackIdxForId(W[Pt].id))===-1)return void h.warn("CEA-608: data before track is ready.");var Xt=Be(It);ye[Pt]=new(A()).Cea608Parser(Pt+1,{newCue:Xt},null)}}(),K){if(function(It,Pt,Xt,Wt,Jt){return It!==null&&Pt!==null&&Wt!==null&&Jt!==null&&(Pt===It?Wt!==Jt:Pt!==It+Xt)}(Ee,Kt,pt.numSequences,fe,Vt))for(_t=0;_t<ye.length;_t++)ye[_t]&&ye[_t].reset();for(var yn=function(It,Pt){if(Pt.length===0)return null;for(var Xt={splits:[],fields:[[],[]]},Wt=new DataView(It),Jt=0;Jt<Pt.length;Jt++)for(var sn=Pt[Jt],ht=A().findCea608Nalus(Wt,sn.offset,sn.size),kt=null,jt=0,zt=0;zt<ht.length;zt++)for(var Qt=A().extractCea608DataFromRange(Wt,ht[zt]),Qe=0;Qe<2;Qe++)if(Qt[Qe].length>0){sn.cts!==kt?jt=0:jt+=1;var Ue=ke();Xt.fields[Qe].push([sn.cts+Ue*K,Qt[Qe],jt]),kt=sn.cts}return Xt.fields.forEach(function(ct){ct.sort(function(_e,Ie){return _e[0]===Ie[0]?_e[2]-Ie[2]:_e[0]-Ie[0]})}),Xt}(Xe,pt.sampleList),We=0;We<ye.length;We++){var vt=yn.fields[We],st=ye[We];if(st)for(_t=0;_t<vt.length;_t++)st.addData(vt[_t][0]/K,vt[_t][1])}Ee=Kt,fe=pn}}}(rt,it):function(Xe,Tt,_t){var pt,Kt,Vt=new DataView(Xe,0,Xe.byteLength);Kt=ks.Utils.dataViewToString(Vt,o.Z.UTF8);try{pt=lt(_t).parse(Kt,0),S.addCaptions(S.getCurrentTrackIdx(),0,pt),c.buffered&&c.buffered.add(Tt.start,Tt.end)}catch(pn){X.error(new ce.Z(oe.TIMED_TEXT_ERROR_ID_PARSE_CODE,oe.TIMED_TEXT_ERROR_MESSAGE_PARSE+pn.message,Kt))}}(rt,it,mt):h.error("No text type defined")}function Be(rt){return function(it,Ut,De){var ze;(ze=ve.getTTMLRenderingDiv()?Te.createHTMLCaptionsFromScreen(ve.getElement(),it,Ut,De):[{start:it,end:Ut,data:De.getDisplayText(),styles:{}}])&&S.addCaptions(rt,0,ze)}}function ke(){return isNaN(c.timestampOffset)?0:c.timestampOffset}function lt(rt){var it;return rt.search(o.Z.VTT)>=0?it=de.get().streaming.text.webvtt.customRenderingEnabled&&B?B:q:(rt.search(o.Z.TTML)>=0||rt.search(o.Z.STPP)>=0)&&(it=G),it}function ut(rt){W.forEach(function(it){var Ut=S.getTrackIdxForId(it.id);Ut>=0&&S.deleteCuesFromTrackIdx(Ut,rt.from,rt.to)})}return c={initialize:function(){se||(W=[],F=null,K=0,ye=[],Ee=null,fe=null,se=!0,Te=vv(ie).getInstance(),pe.on(f.Z.VIDEO_CHUNK_RECEIVED,Ae,c),pe.on(f.Z.BUFFER_CLEARED,ut,c))},addMediaInfos:function(rt,it,Ut){if(M=M.concat(it),rt===o.Z.TEXT&&it[0].isFragmented&&!it[0].isEmbedded){w=Ut,c.buffered=(0,yv.Z)(ie).create(),J=ee.getTracksFor(o.Z.TEXT,O.id).filter(function(Xe){return Xe.isFragmented});for(var De=ee.getCurrentTrackFor(o.Z.TEXT,O.id),ze=0;ze<J.length;ze++)if(J[ze]===De){Ze(ze);break}}for(var mt=0;mt<it.length;mt++)le(it[mt])},resetMediaInfos:function(){M=[]},getStreamId:function(){return O.id},append:Oe,abort:function(){},addEmbeddedTrack:function(rt){if(se&&rt)if(rt.id===o.Z.CC1||rt.id===o.Z.CC3){for(var it=0;it<W.length;it++)if(W[it].id===rt.id)return;W.push(rt)}else h.warn("Embedded track "+rt.id+" not supported!")},resetEmbedded:function(){pe.off(f.Z.VIDEO_CHUNK_RECEIVED,Ae,c),pe.off(f.Z.BUFFER_CLEARED,ut,c),S&&S.deleteAllTextTracks(),se=!1,W=[],ye=[null,null],Ee=null,fe=null},getConfig:function(){return{fragmentModel:w,fragmentedTracks:J,videoModel:ve}},setCurrentFragmentedTrackIdx:Ze,remove:function(rt,it){rt===void 0&&rt===it&&(rt=c.buffered.start(0),it=c.buffered.end(c.buffered.length-1)),c.buffered.remove(rt,it),S.deleteCuesFromTrackIdx(F,rt,it)},reset:function(){V(),M=[],b=null}},h=(0,m.Z)(ie).getInstance().getLogger(c),b=(0,Eo.Z)(ie).getInstance(),V(),c}rg.__dashjs_factory_name="TextSourceBuffer";var Ev=R.Z.getClassFactory(rg),ku=v(4403);function ig(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}var _v=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function ag(g){var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve=this.context,S=(0,_.Z)(ve).getInstance(),q=g.videoModel,B=g.streamInfo,G=g.settings;function O(We,vt,st,It,Pt,Xt){var Wt=0,Jt=0;We/vt>st/It?Wt=(Jt=vt)/It*st:Jt=(Wt=We)/st*It;var sn,ht,kt=0,jt=0;return Wt/Jt>Pt?(jt=Jt,kt=Jt*Pt):(kt=Wt,jt=Wt/Pt),sn=(We-kt)/2,ht=(vt-jt)/2,Xt?{x:sn+.1*kt,y:ht+.1*jt,w:.8*kt,h:.8*jt}:{x:sn,y:ht,w:kt,h:jt}}function de(We,vt){var st=q.getClientWidth(),It=q.getClientHeight(),Pt=q.getVideoWidth(),Xt=q.getVideoHeight(),Wt=q.getVideoRelativeOffsetTop(),Jt=q.getVideoRelativeOffsetLeft();if(Pt!==0&&Xt!==0){var sn=Pt/Xt,ht=!1;We.isFromCEA608&&(sn=1.1666666666666667,ht=!0);var kt=O.call(this,st,It,Pt,Xt,sn,ht),jt=kt.w,zt=kt.h,Qt=kt.x,Qe=kt.y;if(jt!=J||zt!=Q||Qt!=L||Qe!=H||vt){if(L=Qt+Jt,H=Qe+Wt,J=jt,Q=zt,F){var Ue=F.style;Ue&&(Ue.left=L+"px",Ue.top=H+"px",Ue.width=J+"px",Ue.height=Q+"px",Ue.zIndex=Ee&&document[Ee]||fe?Te:null,S.trigger(r.Z.CAPTION_CONTAINER_RESIZE))}var ct=We.activeCues;if(ct)for(var _e=ct.length,Ie=0;Ie<_e;++Ie){var et=ct[Ie];et.scaleCue(et)}}}}function ie(We){var vt,st,It,Pt,Xt,Wt=J,Jt=Q;if(We.cellResolution){var sn=[Wt/We.cellResolution[0],Jt/We.cellResolution[1]];if(We.linePadding){for(vt in We.linePadding)if(We.linePadding.hasOwnProperty(vt)){st=(We.linePadding[vt]*sn[0]).toString();for(var ht=document.getElementsByClassName("spanPadding"),kt=0;kt<ht.length;kt++)ht[kt].style.cssText=ht[kt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st),ht[kt].style.cssText=ht[kt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}}if(We.fontSize){for(vt in We.fontSize)if(We.fontSize.hasOwnProperty(vt)){We.fontSize[vt][0]==="%"?It=We.fontSize[vt][1]/100:We.fontSize[vt][0]==="c"&&(It=We.fontSize[vt][1]),st=(It*sn[1]).toString(),Xt=vt!=="defaultFontSize"?document.getElementsByClassName(vt):document.getElementsByClassName("paragraph");for(var jt=0;jt<Xt.length;jt++)Xt[jt].style.cssText=Xt[jt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}if(We.lineHeight){for(vt in We.lineHeight)if(We.lineHeight.hasOwnProperty(vt)){We.lineHeight[vt][0]==="%"?Pt=We.lineHeight[vt][1]/100:We.fontSize[vt][0]==="c"&&(Pt=We.lineHeight[vt][1]),st=(Pt*sn[1]).toString(),Xt=document.getElementsByClassName(vt);for(var zt=0;zt<Xt.length;zt++)Xt[zt].style.cssText=Xt[zt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}}}}if(We.isd){var Qt=document.getElementById(We.cueID);Qt&&F.removeChild(Qt),se(We)}}function pe(We,vt){var st=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,It=/^#(.*)$/;if(st.test(vt)){var Pt=st.exec(vt),Xt=parseInt(Pt[4],10)-1;return"data:image/png;base64,"+btoa(We.images[Xt])}if(It.test(vt)){var Wt=It.exec(vt)[1];return"data:image/png;base64,"+We.embeddedImages[Wt]}return vt}function se(We){if(F){yn.call(this);var vt=document.createElement("div");F.appendChild(vt),ye=(0,ku.renderHTML)(We.isd,vt,function(st){return pe(We,st)},F.clientHeight,F.clientWidth,G.get().streaming.text.imsc.displayForcedOnlyMode,function(st){h.info("renderCaption :",st)},ye,G.get().streaming.text.imsc.enableRollUp),vt.id=We.cueID,S.trigger(r.Z.CAPTION_RENDERED,{captionDiv:vt,currentTrackIdx:w})}}function V(We,vt){return!!vt&&vt.endTime>=We.startTime}function le(We,vt){return!!G.get().streaming.text.extendSegmentedCues&&!!function(st,It,Pt){for(var Xt=0;Xt<Pt.length;Xt++){var Wt=Pt[Xt];if(JSON.stringify(st[Wt])!==JSON.stringify(It[Wt]))return!1}return!0}(vt,We,_v)&&(vt.endTime=Math.max(vt.endTime,We.endTime),!0)}function Ae(We,vt){vt&&vt.forEach(function(st){st.kind&&st.kind==="image"&&(st.src=pe(We,st.src)),Ae(We,st.contents)})}function Ze(We,vt,st){var It=ze(We),Pt=G.get().streaming.text.dispatchForManualRendering;if(It&&Array.isArray(st)&&st.length!==0)for(var Xt=0;Xt<st.length;Xt++){var Wt=null,Jt=st[Xt];It.cellResolution=Jt.cellResolution,It.isFromCEA608=Jt.isFromCEA608,isNaN(Jt.start)||isNaN(Jt.end)||(Pt?Wt=Oe(Jt,vt):rt(Jt)&&F?Wt=lt(Jt,vt,It):Jt.data&&(Wt=ut(Jt,vt,It)));try{if(Wt){if(!Tt(It,Wt))if(G.get().streaming.text.webvtt.customRenderingEnabled)It.manualCueList||(It.manualCueList=[]),It.manualCueList.push(Wt);else{var sn=void 0;It.cues&&It.cues.length!==0&&(sn=It.cues[It.cues.length-1]),V(Wt,sn)?le(Wt,sn)||(sn.isd&&(sn.onexit=function(){}),It.mode!==o.Z.TEXT_DISABLED&&It.addCue(Wt)):It.mode!==o.Z.TEXT_DISABLED&&It.addCue(Wt)}var ht=G.get().streaming.buffer.bufferToKeep;pt(It,0,q.getTime()-ht)}else h.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(kt){throw Kt(It),It.addCue(Wt),kt}}}function Oe(We,vt){var st=it(We,vt);return st.onenter=function(){rt(We)&&ee&&ee.cueID!==st.cueID&&ke(ee),delete st.type,ee=st,Be(st)},st.onexit=function(){ke(st),ee=null},st}function Be(We){S.trigger(r.Z.CUE_ENTER,We)}function ke(We){S.trigger(r.Z.CUE_EXIT,{cueID:We.cueID})}function lt(We,vt,st){var It=this,Pt=it(We,vt);return F.style.left=L+"px",F.style.top=H+"px",F.style.width=J+"px",F.style.height=Q+"px",Pt.onenter=function(){var Xt=this;st.mode===o.Z.TEXT_SHOWING&&(this.isd?(ge?requestAnimationFrame(function(){return se(Xt)}):se(this),h.debug("Cue enter id:"+this.cueID)):(F.appendChild(this.cueHTMLElement),ie.call(It,this),S.trigger(r.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:w})))},Pt.onexit=function(){if(F)for(var Xt=F.childNodes,Wt=0;Wt<Xt.length;++Wt)Xt[Wt].id===this.cueID&&(h.debug("Cue exit id:"+Xt[Wt].id),F.removeChild(Xt[Wt]),--Wt)},Pt}function ut(We,vt,st){var It=it(We,vt);if(It.isActive=!1,We.styles)try{We.styles.align!==void 0&&"align"in It&&(It.align=We.styles.align),We.styles.line!==void 0&&"line"in It&&(It.line=We.styles.line),We.styles.snapToLines!==void 0&&"snapToLines"in It&&(It.snapToLines=We.styles.snapToLines),We.styles.position!==void 0&&"position"in It&&(It.position=We.styles.position),We.styles.size!==void 0&&"size"in It&&(It.size=We.styles.size)}catch(Pt){h.error(Pt)}return It.onenter=function(){st.mode===o.Z.TEXT_SHOWING&&S.trigger(r.Z.CAPTION_RENDERED,{currentTrackIdx:w})},It}function rt(We){return We.type==="html"}function it(We,vt){return rt(We)?function(st,It){var Pt=new b(st.start+It,st.end+It,"");return Pt.cueHTMLElement=st.cueHTMLElement,Pt.isd=st.isd,Pt.images=st.images,Pt.embeddedImages=st.embeddedImages,Pt.cueID=st.cueID,Pt.scaleCue=ie.bind(self),Pt.cellResolution=st.cellResolution,Pt.lineHeight=st.lineHeight,Pt.linePadding=st.linePadding,Pt.fontSize=st.fontSize,Pt.isd&&Ae(Pt,Pt.isd.contents),Pt}(We,vt):function(st,It){var Pt=new b(st.start-It,st.end-It,st.data);return Pt.cueID="".concat(Pt.startTime,"_").concat(Pt.endTime),Pt}(We,vt)}function Ut(We){if(W)for(var vt=W.childNodes,st=0;st<vt.length;++st)vt[st].id===We.cueID&&(W.removeChild(vt[st]),--st)}function De(){var We,vt=[],st=function(Pt,Xt){var Wt;if(typeof Symbol>"u"||Pt[Symbol.iterator]==null){if(Array.isArray(Pt)||(Wt=function(zt,Qt){if(zt){if(typeof zt=="string")return ig(zt,Qt);var Qe=Object.prototype.toString.call(zt).slice(8,-1);return Qe==="Object"&&zt.constructor&&(Qe=zt.constructor.name),Qe==="Map"||Qe==="Set"?Array.from(zt):Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe)?ig(zt,Qt):void 0}}(Pt))||Xt){Wt&&(Pt=Wt);var Jt=0,sn=function(){};return{s:sn,n:function(){return Jt>=Pt.length?{done:!0}:{done:!1,value:Pt[Jt++]}},e:function(zt){throw zt},f:sn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,kt=!0,jt=!1;return{s:function(){Wt=Pt[Symbol.iterator]()},n:function(){var zt=Wt.next();return kt=zt.done,zt},e:function(zt){jt=!0,ht=zt},f:function(){try{kt||Wt.return==null||Wt.return()}finally{if(jt)throw ht}}}}(q.getTextTracks());try{for(st.s();!(We=st.n()).done;){var It=We.value;It.manualMode===o.Z.TEXT_SHOWING&&vt.push(It)}}catch(Pt){st.e(Pt)}finally{st.f()}return vt}function ze(We){return We>=0&&P[We]?q.getTextTrack(P[We].kind,P[We].id,P[We].lang,P[We].isTTML,P[We].isEmbedded):null}function mt(We){var vt=this;if(We!==w){var st=ze(w=We);Xe.call(this,st),K&&(clearInterval(K),K=null),st&&st.renderingType==="html"&&(de.call(this,st,!0),window.ResizeObserver?(X=new window.ResizeObserver(function(){de.call(vt,st,!0)})).observe(q.getElement()):K=setInterval(de.bind(this,st),500))}}function Xe(We){yn.call(this),We&&We.renderingType==="html"?Vt.call(this):pn.call(this)}function Tt(We,vt){if(!We.cues)return!1;for(var st=0;st<We.cues.length;st++)if(We.cues[st].startTime===vt.startTime&&We.cues[st].endTime===vt.endTime)return!0;return!1}function _t(We,vt,st){var It=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!We&&(isNaN(vt)||(It?We.startTime:We.endTime)>=vt)&&(isNaN(st)||(It?We.endTime:We.startTime)<=st)}function pt(We,vt,st){var It,Pt;if(!(st<vt)&&We&&(We.cues||We.manualCueList)){var Xt=We.cues&&We.cues.length>0?"native":"custom",Wt=Xt==="native"?We.cues:We.manualCueList;if(!Wt||Wt.length===0)return;for(var Jt=Wt.length-1;Jt>=0;Jt--)!_t(Wt[Jt],vt,st,!0)||(It=Wt[Jt],Pt=q.getTime(),It.startTime>=Pt&&It.endTime<=Pt)||(Xt==="native"?We.removeCue(Wt[Jt]):(Ut(Wt[Jt]),delete We.manualCueList[Jt]))}}function Kt(We,vt,st){var It=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(We&&(We.cues||We.manualCueList)){var Pt=We.cues&&We.cues.length>0?"native":"custom",Xt=Pt==="native"?We.cues:We.manualCueList;if(!Xt||Xt.length===0)return;for(var Wt=Xt.length-1,Jt=Wt;Jt>=0;Jt--)_t(Xt[Jt],vt,st,It)&&(Pt==="native"?(Xt[Jt].onexit&&Xt[Jt].onexit(),We.removeCue(Xt[Jt])):(Ut(Xt[Jt]),delete We.manualCueList[Jt]))}}function Vt(){var We=document.getElementById("native-cue-style");if(!We){(We=document.createElement("style")).id="native-cue-style",document.head.appendChild(We);var vt=We.sheet,st=q.getElement();try{st&&(st.id?vt.insertRule("#"+st.id+"::cue {background: transparent}",0):st.classList.length!==0?vt.insertRule("."+st.className+"::cue {background: transparent}",0):vt.insertRule("video::cue {background: transparent}",0))}catch(It){h.info(""+It.message)}}}function pn(){var We=document.getElementById("native-cue-style");We&&document.head.removeChild(We)}function yn(){if(F)for(;F.firstChild;)F.removeChild(F.firstChild)}return c={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(b=window.VTTCue||window.TextTrackCue,P=[],M=[],w=-1,L=0,H=0,J=0,Q=0,F=null,W=null,K=null,fe=!1,Te=2147483647,ye=null,ge="requestAnimationFrame"in window,document.fullscreenElement!==void 0?Ee="fullscreenElement":document.webkitIsFullScreen!==void 0?Ee="webkitIsFullScreen":document.msFullscreenElement?Ee="msFullscreenElement":document.mozFullScreen&&(Ee="mozFullScreen"))},getStreamId:function(){return B.id},addTextTrack:function(We){P.push(We)},addCaptions:Ze,createTracks:function(){var We=G.get().streaming.text.dispatchForManualRendering;P.sort(function(Qt,Qe){return Qt.index-Qe.index}),F=q.getTTMLRenderingDiv(),W=q.getVttRenderingDiv();for(var vt,st,It,Pt,Xt,Wt,Jt=-1,sn=0;sn<P.length;sn++){var ht=(st=(vt=P[sn]).kind,It=vt.id!==void 0?vt.id:vt.lang,Pt=vt.lang,Xt=vt.isTTML,Wt=vt.isEmbedded,q.addTextTrack(st,It,Pt,Xt,Wt));M.push(ht),P[sn].defaultTrack&&(ht.default=!0,Jt=sn);var kt=ze(sn);kt&&(kt.mode=o.Z.TEXT_SHOWING,F&&(P[sn].isTTML||P[sn].isEmbedded)?kt.renderingType="html":kt.renderingType="default"),Ze(sn,0,P[sn].captionData),S.trigger(r.Z.TEXT_TRACK_ADDED)}if(mt.call(this,Jt),Jt>=0){S.on(r.Z.PLAYBACK_METADATA_LOADED,function Qt(){var Qe=ze(Jt);Qe&&Qe.renderingType==="html"&&de.call(this,Qe,!0),S.off(r.Z.PLAYBACK_METADATA_LOADED,Qt,this)},this);for(var jt=0;jt<P.length;jt++){var zt=ze(jt);zt&&(zt.mode=jt!==Jt||We?o.Z.TEXT_HIDDEN:o.Z.TEXT_SHOWING,zt.manualMode=jt===Jt?o.Z.TEXT_SHOWING:o.Z.TEXT_HIDDEN)}}S.trigger(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:w,tracks:P,streamId:B.id})},getCurrentTrackIdx:function(){return w},setCurrentTrackIdx:mt,getTrackIdxForId:function(We){for(var vt=-1,st=0;st<P.length;st++)if(P[st].id===We){vt=st;break}return vt},getCurrentTrackInfo:function(){return P[w]},setModeForTrackIdx:function(We,vt){var st=ze(We);st&&st.mode!==vt&&(st.mode=vt),st&&st.manualMode!==vt&&(st.manualMode=vt)},deleteCuesFromTrackIdx:function(We,vt,st){var It=ze(We);It&&Kt(It,vt,st)},deleteAllTextTracks:function(){for(var We=M?M.length:0,vt=0;vt<We;vt++){var st=ze(vt);st&&Kt.call(this,st,B.start,B.start+B.duration,!1)}M=[],P=[],K&&(clearInterval(K),K=null),X&&q&&(X.unobserve(q.getElement()),X=null),w=-1,yn.call(this)},manualCueProcessing:function(We){var vt=De();if(vt&&vt.length>0){var st=vt[0].manualCueList;st&&st.length>0&&st.forEach(function(It){It.startTime<=We&&It.endTime>=We&&!It.isActive?(It.isActive=!0,G.get().streaming.text.dispatchForManualRendering?Be(It):WebVTT.processCues(window,[It],W,It.cueID)):It.isActive&&(It.startTime>We||It.endTime<We)&&(It.isActive=!1,G.get().streaming.text.dispatchForManualRendering?ke(It):Ut(It))})}},disableManualTracks:function(){var We=De();if(We&&We.length>0){var vt=We[0].manualCueList;vt&&vt.length>0&&vt.forEach(function(st){if(st.isActive){if(st.isActive=!1,G.get().streaming.text.dispatchForManualRendering)ke(st);else if(W)for(var It=W.childNodes,Pt=0;Pt<It.length;++Pt)It[Pt].id===st.cueID&&(W.removeChild(It[Pt]),--Pt)}})}}},h=(0,m.Z)(ve).getInstance().getLogger(c),c}ag.__dashjs_factory_name="TextTracks";var Tv=R.Z.getClassFactory(ag);function og(){var g,c,h,b,P,M,w=this.context;function L(F){var W=F.split(":"),K=W.length-1;return F=60*parseInt(W[K-1],10)+parseFloat(W[K]),K===2&&(F+=3600*parseInt(W[0],10)),F}function H(F){var W=F.split(b),K=W[1].split(M);return K.shift(),W[1]=K[0],K.shift(),{cuePoints:W,styles:J(K)}}function J(F){var W={};return F.forEach(function(K){if(K.split(/:/).length>1){var Ee=K.split(/:/)[1],fe=!1;Ee&&Ee.search(/%/)!=-1&&(fe=!0,Ee=parseInt(Ee.replace(/%/,""),10)),(K.match(/align/)||K.match(/A/))&&(W.align=Ee),(K.match(/line/)||K.match(/L/))&&(W.line=Ee==="auto"?Ee:parseInt(Ee,10),fe&&(W.snapToLines=!1)),(K.match(/position/)||K.match(/P/))&&(W.position=Ee),(K.match(/size/)||K.match(/S/))&&(W.size=Ee)}}),W}function Q(F,W){for(var K,Ee=W,fe="",ye="";F[Ee]!==""&&Ee<F.length;)Ee++;if((K=Ee-W)>1)for(var Te=0;Te<K;Te++){if((ye=F[W+Te]).match(b)){fe="";break}fe+=ye,Te!==K-1&&(fe+=`
`)}else(ye=F[W]).match(b)||(fe=ye);return fe}return g={parse:function(F){var W,K,Ee=[];if(!F)return Ee;W=(F=F.split(h)).length,K=-1;for(var fe=0;fe<W;fe++){var ye=F[fe];if(ye.length>0&&ye!=="WEBVTT"&&ye.match(b)){var Te=H(ye),X=Te.cuePoints,ge=Te.styles,ee=Q(F,fe+1),ve=L(X[0].replace(P,"")),S=L(X[1].replace(P,""));!isNaN(ve)&&!isNaN(S)&&ve>=K&&S>ve?ee!==""?(K=ve,Ee.push({start:ve,end:S,data:ee,styles:ge})):c.error("Skipping cue due to empty/malformed cue text"):c.error("Skipping cue due to incorrect cue timing")}}return Ee},getCaptionStyles:J},c=(0,m.Z)(w).getInstance().getLogger(g),h=/(?:\r\n|\r|\n)/gm,b=/-->/,P=/(^[\s]+|[\s]+$)/g,M=/\s\b/g,g}og.__dashjs_factory_name="VTTParser";var Sv=R.Z.getSingletonFactory(og);function sg(){var g,c;return g={parse:function(h){var b=[];return c.oncue=function(P){P.start=P.startTime,P.end=P.endTime,P.data=P.text,P.styles={align:P.align,line:P.line,position:P.position,size:P.size},b.push(P)},c.parse(h),b}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(c=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),g}sg.__dashjs_factory_name="VttCustomRenderingParser";var Av=R.Z.getSingletonFactory(sg);function lg(){var g,c,h=this.context,b=(0,_.Z)(h).getInstance(),P=0;return g={parse:function(M,w,L,H,J){var Q,F,W,K="",Ee=[],fe={},ye={},Te="",X="",ge={onOpenTag:function(B,G,O){if(O[" imagetype"]&&!O[" imageType"]&&(b.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fa.LEVELS.ERROR,event:Fa.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),O[" imageType"]=O[" imagetype"]),G==="image"&&(B==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||B==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!O[" imageType"]||O[" imageType"].value!=="PNG")return void c.warn("smpte-tt imageType != PNG. Discarded");Te=O["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Te&&(ye[Te]=X.trim()),X="",Te=""},onText:function(B){Te&&(X+=B)}};if(!M)throw K="no ttml data to parse",new Error(K);fe.data=M,b.trigger(f.Z.TTML_TO_PARSE,fe);var ee=(0,ku.fromXML)(fe.data,function(B){K=B},ge);b.trigger(f.Z.TTML_PARSED,{ttmlString:fe.data,ttmlDoc:ee});var ve,S=ee.getMediaTimeEvents();for(W=0;W<S.length;W++){var q=(0,ku.generateISD)(ee,S[W],function(B){K=B});q.contents.some(function(B){return B.contents.length})&&(Q=S[W]+w)<(F=S[W+1]+w)&&Ee.push({start:Q,end:F,type:"html",cueID:(ve="cue_TTML_"+P,P++,ve),isd:q,images:J,embeddedImages:ye})}if(K!=="")throw c.error(K),new Error(K);return Ee}},c=(0,m.Z)(h).getInstance().getLogger(g),g}lg.__dashjs_factory_name="TTMLParser";var wv=R.Z.getSingletonFactory(lg);function ug(g,c){var h=Object.keys(g);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(g);c&&(b=b.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),h.push.apply(h,b)}return h}function cg(g){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?ug(Object(h),!0).forEach(function(b){bv(g,b,h[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):ug(Object(h)).forEach(function(b){Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(h,b))})}return g}function bv(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function fg(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,b=new Array(c);h<c;h++)b[h]=g[h];return b}function dg(g){var c,h,b,P=this.context,M=(0,_.Z)(P).getInstance(),w=(0,nt.Z)(P).getInstance(),L=g.adapter,H=g.baseURLController;function J(W,K){var Ee,fe,ye=!1;if(H.resolve()){var Te=L.getVoRepresentations(W);Te&&Te.length>0&&(Ee=H.resolve(Te[0].path).url)}var X=W.essentialPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===o.Z.FONT_DOWNLOAD_DVB_SCHEME}),ge=W.supplementalPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===o.Z.FONT_DOWNLOAD_DVB_SCHEME});X.length>0?(ye=!0,fe=X):fe=ge,fe.forEach(function(ee){if(function(B){return!(!(B.value&&B.value==="1"&&B.dvbUrl&&B.dvbUrl.length>0&&B.dvbFontFamily&&B.dvbFontFamily.length>0&&B.dvbMimeType)||B.dvbMimeType!==o.Z.OFF_MIMETYPE&&B.dvbMimeType!==o.Z.WOFF_MIMETYPE)}(ee)){var ve=(S=ee.dvbUrl,q=Ee,w.isPathAbsolute(S)?S:w.isRelative(S)?q?w.resolve(S,q):w.resolve(S):S);b.push({fontFamily:ee.dvbFontFamily,url:ve,mimeType:ee.dvbMimeType,trackId:W.id,streamId:K,isEssential:ye,status:"unloaded",fontFace:new FontFace(ee.dvbFontFamily,"url(".concat(ve,")"),{display:"swap"})})}var S,q})}function Q(W,K){var Ee=b[W];b[W]=cg(cg({},Ee),{},{status:K})}function F(){b=[]}return c={addFontsFromTracks:function(W,K){if(W&&Array.isArray(W)&&K)for(var Ee=0;Ee<W.length;Ee++)J(W[Ee],K)},downloadFonts:function(){for(var W=function(Ee){var fe=b[Ee];document.fonts.add(fe.fontFace),M.trigger(r.Z.DVB_FONT_DOWNLOAD_ADDED,fe),fe.fontFace.load().then(function(){Q(Ee,"loaded"),M.trigger(r.Z.DVB_FONT_DOWNLOAD_COMPLETE,fe)},function(ye){Q(Ee,"error"),h.debug("Font download error: ",ye),M.trigger(r.Z.DVB_FONT_DOWNLOAD_FAILED,fe)})},K=0;K<b.length;K++)W(K)},getFonts:function(){return b},getFontsForTrackId:function(W){return b.filter(function(K){return K.trackId&&K.trackId===W})},reset:function(){(function(){var W,K=function(ye,Te){var X;if(typeof Symbol>"u"||ye[Symbol.iterator]==null){if(Array.isArray(ye)||(X=function(B,G){if(B){if(typeof B=="string")return fg(B,G);var O=Object.prototype.toString.call(B).slice(8,-1);return O==="Object"&&B.constructor&&(O=B.constructor.name),O==="Map"||O==="Set"?Array.from(B):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?fg(B,G):void 0}}(ye))||Te){X&&(ye=X);var ge=0,ee=function(){};return{s:ee,n:function(){return ge>=ye.length?{done:!0}:{done:!1,value:ye[ge++]}},e:function(B){throw B},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ve,S=!0,q=!1;return{s:function(){X=ye[Symbol.iterator]()},n:function(){var B=X.next();return S=B.done,B},e:function(B){q=!0,ve=B},f:function(){try{S||X.return==null||X.return()}finally{if(q)throw ve}}}}(b);try{for(K.s();!(W=K.n()).done;){var Ee=W.value,fe=document.fonts.delete(Ee.fontFace);h.debug("Removal of fontFamily: ".concat(Ee.fontFamily," was ").concat(fe?"successful":"unsuccessful"))}}catch(ye){K.e(ye)}finally{K.f()}})(),F()}},h=(0,m.Z)(P).getInstance().getLogger(c),F(),c}dg.__dashjs_factory_name="DVBFonts";var Iv=R.Z.getClassFactory(dg);function gg(g){var c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe=this.context,ye=g.adapter,Te=g.errHandler,X=g.manifestModel,ge=g.mediaController,ee=g.baseURLController,ve=g.videoModel,S=g.settings;function q(le){if(Ee.error("Could not download ".concat(le.isEssential?"an essential":"a"," font - fontFamily: ").concat(le.fontFamily,", url: ").concat(le.url)),le.isEssential){var Ae=P[le.streamId].getTrackIdxForId(le.trackId);P[le.streamId].setModeForTrackIdx(Ae,o.Z.TEXT_DISABLED)}}function B(le){if(Ee.debug("Successfully downloaded ".concat(le.isEssential?"an essential":"a"," font - fontFamily: ").concat(le.fontFamily,", url: ").concat(le.url)),le.isEssential){var Ae=P[le.streamId].getTrackIdxForId(le.trackId);Ae===P[le.streamId].getCurrentTrackIdx()?P[le.streamId].setModeForTrackIdx(Ae,o.Z.TEXT_SHOWING):P[le.streamId].setModeForTrackIdx(Ae,o.Z.TEXT_HIDDEN)}}function G(le){var Ae=le.tracks,Ze=le.index,Oe=le.streamId;if(S.get().streaming.text.defaultEnabled===!1&&!ie()||W)pe(Oe,-1);else{var Be=ge.getCurrentTrackFor(o.Z.TEXT,Oe);if(Be){var ke={lang:Be.lang,role:Be.roles[0],index:Be.index,codec:Be.codec,accessibility:Be.accessibility[0]};Ae.some(function(lt,ut){if(ge.matchSettings(ke,lt))return pe(Oe,ut),Ze=ut,!0})}J=!1}h[Oe].lastEnabledIndex=Ze,H.trigger(r.Z.TEXT_TRACKS_ADDED,{enabled:ie(),index:Ze,tracks:Ae,streamId:Oe}),F=!0,K.addFontsFromTracks(Ae,Oe),K.getFonts().forEach(function(lt){if(lt.isEssential){var ut=P[lt.streamId].getTrackIdxForId(lt.trackId);P[lt.streamId].setModeForTrackIdx(ut,o.Z.TEXT_DISABLED)}}),K.downloadFonts()}function O(le){try{var Ae=le.streamId;if(!P[Ae]||isNaN(le.time))return;P[Ae].manualCueProcessing(le.time)}catch{}}function de(le){try{var Ae=le.streamId;if(!P[Ae])return;P[Ae].disableManualTracks()}catch{}}function ie(){var le=!0;return J&&!Q&&(le=!1),le}function pe(le,Ae){(J=Ae===-1)&&ge&&ge.saveTextSettingsDisabled();var Ze=se(le);if(Ze!==Ae&&P[le]){P[le].disableManualTracks();var Oe=P[le].getCurrentTrackInfo(),Be=Oe?ve.getTextTrack(Oe.kind,Oe.id,Oe.lang,Oe.isTTML,Oe.isEmbedded):null;Be&&Be.mode!==o.Z.TEXT_DISABLED&&P[le].setModeForTrackIdx(Ze,o.Z.TEXT_HIDDEN),P[le].setCurrentTrackIdx(Ae),Oe=P[le].getCurrentTrackInfo();var ke=S.get().streaming.text.dispatchForManualRendering;Oe&&!ke&&Oe.mode!==o.Z.TEXT_DISABLED&&P[le].setModeForTrackIdx(Ae,o.Z.TEXT_SHOWING),Oe&&Oe.isFragmented&&!Oe.isEmbedded?function(lt,ut,rt){if(b[lt])for(var it=b[lt].getConfig().fragmentedTracks,Ut=0;Ut<it.length;Ut++){var De=it[Ut];if(ut.lang===De.lang&&(De.id?ut.id===De.id:ut.index===De.index)){var ze=ge.getCurrentTrackFor(o.Z.TEXT,lt);(De.id?ze.id!==De.id:ze.index!==De.index)?(P[lt].deleteCuesFromTrackIdx(rt),b[lt].setCurrentFragmentedTrackIdx(Ut)):rt===-1&&H.trigger(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:lt,mediaType:o.Z.TEXT})}}}(le,Oe,Ze):Oe&&!Oe.isFragmented&&function(lt,ut){H.trigger(f.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ut},{streamId:lt,mediaType:o.Z.TEXT})}(le,Oe),ge.setTrack(Oe)}}function se(le){return P[le].getCurrentTrackIdx()}function V(){b={},P={},h={},J=!0,F=!1,W=!1}return c={deactivateStream:function(le){if(le){var Ae=le.id;b[Ae]&&b[Ae].resetMediaInfos(),P[Ae]&&P[Ae].deleteAllTextTracks()}},initialize:function(){K=Iv(fe).create({adapter:ye,baseURLController:ee}),H.on(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,G,c),H.on(f.Z.DVB_FONT_DOWNLOAD_FAILED,q,c),H.on(f.Z.DVB_FONT_DOWNLOAD_COMPLETE,B,c),S.get().streaming.text.webvtt.customRenderingEnabled&&(H.on(f.Z.PLAYBACK_TIME_UPDATED,O,c),H.on(f.Z.PLAYBACK_SEEKING,de,c))},initializeForStream:function(le){var Ae=le.id,Ze=Tv(fe).create({videoModel:ve,settings:S,streamInfo:le});Ze.initialize(),P[Ae]=Ze;var Oe=Ev(fe).create({errHandler:Te,adapter:ye,dvbFonts:K,manifestModel:X,mediaController:ge,videoModel:ve,textTracks:Ze,vttParser:M,vttCustomRenderingParser:w,ttmlParser:L,streamInfo:le,settings:S});Oe.initialize(),b[Ae]=Oe,h[Ae]={},h[Ae].lastEnabledIndex=-1},createTracks:function(le){var Ae=le.id;P[Ae]&&P[Ae].createTracks()},getTextSourceBuffer:function(le){var Ae=le.id;if(b&&b[Ae])return b[Ae]},getAllTracksAreDisabled:function(){return J},addEmbeddedTrack:function(le,Ae){var Ze=le.id;b[Ze]&&b[Ze].addEmbeddedTrack(Ae)},enableText:function(le,Ae){return(0,ae.PS)(Ae,"boolean"),ie()!==Ae&&(Ae&&pe(le,h[le].lastEnabledIndex),Ae||(h[le].lastEnabledIndex=se(le),F?pe(le,-1):W=!0)),!0},isTextEnabled:ie,setTextTrack:pe,getCurrentTrackIdx:se,enableForcedTextStreaming:function(le){return(0,ae.PS)(le,"boolean"),Q=le,!0},addMediaInfosToBuffer:function(le,Ae,Ze){var Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Be=le.id;b[Be]&&b[Be].addMediaInfos(Ae,Ze,Oe)},reset:function(){K.reset(),V(),H.off(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,G,c),H.off(f.Z.DVB_FONT_DOWNLOAD_FAILED,q,c),H.off(f.Z.DVB_FONT_DOWNLOAD_COMPLETE,B,c),S.get().streaming.text.webvtt.customRenderingEnabled&&(H.off(f.Z.PLAYBACK_TIME_UPDATED,O,c),H.off(f.Z.PLAYBACK_SEEKING,de,c)),Object.keys(b).forEach(function(le){b[le].resetEmbedded(),b[le].reset()})}},Q=!1,F=!1,W=!1,M=Sv(fe).getInstance(),w=Av(fe).getInstance(),L=wv(fe).getInstance(),H=(0,_.Z)(fe).getInstance(),Ee=(0,m.Z)(fe).getInstance().getLogger(c),V(),c}gg.__dashjs_factory_name="TextController";var Rv=R.Z.getClassFactory(gg);function Fu(){var g,c,h,b,P,M,w,L,H,J,Q,F,W,K,Ee,fe,ye,Te,X,ge,ee,ve,S,q,B,G,O,de,ie,pe,se,V,le,Ae,Ze,Oe,Be,ke,lt,ut="You must first call initialize() and set a source before calling this method",rt="You must first call initialize() and set a valid source and view before calling this method",it="You must first call attachView() to set the video element before calling this method",Ut="You must first call attachSource() with a valid source before calling this method",De="MediaPlayer not initialized!",ze=this.context,mt=(0,_.Z)(ze).getInstance(),Xe=(0,be.Z)(ze).getInstance(),Tt=(0,m.Z)(ze).getInstance({settings:Xe});function _t(){sn(null),Wt(null),b=null,K&&(K.reset(),K=null),Ee&&(Ee.reset(),Ee=null),ge&&ge.reset(),Xe.reset(),ye&&(ye.reset(),ye=null)}function pt(){return!!h&&!!Oe.getElement()}function Kt(){return(0,jy.e)()}function Vt(){if(!w)throw rt;return de.isPaused()}function pn(){if(!w)throw rt;return de.getIsDynamic()}function yn(_e){var Ie=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,et=V.getCurrentDVRInfo(Ie);if(!et)return 0;var Nt=de.getOriginalLiveDelay(),Lt=et.range.start+_e;return Lt>et.range.end-Nt&&(Lt=et.range.end-Nt),Lt}function We(_e){if(!w)throw rt;var Ie=Xt().currentTime;if(_e!==void 0)Ie=B.getTimeRelativeToStreamId(Ie,_e);else if(de.getIsDynamic()){var et=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Nt=V.getCurrentDVRInfo(et);Ie=Nt===null||Ie===0?0:Math.max(0,Ie-Nt.range.start)}return Ie}function vt(){if(!w)throw rt;var _e=Xt().duration;if(de.getIsDynamic()){var Ie=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,et=V.getCurrentDVRInfo(Ie);_e=et?et.range.end-et.range.start:0}return _e}function st(_e){(0,ae.PS)(_e,"boolean"),L=_e}function It(){ge.restoreDefaultUTCTimingSources()}function Pt(){return V}function Xt(){if(!Oe.getElement())throw it;return Oe.getElement()}function Wt(_e){if(!P)throw De;Oe.setElement(_e),_e&&(Qt(),function(){if(!Ee){var Ie=dashjs.MetricsReporting;if(typeof Ie=="function"){var et=Ie(ze).create();Ee=et.createMetricsReporting({debug:Tt,eventBus:mt,mediaElement:Xt(),adapter:Te,dashMetrics:V,mediaPlayerModel:X,events:f.Z,constants:o.Z,metricsConstants:E.Z})}}}(),function(){if(!fe){var Ie=dashjs.MssHandler;typeof Ie=="function"&&(oe.extend(Ie.errors),fe=Ie(ze).create({eventBus:mt,mediaPlayerModel:X,dashMetrics:V,manifestModel:le,playbackController:de,streamController:B,protectionController:K,baseURLController:ve,errHandler:ee,events:f.Z,constants:o.Z,debug:Tt,initSegmentType:Pe.w.INIT_SEGMENT_TYPE,BASE64:Pu,ISOBoxer:ks,settings:Xe}))}}(),B&&B.switchToVideoElement(H)),w&&kt(),ct(H)}function Jt(_e){if(!M)throw ut;var Ie=B.getActiveStreamInfo();return Ie?W.getTracksFor(_e,Ie.id):[]}function sn(_e){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!P)throw De;typeof _e=="string"&&Be.initialize(_e),Ie==null&&(Ie=NaN),isNaN(Ie)||(Ie=Math.max(0,Ie)),H=Ie,h=_e,(M||w)&&kt(),pt()&&ct(H)}function ht(){if(!M)throw ut;var _e=B.getActiveStreamInfo();return _e?B.getStreamById(_e.id):null}function kt(){w=!1,M=!1,Te.reset(),B.reset(),O.reset(),se.reset(),de.reset(),ie.reset(),pe.reset(),J.reset(),W.reset(),lt.reset(),K&&(Xe.get().streaming.protection.keepProtectionMediaKeys?K.stop():(K.reset(),K=null,Qt())),G.reset(),Ae.reset(),Ze.reset()}function jt(){var _e=zt();B||(B=nd(ze).getInstance()),G||(G=Rv(ze).create({errHandler:ee,manifestModel:le,adapter:Te,mediaController:W,baseURLController:ve,videoModel:Oe,settings:Xe})),q.setConfig({capabilities:S,customParametersModel:ge,adapter:Te,settings:Xe,manifestModel:le,errHandler:ee}),B.setConfig({capabilities:S,capabilitiesFilter:q,manifestLoader:_e,manifestModel:le,mediaPlayerModel:X,customParametersModel:ge,protectionController:K,textController:G,adapter:Te,dashMetrics:V,errHandler:ee,timelineConverter:F,videoModel:Oe,playbackController:de,serviceDescriptionController:ie,contentSteeringController:pe,abrController:J,mediaController:W,settings:Xe,baseURLController:ve,uriFragmentModel:Be,segmentBaseController:lt}),O.setConfig({settings:Xe,playbackController:de,streamController:B,videoModel:Oe,timelineConverter:F,adapter:Te}),de.setConfig({streamController:B,serviceDescriptionController:ie,dashMetrics:V,adapter:Te,videoModel:Oe,timelineConverter:F,settings:Xe}),se.setConfig({streamController:B,playbackController:de,mediaPlayerModel:X,videoModel:Oe,settings:Xe}),J.setConfig({streamController:B,domStorage:ke,mediaPlayerModel:X,customParametersModel:ge,cmsdModel:Ze,dashMetrics:V,adapter:Te,videoModel:Oe,settings:Xe}),Ae.setConfig({abrController:J,dashMetrics:V,playbackController:de}),Ze.setConfig({}),J.initialize(),B.initialize(L,b),G.initialize(),O.initialize(),se.initialize(),Ae.initialize(),Ze.initialize(),pe.initialize(),lt.initialize()}function zt(){return Iy(ze).create({debug:Tt,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,requestModifier:(0,Me.Z)(ze).getInstance(),mssHandler:fe,settings:Xe})}function Qt(){if(K)return K;var _e=dashjs.Protection;if(typeof _e=="function"){var Ie=_e(ze).create();return f.Z.extend(_e.events),r.Z.extend(_e.events,{publicOnly:!0}),oe.extend(_e.errors),S||(S=(0,Rd.Z)(ze).getInstance()),K=Ie.createProtectionSystem({debug:Tt,errHandler:ee,videoModel:Oe,customParametersModel:ge,capabilities:S,eventBus:mt,events:f.Z,BASE64:Pu,constants:o.Z,cmcdModel:Ae,settings:Xe})}return null}function Qe(){if(!P)throw De;if(ye)return ye;var _e=dashjs.OfflineController;if(typeof _e=="function"){f.Z.extend(_e.events),r.Z.extend(_e.events,{publicOnly:!0}),oe.extend(_e.errors);var Ie=zt(),et=$f(ze).create();return et.setConfig({manifestModel:le,adapter:Te,manifestLoader:Ie,errHandler:ee,contentSteeringController:pe}),ye=_e(ze).create({debug:Tt,manifestUpdater:et,baseURLController:ve,manifestLoader:Ie,manifestModel:le,mediaPlayerModel:X,abrController:J,playbackController:de,adapter:Te,errHandler:ee,dashMetrics:V,timelineConverter:F,segmentBaseController:lt,schemeLoaderFactory:Q,eventBus:mt,events:f.Z,errors:oe,constants:o.Z,settings:Xe,dashConstants:i.Z,urlUtils:(0,nt.Z)(ze).getInstance()})}return null}function Ue(_e){var Ie=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,et=V.getCurrentDVRInfo(Ie);return et?_e+(et.manifestInfo.availableFrom.getTime()/1e3+et.range.start):0}function ct(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;ye&&ye.resetRecords(),!M&&h&&(M=!0,c.info("Streaming Initialized"),jt(),typeof h=="string"?B.load(h,_e):B.loadWithManifest(h,_e)),!w&&pt()&&(w=!0,c.info("Playback Initialized"))}return g={initialize:function(_e,Ie,et){var Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;S||(S=(0,Rd.Z)(ze).getInstance()).setConfig({settings:Xe}),ee||(ee=Ry(ze).getInstance()),S.supportsMediaSource()?(P||(P=!0,F=pv(ze).getInstance(),J||(J=Fy(ze).getInstance()).setConfig({settings:Xe}),Q||(Q=nr(ze).getInstance()),de||(de=d(ze).getInstance()),W||(W=Wm(ze).getInstance()),B||(B=nd(ze).getInstance()),O||(O=qm(ze).getInstance()),se||(se=Ym(ze).getInstance()),ie||(ie=Vm(ze).getInstance()),pe||(pe=ei(ze).getInstance()),q||(q=Ny(ze).getInstance()),Te=$y(ze).getInstance(),le=Oy(ze).getInstance(),Ae=mn(ze).getInstance(),Ze=xt(ze).getInstance(),V=gv(ze).getInstance({settings:Xe}),ke=Gy(ze).getInstance({settings:Xe}),Te.setConfig({constants:o.Z,cea608parser:A(),errHandler:ee,BASE64:Pu}),ve||(ve=ty(ze).create()),ve.setConfig({adapter:Te,contentSteeringController:pe}),ie.setConfig({adapter:Te}),lt||(lt=Yy(ze).getInstance({dashMetrics:V,mediaPlayerModel:X,errHandler:ee,baseURLController:ve,events:f.Z,eventBus:mt,debug:Tt,boxParser:(0,Eo.Z)(ze).getInstance(),requestModifier:(0,Me.Z)(ze).getInstance(),errors:oe})),W.setConfig({domStorage:ke,settings:Xe,customParametersModel:ge}),X.setConfig({playbackController:de,serviceDescriptionController:ie}),pe.setConfig({adapter:Te,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,manifestModel:le,serviceDescriptionController:ie,eventBus:mt,requestModifier:(0,Me.Z)(ze).getInstance()}),It(),st(et===void 0||et),Qe()),_e&&Wt(_e),Ie&&sn(Ie,Nt),c.info("[dash.js "+Kt()+"] MediaPlayer has been initialized")):ee.error(new ce.Z(oe.CAPABILITY_MEDIASOURCE_ERROR_CODE,oe.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(_e){_e&&(_e.capabilities&&(S=_e.capabilities),_e.capabilitiesFilter&&(q=_e.capabilitiesFilter),_e.streamController&&(B=_e.streamController),_e.textController&&(G=_e.textController),_e.gapController&&(O=_e.gapController),_e.playbackController&&(de=_e.playbackController),_e.serviceDescriptionController&&(ie=_e.serviceDescriptionController),_e.contentSteeringController&&(pe=_e.contentSteeringController),_e.catchupController&&(se=_e.catchupController),_e.mediaPlayerModel&&(X=_e.mediaPlayerModel),_e.customParametersModel&&(ge=_e.customParametersModel),_e.abrController&&(J=_e.abrController),_e.schemeLoaderFactory&&(Q=_e.schemeLoaderFactory),_e.mediaController&&(W=_e.mediaController),_e.settings&&(Xe=_e.settings))},on:function(_e,Ie,et,Nt){mt.on(_e,Ie,et,Nt)},off:function(_e,Ie,et){mt.off(_e,Ie,et)},extend:function(_e,Ie,et){R.Z.extend(_e,Ie,et,ze)},attachView:Wt,attachSource:sn,refreshManifest:function(_e){if(!P)throw De;if(!pt())return _e(null,Ut);var Ie=this;typeof _e=="function"&&mt.on(f.Z.INTERNAL_MANIFEST_LOADED,function et(Nt){mt.off(f.Z.INTERNAL_MANIFEST_LOADED,et,Ie),Nt.error?_e(null,Nt.error):_e(Nt.manifest)},Ie),B.refreshManifest()},isReady:pt,preload:function(){if(!Oe.getElement()&&!M){if(!h)throw Ut;ct(H)}},play:function(){if(!w)throw rt;(!L||Vt()&&w)&&de.play(!0)},isPaused:Vt,pause:function(){if(!w)throw rt;de.pause()},isSeeking:function(){if(!w)throw rt;return de.isSeeking()},isDynamic:pn,getLowLatencyModeEnabled:function(){if(!w)throw rt;return de.getLowLatencyModeEnabled()},seek:function(_e){if(!w)throw rt;if((0,ae.PS)(_e,"number"),isNaN(_e))throw o.Z.BAD_ARGUMENT_ERROR;_e<0&&(_e=0);var Ie=de.getIsDynamic()?yn(_e):_e,et=Xt();!de.getIsDynamic()&&et.duration&&(Ie=Math.min(et.duration,Ie)),de.seek(Ie,!1,!1,!0)},seekToOriginalLive:function(){w&&pn()&&de.seekToOriginalLive()},setPlaybackRate:function(_e){Xt().playbackRate=_e},getPlaybackRate:function(){return Xt().playbackRate},setMute:function(_e){(0,ae.PS)(_e,"boolean"),Xt().muted=_e},isMuted:function(){return Xt().muted},setVolume:function(_e){if(typeof _e!="number"||isNaN(_e)||_e<0||_e>1)throw o.Z.BAD_ARGUMENT_ERROR;Xt().volume=_e},getVolume:function(){return Xt().volume},time:We,duration:vt,timeAsUTC:function(){if(!w)throw rt;return We()<0?NaN:Ue(We())},durationAsUTC:function(){if(!w)throw rt;return Ue(vt())},getActiveStream:ht,getDVRWindowSize:function(){var _e=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Ie=V.getCurrentDVRInfo(_e);return Ie?Ie.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:yn,getAvailableBaseUrls:function(){var _e=le.getValue();return _e?ve.getBaseUrls(_e):[]},getAvailableLocations:function(){var _e=le.getValue();if(!_e)return[];var Ie=Te.getLocation(_e),et=pe.getSynthesizedLocationElements(Ie);return Ie.concat(et)},getTargetLiveDelay:function(){if(!w)throw rt;return de.getOriginalLiveDelay()},convertToTimeCode:function(_e){_e=Math.max(_e,0);var Ie=Math.floor(_e/3600),et=Math.floor(_e%3600/60),Nt=Math.floor(_e%3600%60);return(Ie===0?"":Ie<10?"0"+Ie.toString()+":":Ie.toString()+":")+(et<10?"0"+et.toString():et.toString())+":"+(Nt<10?"0"+Nt.toString():Nt.toString())},formatUTC:function(_e,Ie,et){var Nt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Lt=new Date(1e3*_e),vn=Lt.toLocaleDateString(Ie),xn=Lt.toLocaleTimeString(Ie,{hour12:et});return Nt?xn+" "+vn:xn},getVersion:Kt,getDebug:function(){return Tt},getBufferLength:function(_e){var Ie=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT];if(_e)return Ie.indexOf(_e)!==-1?Pt().getCurrentBufferLevel(_e)||NaN:(c.warn("getBufferLength requested for invalid type"),NaN);var et=Ie.map(function(Nt){return Jt(Nt).length>0?Pt().getCurrentBufferLevel(Nt):Number.MAX_VALUE}).reduce(function(Nt,Lt){return Math.min(Nt,Lt)});return et===Number.MAX_VALUE?NaN:et},getTTMLRenderingDiv:function(){return Oe?Oe.getTTMLRenderingDiv():null},getVideoElement:Xt,getSource:function(){if(!h)throw Ut;return h},updateSource:function(_e){h=_e,B.load(h)},getCurrentLiveLatency:function(){if(!P)throw De;return w?de.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(_e){if(!M)throw ut;return J.getTopBitrateInfoFor(_e)},setAutoPlay:st,getAutoPlay:function(){return L},getDashMetrics:Pt,getQualityFor:function(_e){if(!M)throw ut;if(_e===o.Z.IMAGE){var Ie=ht();if(!Ie)return-1;var et=Ie.getThumbnailController();return et?et.getCurrentTrackIndex():-1}return J.getQualityFor(_e)},setQualityFor:function(_e,Ie){var et=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!M)throw ut;if(_e===o.Z.IMAGE){var Nt=ht();if(!Nt)return;var Lt=Nt.getThumbnailController();Lt&&Lt.setTrackByIndex(Ie)}J.setPlaybackQuality(_e,B.getActiveStreamInfo(),Ie,{forceReplace:et})},updatePortalSize:function(){J.setElementSize(),J.setWindowResizeEventCalled(!0)},enableText:function(_e){var Ie=B.getActiveStreamInfo();return!(!Ie||!G)&&G.enableText(Ie.id,_e)},enableForcedTextStreaming:function(_e){return!(!B.getActiveStreamInfo()||!G)&&G.enableForcedTextStreaming(_e)},isTextEnabled:function(){var _e=B.getActiveStreamInfo();return!(!_e||!G)&&G.isTextEnabled(_e)},setTextTrack:function(_e){if(!w)throw rt;var Ie=B.getActiveStreamInfo();Ie&&G&&G.setTextTrack(Ie.id,_e)},getBitrateInfoListFor:function(_e){if(!M)throw ut;var Ie=ht();return Ie?Ie.getBitrateListFor(_e):[]},getStreamsFromManifest:function(_e){if(!M)throw ut;return Te.getStreamsInfo(_e)},getTracksFor:Jt,getTracksForTypeFromManifest:function(_e,Ie,et){if(!M)throw ut;return(et=et||Te.getStreamsInfo(Ie,1)[0])?Te.getAllMediaInfoForType(et,_e,Ie):[]},getCurrentTrackFor:function(_e){if(!M)throw ut;var Ie=B.getActiveStreamInfo();return W.getCurrentTrackFor(_e,Ie.id)},setInitialMediaSettingsFor:function(_e,Ie){if(!P)throw De;W.setInitialSettings(_e,Ie)},getInitialMediaSettingsFor:function(_e){if(!P)throw De;return W.getInitialSettings(_e)},setCurrentTrack:function(_e){var Ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!M)throw ut;W.setTrack(_e,Ie)},addABRCustomRule:function(_e,Ie,et){ge.addAbrCustomRule(_e,Ie,et)},removeABRCustomRule:function(_e){ge.removeAbrCustomRule(_e)},removeAllABRCustomRule:function(){ge.removeAllAbrCustomRule()},getABRCustomRules:function(){return ge.getAbrCustomRules()},getAverageThroughput:function(_e){var Ie=J.getThroughputHistory(),et=de.getIsDynamic();return Ie?Ie.getAverageThroughput(_e,et):0},retrieveManifest:function(_e,Ie){var et=zt(),Nt=this;mt.on(f.Z.INTERNAL_MANIFEST_LOADED,function Lt(vn){vn.error?Ie(null,vn.error):Ie(vn.manifest),mt.off(f.Z.INTERNAL_MANIFEST_LOADED,Lt,Nt),et.reset()},Nt),Be.initialize(_e),et.load(_e)},addUTCTimingSource:function(_e,Ie){ge.addUTCTimingSource(_e,Ie)},removeUTCTimingSource:function(_e,Ie){ge.removeUTCTimingSource(_e,Ie)},clearDefaultUTCTimingSources:function(){ge.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:It,setXHRWithCredentialsForType:function(_e,Ie){ge.setXHRWithCredentialsForType(_e,Ie)},getXHRWithCredentialsForType:function(_e){return ge.getXHRWithCredentialsForType(_e)},getProtectionController:function(){return Qt()},attachProtectionController:function(_e){K=_e},setProtectionData:function(_e){b=_e,B&&B.setProtectionData(b)},registerLicenseRequestFilter:function(_e){ge.registerLicenseRequestFilter(_e)},registerLicenseResponseFilter:function(_e){ge.registerLicenseResponseFilter(_e)},unregisterLicenseRequestFilter:function(_e){ge.unregisterLicenseRequestFilter(_e)},unregisterLicenseResponseFilter:function(_e){ge.unregisterLicenseResponseFilter(_e)},registerCustomCapabilitiesFilter:function(_e){ge.registerCustomCapabilitiesFilter(_e)},unregisterCustomCapabilitiesFilter:function(_e){ge.unregisterCustomCapabilitiesFilter(_e)},setCustomInitialTrackSelectionFunction:function(_e){ge.setCustomInitialTrackSelectionFunction(_e)},resetCustomInitialTrackSelectionFunction:function(){ge.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(_e){if(!Oe.getElement())throw it;Oe.setTTMLRenderingDiv(_e)},attachVttRenderingDiv:function(_e){if(!Oe.getElement())throw it;Oe.setVttRenderingDiv(_e)},getCurrentTextTrackIndex:function(){var _e=B.getActiveStreamInfo();if(_e&&G)return G.getCurrentTrackIdx(_e.id)},provideThumbnail:function(_e,Ie){if(typeof Ie=="function")if(_e<0)Ie(null);else{var et=de.getIsDynamic()?yn(_e):_e,Nt=B.getStreamForTime(et);if(Nt!==null){var Lt=Nt.getThumbnailController();if(Lt)return Lt.provide(et,Ie);Ie(null)}else Ie(null)}},getDashAdapter:function(){return Te},getOfflineController:function(){return Qe()},triggerSteeringRequest:function(){if(pe)return pe.loadSteeringData()},getCurrentSteeringResponseData:function(){if(pe)return pe.getCurrentSteeringResponseData()},getSettings:function(){return Xe.get()},updateSettings:function(_e){Xe.update(_e)},resetSettings:function(){Xe.reset()},reset:_t,destroy:function(){_t(),R.Z.deleteSingletonInstances(ze)}},c=Tt.getLogger(g),P=!1,w=!1,M=!1,L=!0,H=NaN,K=null,ye=null,b=null,Te=null,lt=null,f.Z.extend(r.Z),X=My(ze).getInstance(),ge=(0,Kn.Z)(ze).getInstance(),Oe=Zy(ze).getInstance(),Be=Dy(ze).getInstance(),g}Fu.__dashjs_factory_name="MediaPlayer";var Us=R.Z.getClassFactory(Fu);Us.events=r.Z,Us.errors=oe,R.Z.updateClassFactory(Fu.__dashjs_factory_name,Us);var Nv=Us},8825:function(U,Y,v){function j(_){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},j(_)}function A(_,f){return A=Object.setPrototypeOf||function(R,m){return R.__proto__=m,R},A(_,f)}function o(_,f){return!f||j(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(_):f}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(_)}var E=new(function(_){(function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&A(u,d)})(r,_);var f,R,m=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,d=i(f);if(R){var I=i(this).constructor;u=Reflect.construct(d,arguments,I)}else u=d.apply(this,arguments);return o(this,u)});function r(){var u;return function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}(this,r),(u=m.call(this)).AST_IN_FUTURE="astInFuture",u.BASE_URLS_UPDATED="baseUrlsUpdated",u.BUFFER_EMPTY="bufferStalled",u.BUFFER_LOADED="bufferLoaded",u.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",u.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",u.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",u.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",u.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",u.DYNAMIC_TO_STATIC="dynamicToStatic",u.ERROR="error",u.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",u.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",u.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",u.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",u.LOG="log",u.MANIFEST_LOADING_STARTED="manifestLoadingStarted",u.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",u.MANIFEST_LOADED="manifestLoaded",u.METRICS_CHANGED="metricsChanged",u.METRIC_CHANGED="metricChanged",u.METRIC_ADDED="metricAdded",u.METRIC_UPDATED="metricUpdated",u.PERIOD_SWITCH_STARTED="periodSwitchStarted",u.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",u.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",u.QUALITY_CHANGE_RENDERED="qualityChangeRendered",u.TRACK_CHANGE_RENDERED="trackChangeRendered",u.STREAM_INITIALIZING="streamInitializing",u.STREAM_UPDATED="streamUpdated",u.STREAM_ACTIVATED="streamActivated",u.STREAM_DEACTIVATED="streamDeactivated",u.STREAM_INITIALIZED="streamInitialized",u.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",u.TEXT_TRACKS_ADDED="allTextTracksAdded",u.TEXT_TRACK_ADDED="textTrackAdded",u.CUE_ENTER="cueEnter",u.CUE_EXIT="cueExit",u.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",u.TTML_PARSED="ttmlParsed",u.TTML_TO_PARSE="ttmlToParse",u.CAPTION_RENDERED="captionRendered",u.CAPTION_CONTAINER_RESIZE="captionContainerResize",u.CAN_PLAY="canPlay",u.CAN_PLAY_THROUGH="canPlayThrough",u.PLAYBACK_ENDED="playbackEnded",u.PLAYBACK_ERROR="playbackError",u.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",u.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",u.PLAYBACK_LOADED_DATA="playbackLoadedData",u.PLAYBACK_PAUSED="playbackPaused",u.PLAYBACK_PLAYING="playbackPlaying",u.PLAYBACK_PROGRESS="playbackProgress",u.PLAYBACK_RATE_CHANGED="playbackRateChanged",u.PLAYBACK_SEEKED="playbackSeeked",u.PLAYBACK_SEEKING="playbackSeeking",u.PLAYBACK_STALLED="playbackStalled",u.PLAYBACK_STARTED="playbackStarted",u.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",u.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",u.PLAYBACK_WAITING="playbackWaiting",u.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",u.EVENT_MODE_ON_START="eventModeOnStart",u.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",u.CONFORMANCE_VIOLATION="conformanceViolation",u.REPRESENTATION_SWITCH="representationSwitch",u.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",u.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",u.INBAND_PRFT="inbandPrft",u.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",u.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",u}return r}(v(8342).Z));Y.Z=E},3393:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=new(function(){function A(){(function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.TEXT_DISABLED="disabled",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.FONT_DOWNLOAD_DVB_SCHEME="urn:dvb:dash:fontdownload:2014",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.OFF_MIMETYPE="application/font-sfnt",this.WOFF_MIMETYPE="application/font-woff",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&v(o.prototype,i),A}());Y.Z=j},3860:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=new(function(){function A(){(function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&v(o.prototype,i),A}());Y.Z=j},8080:function(U,Y,v){v.d(Y,{default:function(){return N}});var j=function C(){(function(ae,ne){if(!(ae instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,C),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};j.SSL_CONNECTION_FAILED_PREFIX="SSL",j.DNS_RESOLUTION_FAILED="C00",j.HOST_UNREACHABLE="C01",j.CONNECTION_REFUSED="C02",j.CONNECTION_ERROR="C03",j.CORRUPT_MEDIA_ISOBMFF="M00",j.CORRUPT_MEDIA_OTHER="M01",j.BASE_URL_CHANGED="F00",j.BECAME_REPORTER="S00";var A=j,o=v(1180);function i(C){var ae,ne,Me=(C=C||{}).eventBus,nt=C.dashMetrics,je=C.metricsConstants,Ge=C.events;function xe(Ot){var Gt=new A;if(ne){for(var Zt in Ot)Ot.hasOwnProperty(Zt)&&(Gt[Zt]=Ot[Zt]);Gt.mpdurl||(Gt.mpdurl=ne.originalUrl||ne.url),Gt.terror||(Gt.terror=new Date),nt.addDVBErrors(Gt)}}function Ye(Ot){Ot.error||(ne=Ot.manifest)}function at(Ot){xe({errorcode:A.BASE_URL_CHANGED,servicelocation:Ot.entry})}function St(){xe({errorcode:A.BECAME_REPORTER})}function ft(Ot){var Gt;Ot.metric===je.HTTP_REQUEST&&((Gt=Ot.value).responsecode===0||Gt.responsecode==null||Gt.responsecode>=400||Gt.responsecode<100||Gt.responsecode>=600)&&xe({errorcode:Gt.responsecode||A.CONNECTION_ERROR,url:Gt.url,terror:Gt.tresponse,servicelocation:Gt._serviceLocation})}function Yt(Ot){var Gt;switch(Ot.error?Ot.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Gt=A.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Gt=A.CORRUPT_MEDIA_OTHER;break;default:return}xe({errorcode:Gt})}return ae={initialize:function(){Me.on(Ge.MANIFEST_UPDATED,Ye,ae),Me.on(Ge.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,at,ae),Me.on(Ge.METRIC_ADDED,ft,ae),Me.on(Ge.METRIC_UPDATED,ft,ae),Me.on(Ge.PLAYBACK_ERROR,Yt,ae),Me.on(o.Z.BECAME_REPORTING_PLAYER,St,ae)},reset:function(){Me.off(Ge.MANIFEST_UPDATED,Ye,ae),Me.off(Ge.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,at,ae),Me.off(Ge.METRIC_ADDED,ft,ae),Me.off(Ge.METRIC_UPDATED,ft,ae),Me.off(Ge.PLAYBACK_ERROR,Yt,ae),Me.off(o.Z.BECAME_REPORTING_PLAYER,St,ae)}}}i.__dashjs_factory_name="DVBErrorsTranslator";var E=dashjs.FactoryMaker.getSingletonFactory(i),_=v(2295);function f(C){C=C||{};var ae,ne,Me=!1,nt=this.context,je=C.mediaElement;return ae={initialize:function(Ge){Ge&&Ge.length&&(Ge.forEach(function(xe){var Ye=xe.starttime,at=Ye+xe.duration;ne.add(Ye,at)}),Me=!!Ge[0]._useWallClockTime)},reset:function(){ne.clear()},isEnabled:function(){var Ge,xe=ne.length;if(!xe)return!0;Ge=Me?new Date().getTime()/1e3:je.currentTime;for(var Ye=0;Ye<xe;Ye+=1){var at=ne.start(Ye),St=ne.end(Ye);if(at<=Ge&&Ge<St)return!0}return!1}},ne=(0,_.Z)(nt).create(),ae}f.__dashjs_factory_name="RangeController";var R=dashjs.FactoryMaker.getClassFactory(f);function m(){return{serialise:function C(ae){var ne,Me,nt=[],je=[];for(ne in ae)if(ae.hasOwnProperty(ne)&&ne.indexOf("_")!==0){if((Me=ae[ne])==null&&(Me=""),Array.isArray(Me)){if(!Me.length)continue;je=[],Me.forEach(function(Ge){var xe=Object.prototype.toString.call(Ge).slice(8,-1)!=="Object";je.push(xe?Ge:C(Ge))}),Me=je.map(encodeURIComponent).join(",")}else typeof Me=="string"?Me=encodeURIComponent(Me):Me instanceof Date?Me=Me.toISOString():typeof Me=="number"&&(Me=Math.round(Me));nt.push(ne+"="+Me)}return nt.join("&")}}}m.__dashjs_factory_name="MetricSerialiser";var r=dashjs.FactoryMaker.getSingletonFactory(m);function u(){var C,ae,ne,Me=window.crypto||window.msCrypto,nt=Uint32Array,je=Math.pow(2,8*nt.BYTES_PER_ELEMENT)-1;function Ge(){Me&&(C||(C=new nt(10)),Me.getRandomValues(C),ae=0)}return ne={random:function(xe,Ye){var at;return xe||(xe=0),Ye||(Ye=1),Me?(ae===C.length&&Ge(),at=C[ae]/je,ae+=1):at=Math.random(),at*(Ye-xe)+xe}},Ge(),ne}u.__dashjs_factory_name="RNG";var d=dashjs.FactoryMaker.getSingletonFactory(u),I=v(5717);function Z(C){var ae;C=C||{};var ne,Me,nt,je,Ge,xe,Ye,at=this.context,St=[],ft=C.metricsConstants;function Yt(){je=!1,Ge=!1,xe=null,Ye=null}return ae={report:function(Ot,Gt){Array.isArray(Gt)||(Gt=[Gt]),Ge&&Ye.isEnabled()&&Gt.forEach(function(Zt){var fn=ne.serialise(Zt);Ot!==ft.DVB_ERRORS&&(fn="metricname=".concat(Ot,"&").concat(fn)),function(Sn,kn,Mn){var Un=new XMLHttpRequest;Un.withCredentials=Me.getXHRWithCredentialsForType(ft.HTTP_REQUEST_DVB_REPORTING_TYPE);var cr=function(){var Nn=St.indexOf(Un);Nn!==-1&&(St.splice(Nn,1),!(Un.status>=200&&Un.status<300)&&Mn&&Mn())};St.push(Un);try{Un.open("GET",Sn),Un.onloadend=cr,Un.onerror=cr,Un.send()}catch{Un.onerror()}}(fn="".concat(xe,"?").concat(fn),0,function(){Ge=!1})})},initialize:function(Ot,Gt){var Zt;if(Ye=Gt,!(xe=Ot.dvbReportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");je||((Zt=Ot.dvbProbability)&&(Zt===1e3||Zt/1e3>=nt.random())&&(Ge=!0),je=!0)},reset:function(){Yt()}},ne=r(at).getInstance(),nt=d(at).getInstance(),Me=(0,I.Z)(at).getInstance(),Yt(),ae}Z.__dashjs_factory_name="DVBReporting";var z=dashjs.FactoryMaker.getClassFactory(Z);function x(C){C=C||{};var ae,ne={"urn:dvb:dash:reporting:2014":z},Me=this.context,nt=C.debug?C.debug.getLogger(ae):{},je=C.metricsConstants,Ge=C.mediaPlayerModel||{};return{create:function(xe,Ye){var at;try{(at=ne[xe.schemeIdUri](Me).create({metricsConstants:je,mediaPlayerModel:Ge})).initialize(xe,Ye)}catch(St){at=null,nt.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(xe.schemeIdUri," (").concat(St.message,")"))}return at},register:function(xe,Ye){ne[xe]=Ye},unregister:function(xe){delete ne[xe]}}}x.__dashjs_factory_name="ReportingFactory";var re=dashjs.FactoryMaker.getSingletonFactory(x);function k(C){var ae=[],ne=re(this.context).getInstance(C);return{initialize:function(Me,nt){Me.some(function(je){var Ge=ne.create(je,nt);if(Ge)return ae.push(Ge),!0})},reset:function(){ae.forEach(function(Me){return Me.reset()}),ae=[]},report:function(Me,nt){ae.forEach(function(je){return je.report(Me,nt)})}}}k.__dashjs_factory_name="ReportingController";var te=dashjs.FactoryMaker.getClassFactory(k);function ce(){return{reconstructFullMetricName:function(C,ae,ne){var Me=C;return ae&&(Me+="("+ae,ne&&ne.length&&(Me+=","+ne),Me+=")"),Me},validateN:function(C){if(!C)throw new Error("missing n");if(isNaN(C))throw new Error("n is NaN");if(C<0)throw new Error("n must be positive");return C}}}ce.__dashjs_factory_name="HandlerHelpers";var $=dashjs.FactoryMaker.getSingletonFactory(ce);function ue(C){var ae,ne,Me,nt,je;C=C||{};var Ge=this.context,xe=$(Ge).getInstance(),Ye=[],at=C.metricsConstants;function St(){var ft=function(){try{return Object.keys(Ye).map(function(Yt){return Ye[Yt]}).reduce(function(Yt,Ot){return Yt.level<Ot.level?Yt:Ot})}catch{return}}();ft&&je!==ft.t&&(je=ft.t,ae.report(Me,ft))}return{initialize:function(ft,Yt,Ot){Yt&&(ne=xe.validateN(Ot),ae=Yt,Me=xe.reconstructFullMetricName(ft,Ot),nt=setInterval(St,ne))},reset:function(){clearInterval(nt),nt=null,ne=0,ae=null,je=null},handleNewMetric:function(ft,Yt,Ot){ft===at.BUFFER_LEVEL&&(Ye[Ot]=Yt)}}}ue.__dashjs_factory_name="BufferLevelHandler";var he=dashjs.FactoryMaker.getClassFactory(ue),Ce=dashjs.FactoryMaker.getClassFactory(function(C){var ae,ne=(C=C||{}).eventBus,Me=C.metricsConstants;function nt(){ne.off(o.Z.METRICS_INITIALISATION_COMPLETE,nt,this),ne.trigger(o.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(je,Ge){Ge&&(ae=Ge,ne.on(o.Z.METRICS_INITIALISATION_COMPLETE,nt,this))},reset:function(){ae=null},handleNewMetric:function(je,Ge){je===Me.DVB_ERRORS&&ae&&ae.report(je,Ge)}}});function oe(C){var ae,ne,Me,nt,je;C=C||{};var Ge=[],xe=$(this.context).getInstance(),Ye=C.metricsConstants;function at(){var St=Ge;St.length&&ae&&ae.report(nt,St),Ge=[]}return{initialize:function(St,ft,Yt,Ot){ft&&(ne=xe.validateN(Yt),ae=ft,Ot&&Ot.length&&(Me=Ot),nt=xe.reconstructFullMetricName(St,Yt,Ot),je=setInterval(at,ne))},reset:function(){clearInterval(je),je=null,ne=null,Me=null,Ge=[],ae=null},handleNewMetric:function(St,ft){St===Ye.HTTP_REQUEST&&(Me&&Me!==ft.type||Ge.push(ft))}}}oe.__dashjs_factory_name="HttpListHandler";var be=dashjs.FactoryMaker.getClassFactory(oe);function Pe(){var C,ae;return{initialize:function(ne,Me){C=ne,ae=Me},reset:function(){ae=null,C=void 0},handleNewMetric:function(ne,Me){ne===C&&ae&&ae.report(C,Me)}}}Pe.__dashjs_factory_name="GenericMetricHandler";var Ne=dashjs.FactoryMaker.getClassFactory(Pe);function me(C){var ae,ne=(C=C||{}).debug?C.debug.getLogger(ae):{},Me=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,nt=this.context,je={BufferLevel:he,DVBErrors:Ce,HttpList:be,PlayList:Ne,RepSwitchList:Ne,TcpList:Ne};return{create:function(Ge,xe){var Ye,at=Ge.match(Me);if(at){try{(Ye=je[at[1]](nt).create({eventBus:C.eventBus,metricsConstants:C.metricsConstants})).initialize(at[1],xe,at[3],at[5])}catch(St){Ye=null,ne.error("MetricsHandlerFactory: Could not create handler for type ".concat(at[1]," with args ").concat(at[3],", ").concat(at[5]," (").concat(St.message,")"))}return Ye}},register:function(Ge,xe){je[Ge]=xe},unregister:function(Ge){delete je[Ge]}}}me.__dashjs_factory_name="MetricsHandlerFactory";var Le=dashjs.FactoryMaker.getSingletonFactory(me);function qe(C){C=C||{};var ae,ne=[],Me=this.context,nt=C.eventBus,je=C.events,Ge=Le(Me).getInstance({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants});function xe(Ye){ne.forEach(function(at){at.handleNewMetric(Ye.metric,Ye.value,Ye.mediaType)})}return ae={initialize:function(Ye,at){Ye.split(",").forEach(function(St,ft,Yt){var Ot;if(St.indexOf("(")!==-1&&St.indexOf(")")===-1){var Gt=Yt[ft+1];Gt&&Gt.indexOf("(")===-1&&Gt.indexOf(")")!==-1&&(St+=","+Gt,delete Yt[ft+1])}(Ot=Ge.create(St,at))&&ne.push(Ot)}),nt.on(je.METRIC_ADDED,xe,ae),nt.on(je.METRIC_UPDATED,xe,ae)},reset:function(){nt.off(je.METRIC_ADDED,xe,ae),nt.off(je.METRIC_UPDATED,xe,ae),ne.forEach(function(Ye){return Ye.reset()}),ne=[]}}}qe.__dashjs_factory_name="MetricsHandlersController";var $e=dashjs.FactoryMaker.getClassFactory(qe);function Re(C){var ae,ne,Me;C=C||{};var nt=this.context;function je(){ae&&ae.reset(),ne&&ne.reset(),Me&&Me.reset()}return{initialize:function(Ge){try{(Me=R(nt).create({mediaElement:C.mediaElement})).initialize(Ge.Range),(ne=te(nt).create({debug:C.debug,metricsConstants:C.metricsConstants,mediaPlayerModel:C.mediaPlayerModel})).initialize(Ge.Reporting,Me),(ae=$e(nt).create({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants,events:C.events})).initialize(Ge.metrics,ne)}catch(xe){throw je(),xe}},reset:je}}Re.__dashjs_factory_name="MetricsController";var Fe=dashjs.FactoryMaker.getClassFactory(Re),Et=function C(){(function(ae,ne){if(!(ae instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,C),this.metrics="",this.Range=[],this.Reporting=[]},gt=function C(){(function(ae,ne){if(!(ae instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,C),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},He=function C(){(function(ae,ne){if(!(ae instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,C),this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3};function ot(C){var ae=(C=C||{}).adapter,ne=C.constants;return{getMetrics:function(Me){var nt=[];return Me&&Me.Metrics_asArray&&Me.Metrics_asArray.forEach(function(je){var Ge=new Et,xe=ae.getIsDynamic(Me);je.hasOwnProperty("metrics")&&(Ge.metrics=je.metrics,je.Range_asArray&&je.Range_asArray.forEach(function(Ye){var at=new gt;at.starttime=function(St,ft,Yt){var Ot,Gt,Zt=0;return ft?Zt=ae.getAvailabilityStartTime(St)/1e3:(Ot=ae.getRegularPeriods(St)).length&&(Zt=Ot[0].start),Gt=Zt,Yt&&Yt.hasOwnProperty(ne.START_TIME)&&(Gt+=Yt.starttime),Gt}(Me,xe,Ye),Ye.hasOwnProperty("duration")?at.duration=Ye.duration:at.duration=ae.getDuration(Me),at._useWallClockTime=xe,Ge.Range.push(at)}),je.Reporting_asArray&&(je.Reporting_asArray.forEach(function(Ye){var at=new He;Ye.hasOwnProperty(ne.SCHEME_ID_URI)&&(at.schemeIdUri=Ye.schemeIdUri,Ye.hasOwnProperty("value")&&(at.value=Ye.value),Ye.hasOwnProperty(ne.DVB_REPORTING_URL)&&(at.dvbReportingUrl=Ye[ne.DVB_REPORTING_URL]),Ye.hasOwnProperty(ne.DVB_PROBABILITY)&&(at.dvbProbability=Ye[ne.DVB_PROBABILITY]),Ge.Reporting.push(at))}),nt.push(Ge)))}),nt}}}ot.__dashjs_factory_name="ManifestParsing";var Se=dashjs.FactoryMaker.getSingletonFactory(ot);function we(C){var ae;C=C||{};var ne={},Me=this.context,nt=C.eventBus,je=C.events;function Ge(Ye){if(!Ye.error){var at=Object.keys(ne);Se(Me).getInstance({adapter:C.adapter,constants:C.constants}).getMetrics(Ye.manifest).forEach(function(St){var ft=JSON.stringify(St);if(ne.hasOwnProperty(ft))at.splice(ft,1);else try{var Yt=Fe(Me).create(C);Yt.initialize(St),ne[ft]=Yt}catch{}}),at.forEach(function(St){ne[St].reset(),delete ne[St]}),nt.trigger(o.Z.METRICS_INITIALISATION_COMPLETE)}}function xe(){Object.keys(ne).forEach(function(Ye){ne[Ye].reset()}),ne={}}return ae={reset:function(){nt.off(je.MANIFEST_UPDATED,Ge,ae),nt.off(je.STREAM_TEARDOWN_COMPLETE,xe,ae)}},nt.on(je.MANIFEST_UPDATED,Ge,ae),nt.on(je.STREAM_TEARDOWN_COMPLETE,xe,ae),ae}we.__dashjs_factory_name="MetricsCollectionController";var Ke=dashjs.FactoryMaker.getClassFactory(we);function y(){var C=this.context;return{createMetricsReporting:function(ae){return E(C).getInstance({eventBus:ae.eventBus,dashMetrics:ae.dashMetrics,metricsConstants:ae.metricsConstants,events:ae.events}).initialize(),Ke(C).create(ae)},getReportingFactory:function(){return re(C).getInstance()},getMetricsHandlerFactory:function(){return Le(C).getInstance()}}}y.__dashjs_factory_name="MetricsReporting";var p=dashjs.FactoryMaker.getClassFactory(y);p.events=o.Z,dashjs.FactoryMaker.updateClassFactory(y.__dashjs_factory_name,p);var N=p},1180:function(U,Y,v){function j(_){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},j(_)}function A(_,f){return A=Object.setPrototypeOf||function(R,m){return R.__proto__=m,R},A(_,f)}function o(_,f){return!f||j(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(_):f}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(_)}var E=new(function(_){(function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&A(u,d)})(r,_);var f,R,m=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,d=i(f);if(R){var I=i(this).constructor;u=Reflect.construct(d,arguments,I)}else u=d.apply(this,arguments);return o(this,u)});function r(){var u;return function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}(this,r),(u=m.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",u.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",u.CMCD_DATA_GENERATED="cmcdDataGenerated",u}return r}(v(8342).Z));Y.Z=E},5717:function(U,Y,v){var j=v(2610),A=v(5448),o=v(1264),i=v(3106),E=v(1767),_=v(3393);function f(){var R,m,r,u,d,I,Z,z,x=this.context,re=(0,o.Z)(x).getInstance();function k(){u=[],d=[],I=[],z=[],Z=null,m=[]}function te(he,Ce){var oe=-1;he.some(function(be,Pe){if(be===Ce)return oe=Pe,!0}),oe<0||he.splice(oe,1)}function ce(he){var Ce;for(Ce=0;Ce<z.length;Ce++)if(z[Ce].rulename===he)return Ce;return-1}function $(he,Ce){ue(he,Ce);var oe=new j.Z;oe.schemeIdUri=he,oe.value=Ce,m.push(oe)}function ue(he,Ce){(0,i.PS)(he,"string"),(0,i.PS)(Ce,"string"),m.forEach(function(oe,be){oe.schemeIdUri===he&&oe.value===Ce&&m.splice(be,1)})}return R={getCustomInitialTrackSelectionFunction:function(){return Z},setCustomInitialTrackSelectionFunction:function(he){Z=he},resetCustomInitialTrackSelectionFunction:function(){Z=null},getLicenseResponseFilters:function(){return d},getLicenseRequestFilters:function(){return u},getCustomCapabilitiesFilters:function(){return I},registerCustomCapabilitiesFilter:function(he){I.push(he)},registerLicenseResponseFilter:function(he){d.push(he)},registerLicenseRequestFilter:function(he){u.push(he)},unregisterCustomCapabilitiesFilter:function(he){te(I,he)},unregisterLicenseResponseFilter:function(he){te(d,he)},unregisterLicenseRequestFilter:function(he){te(u,he)},addAbrCustomRule:function(he,Ce,oe){if(typeof he!="string"||he!==E.Z.ABANDON_FRAGMENT_RULES&&he!==E.Z.QUALITY_SWITCH_RULES||typeof Ce!="string")throw _.Z.BAD_ARGUMENT_ERROR;var be=ce(Ce);be===-1?z.push({type:he,rulename:Ce,rule:oe}):(z[be].type=he,z[be].rule=oe)},removeAllAbrCustomRule:function(){z=[]},removeAbrCustomRule:function(he){if(he){var Ce=ce(he);Ce!==-1&&z.splice(Ce,1)}else z=[]},getAbrCustomRules:function(){return z},addUTCTimingSource:$,removeUTCTimingSource:ue,getUTCTimingSources:function(){return m},clearDefaultUTCTimingSources:function(){m=[]},restoreDefaultUTCTimingSources:function(){var he=re.get().streaming.utcSynchronization.defaultTimingSource;$(he.scheme,he.value)},setXHRWithCredentialsForType:function he(Ce,oe){Ce?r[Ce]=!!oe:Object.keys(r).forEach(function(be){he(be,oe)})},getXHRWithCredentialsForType:function(he){var Ce=r[he];return Ce===void 0?r.default:Ce},setConfig:function(){},reset:function(){k()}},r={default:!1},k(),R}f.__dashjs_factory_name="CustomParametersModel",Y.Z=A.Z.getSingletonFactory(f)},9032:function(U,Y,v){var j=v(5448),A=v(7473);function o(E){var _=(E=E||{}).requestModifier;function f(R){var m=new Date,r=R.request,u=new XMLHttpRequest;if(u.open(R.method,R.url,!0),r.responseType&&(u.responseType=r.responseType),r.range&&u.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=m),_&&_.modifyRequestHeader&&(u=_.modifyRequestHeader(u,{url:R.url})),R.headers)for(var d in R.headers){var I=R.headers[d];I&&u.setRequestHeader(d,I)}u.withCredentials=R.withCredentials,u.onload=R.onload,u.onloadend=R.onend,u.onerror=R.onerror,u.onprogress=R.progress,u.onabort=R.onabort,u.ontimeout=R.ontimeout,u.timeout=R.timeout,u.send(),R.response=u}return{load:function(R){_&&_.modifyRequest?(0,A.k)(R,_).then(function(){return f(R)}):f(R)},abort:function(R){var m=R.response;m.onloadend=m.onerror=m.onprogress=void 0,m.abort()}}}o.__dashjs_factory_name="XHRLoader";var i=j.Z.getClassFactory(o);Y.Z=i},1737:function(U,Y,v){function j(Ct,bt){for(var Rt=0;Rt<bt.length;Rt++){var Ve=bt[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}v.d(Y,{default:function(){return Da}});var A={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},o=function(){function Ct(){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct)}var bt,Rt;return bt=Ct,Rt=[{key:"findCencContentProtection",value:function(Ve){for(var yt=null,Je=0;Je<Ve.length;++Je){var dt=Ve[Je];dt.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||dt.value.toLowerCase()!=="cenc"&&dt.value.toLowerCase()!=="cbcs"||(yt=dt)}return yt}},{key:"getPSSHData",value:function(Ve){var yt=8,Je=new DataView(Ve),dt=Je.getUint8(yt);return yt+=20,dt>0&&(yt+=4+16*Je.getUint32(yt)),yt+=4,Ve.slice(yt)}},{key:"getPSSHForKeySystem",value:function(Ve,yt){var Je=Ct.parsePSSHList(yt);return Ve&&Je.hasOwnProperty(Ve.uuid.toLowerCase())?Je[Ve.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Ve,yt){return"pssh"in Ve?(Ve.pssh.__text=Ve.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),yt.decodeArray(Ve.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Ve){if(Ve==null)return[];for(var yt=new DataView(Ve.buffer||Ve),Je={},dt=0;;){var Ft,Bt,rn=void 0,an=dt;if(dt>=yt.buffer.byteLength)break;if(Ft=dt+yt.getUint32(dt),dt+=4,yt.getUint32(dt)===1886614376)if(dt+=4,(Bt=yt.getUint8(dt))===0||Bt===1){dt++,dt+=3,rn="";var Ht=void 0,wt=void 0;for(Ht=0;Ht<4;Ht++)rn+=(wt=yt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=4,rn+="-",Ht=0;Ht<2;Ht++)rn+=(wt=yt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,rn+="-",Ht=0;Ht<2;Ht++)rn+=(wt=yt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,rn+="-",Ht=0;Ht<2;Ht++)rn+=(wt=yt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,rn+="-",Ht=0;Ht<6;Ht++)rn+=(wt=yt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;dt+=6,dt+=4,Je[rn=rn.toLowerCase()]=yt.buffer.slice(an,Ft),dt=Ft}else dt=Ft;else dt=Ft}return Je}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Ve,yt){try{if(!Ve||Ve.length===0)return null;for(var Je=0,dt=null;Je<Ve.length&&!dt;){var Ft=Ve[Je];if(Ft&&Ft.contentProtection&&Ft.contentProtection.length>0){var Bt=Ft.contentProtection.filter(function(gn){return gn.schemeIdUri&&gn.schemeIdUri===yt});if(Bt&&Bt.length>0)for(var rn=0;rn<Bt.length&&!dt;){for(var an=Bt[rn],Ht=0;Ht<A.attributes.length&&!dt;){for(var wt=0,tn=A.attributes[Ht];wt<A.prefixes.length&&!dt;){var $t=A.prefixes[wt];an[tn]&&an[tn].__prefix&&an[tn].__prefix===$t&&an[tn].__text&&(dt=an[tn].__text),wt+=1}Ht+=1}rn+=1}}Je+=1}return dt}catch{return null}}}],Rt&&j(bt,Rt),Ct}(),i=function Ct(bt,Rt){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.contentType=bt,this.robustness=Rt},E=function Ct(bt,Rt,Ve,yt,Je){(function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.initDataTypes=["cenc"],bt&&bt.length&&(this.audioCapabilities=bt),Rt&&Rt.length&&(this.videoCapabilities=Rt),this.distinctiveIdentifier=Ve,this.persistentState=yt,this.sessionTypes=Je};function _(Ct){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},_(Ct)}function f(Ct,bt){return f=Object.setPrototypeOf||function(Rt,Ve){return Rt.__proto__=Ve,Rt},f(Ct,bt)}function R(Ct,bt){return!bt||_(bt)!=="object"&&typeof bt!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(Ct):bt}function m(Ct){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)},m(Ct)}var r=new(function(Ct){(function(Je,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),dt&&f(Je,dt)})(yt,Ct);var bt,Rt,Ve=(bt=yt,Rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Je,dt=m(bt);if(Rt){var Ft=m(this).constructor;Je=Reflect.construct(dt,arguments,Ft)}else Je=dt.apply(this,arguments);return R(this,Je)});function yt(){var Je;return function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,yt),(Je=Ve.call(this)).MEDIA_KEYERR_CODE=100,Je.MEDIA_KEYERR_UNKNOWN_CODE=101,Je.MEDIA_KEYERR_CLIENT_CODE=102,Je.MEDIA_KEYERR_SERVICE_CODE=103,Je.MEDIA_KEYERR_OUTPUT_CODE=104,Je.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,Je.MEDIA_KEYERR_DOMAIN_CODE=106,Je.MEDIA_KEY_MESSAGE_ERROR_CODE=107,Je.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,Je.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,Je.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,Je.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,Je.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,Je.KEY_SESSION_CREATED_ERROR_CODE=113,Je.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,Je.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",Je.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",Je.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",Je.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",Je.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",Je.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",Je.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",Je.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",Je.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",Je.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",Je.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",Je.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",Je.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",Je.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",Je}return yt}(v(2230).Z)),u=v(5459),d=function Ct(bt,Rt,Ve,yt,Je,dt,Ft,Bt){(function(rn,an){if(!(rn instanceof an))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.url=bt,this.method=Rt,this.responseType=Ve,this.headers=yt,this.withCredentials=Je,this.messageType=dt,this.sessionId=Ft,this.data=Bt},I=function Ct(bt,Rt,Ve){(function(yt,Je){if(!(yt instanceof Je))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.url=bt,this.headers=Rt,this.data=Ve},Z=v(7855),z=v(703),x=v(3393),re=v(5448);function k(Ct){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},k(Ct)}function te(Ct){var bt,Rt,Ve,yt,Je,dt,Ft,Bt,rn,an,Ht,wt=(Ct=Ct||{}).protectionKeyController,tn=Ct.protectionModel,$t=Ct.eventBus,gn=Ct.events,An=Ct.debug,Dn=Ct.BASE64,ln=Ct.constants,At=[],Dt=Ct.cmcdModel,qt=Ct.settings,dn=Ct.customParametersModel;function mn(){if(!($t&&$t.hasOwnProperty("on")&&wt&&wt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function In(xt,un){Bt||rn?Bt&&Cn():function(Tn,Kn){if(!rn){rn=!0;var Pn,or=[];Tn=Tn.sort(function(nr,zn){return(Je&&Je[nr.ks.systemString]&&Je[nr.ks.systemString].priority>=0?Je[nr.ks.systemString].priority:Tn.length)-(Je&&Je[zn.ks.systemString]&&Je[zn.ks.systemString].priority>=0?Je[zn.ks.systemString].priority:Tn.length)});for(var Zn=0;Zn<Tn.length;Zn++){var zr=ki(Tn[Zn]);or.push({ks:Tn[Zn].ks,configs:[zr],protData:Tn[Zn].protData})}tn.requestKeySystemAccess(or).then(function(nr){var zn=(Pn=nr.data).mksa&&Pn.mksa.selectedSystemString?Pn.mksa.selectedSystemString:Pn.keySystem.systemString;return Rt.info("DRM: KeySystem Access Granted for system string ("+zn+")!  Selecting key system..."),tn.selectKeySystem(Pn)}).then(function(nr){if(Bt=nr,rn=!1,tn){$t.trigger(gn.KEY_SYSTEM_SELECTED,{data:Pn});var zn=ar(Bt);zn&&zn.serverCertificate&&zn.serverCertificate.length>0&&tn.setServerCertificate(Dn.decodeArray(zn.serverCertificate).buffer),Cn()}}).catch(function(nr){Bt=null,rn=!1,Kn||$t.trigger(gn.KEY_SYSTEM_SELECTED,{data:null,error:new u.Z(r.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,r.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+nr.error)})})}}(xt,un)}function Cn(){for(var xt,un=0;un<Ve.length;un++)for(xt=0;xt<Ve[un].length;xt++)if(Bt===Ve[un][xt].ks){gr(Ve[un][xt]);break}Ve=[]}function gr(xt){if(wt.isClearKey(Bt)&&xt.protData&&xt.protData.hasOwnProperty("clearkeys")&&Object.keys(xt.protData.clearkeys).length!==0){var un={kids:Object.keys(xt.protData.clearkeys)};xt.initData=new TextEncoder().encode(JSON.stringify(un))}xt.sessionId?pr(xt):xt.initData!==null&&jn(xt)}function pr(xt){mn(),tn.loadKeySession(xt)}function jn(xt){var un=o.getPSSHForKeySystem(Bt,xt?xt.initData:null);if(un){if(function(Tn){if(!Tn)return!1;try{for(var Kn=tn.getSessions(),Pn=0;Pn<Kn.length;Pn++)if(Kn[Pn].getKeyId()===Tn)return!0;return!1}catch{return!1}}(xt.keyId)||Vn(un))return;try{xt.initData=un,tn.createKeySession(xt)}catch(Tn){$t.trigger(gn.KEY_SESSION_CREATED,{data:null,error:new u.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+Tn.message)})}}else xt&&xt.initData?tn.createKeySession(xt):$t.trigger(gn.KEY_SESSION_CREATED,{data:null,error:new u.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Bt?Bt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function ar(xt){if(xt){var un=xt.systemString;if(Je)return un in Je?Je[un]:null}return null}function Vn(xt){if(!xt)return!1;try{for(var un=tn.getAllInitData(),Tn=0;Tn<un.length;Tn++)if(wt.initDataEquals(xt,un[Tn]))return Rt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function hr(xt){mn(),xt?(tn.setMediaElement(xt),$t.on(gn.NEED_KEY,Ma,bt)):xt===null&&(tn.setMediaElement(xt),$t.off(gn.NEED_KEY,Ma,bt))}function ki(xt){var un=xt.protData,Tn=[],Kn=[],Pn=un&&un.audioRobustness&&un.audioRobustness.length>0?un.audioRobustness:Ft,or=un&&un.videoRobustness&&un.videoRobustness.length>0?un.videoRobustness:Ft,Zn=xt.sessionType,zr=un&&un.distinctiveIdentifier?un.distinctiveIdentifier:"optional",nr=un&&un.persistentState?un.persistentState:Zn==="temporary"?"optional":"required";return yt.forEach(function(zn){zn.type===ln.AUDIO?Tn.push(new i(zn.codec,Pn)):zn.type===ln.VIDEO&&Kn.push(new i(zn.codec,or))}),new E(Tn,Kn,zr,nr,[Zn])}function $r(xt){xt.error?$t.trigger(gn.KEY_STATUSES_CHANGED,{data:null,error:xt.error}):Rt.debug("DRM: key status = "+xt.status)}function li(xt){Rt.debug("DRM: onKeyMessage");var un=xt.data;$t.trigger(gn.KEY_MESSAGE,{data:un});var Tn=un.messageType?un.messageType:"license-request",Kn=un.message,Pn=un.sessionToken,or=ar(Bt),Zn=wt.getLicenseServerModelInstance(Bt,or,Tn),zr={sessionToken:Pn,messageType:Tn};if(Kn&&Kn.byteLength!==0){if(!Zn)return Rt.debug("DRM: License server request not required for this message (type = "+xt.data.messageType+").  Session ID = "+Pn.getSessionId()),void Ar(zr);if(wt.isClearKey(Bt)){var nr=wt.processClearKeyLicenseRequest(Bt,or,Kn);if(nr&&nr.keyPairs&&nr.keyPairs.length>0)return Rt.debug("DRM: ClearKey license request handled by application!"),Ar(zr),void tn.updateKeySession(Pn,nr)}(function(zn,wr,br){var ui=zn.sessionToken,Jr=zn.messageType?zn.messageType:"license-request",ci={sessionToken:ui,messageType:Jr},Fi=Bt?Bt.systemString:null,vo=function(Bn,ca,ka,fa,Ss){var ei=null,As=fa.message;if(Bn&&Bn.serverURL){var Ui=Bn.serverURL;typeof Ui=="string"&&Ui!==""?ei=Ui:k(Ui)==="object"&&Ui.hasOwnProperty(ca)&&(ei=Ui[ca])}else if(Bn&&Bn.laURL&&Bn.laURL!=="")ei=Bn.laURL;else if(!(ei=o.getLicenseServerUrlFromMediaInfo(yt,Bt.schemeIdURI))&&!wt.isClearKey(Bt)){var ws=o.getPSSHData(ka.initData);(ei=Bt.getLicenseServerURLFromInitData(ws))||(ei=fa.laURL)}return ei=Ss.getServerURLFromMessage(ei,As,ca)}(br,Jr,ui,zn,wr);if(vo){var Pa={},La=!1;br&&ps(Pa,br.httpRequestHeaders);var ys=zn.message;ps(Pa,Bt.getRequestHeadersFromMessage(ys)),Object.keys(Pa).forEach(function(Bn){Bn.toLowerCase()==="authorization"&&(La=!0)}),br&&typeof br.withCredentials=="boolean"&&(La=br.withCredentials);var vs=function(Bn){if(tn)if(Bn.status>=200&&Bn.status<=299){var ca=z.Z.parseHttpHeaders(Bn.getAllResponseHeaders?Bn.getAllResponseHeaders():null),ka=new I(Bn.responseURL,ca,Bn.response);ms(dn.getLicenseResponseFilters(),ka).then(function(){var fa=wr.getLicenseMessage(ka.data,Fi,Jr);fa!==null?(Ar(ci),tn.updateKeySession(ui,fa)):hs(Bn,ci,Fi,Jr,wr)})}else hs(Bn,ci,Fi,Jr,wr)},iu=function(Bn){Ar(ci,new u.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Fi+' update, XHR aborted. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},au=function(Bn){Ar(ci,new u.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Fi+' update, XHR error. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},Es=Bt.getLicenseRequestFromMessage(ys),_s=wr.getHTTPMethod(Jr),ou=wr.getResponseType(Fi,Jr),Eo=br&&!isNaN(br.httpTimeout)?br.httpTimeout:8e3,Ts=ui.getSessionId()||null,xa=new d(vo,_s,ou,Pa,La,Jr,Ts,Es),su=isNaN(qt.get().streaming.retryAttempts[Z.w.LICENSE])?3:qt.get().streaming.retryAttempts[Z.w.LICENSE];ms(dn.getLicenseRequestFilters(),xa).then(function(){gs(xa,su,Eo,vs,iu,au)})}else Ar(ci,new u.Z(r.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,r.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(un,Zn,or)}else Ar(zr,new u.Z(r.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,r.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ar(xt,un){$t.trigger(gn.LICENSE_REQUEST_COMPLETE,{data:xt,error:un})}function gs(xt,un,Tn,Kn,Pn,or){var Zn=new XMLHttpRequest;if(qt.get().streaming.cmcd&&qt.get().streaming.cmcd.enabled&&qt.get().streaming.cmcd.mode===x.Z.CMCD_MODE_QUERY){var zr=Dt.getQueryParameter({url:xt.url,type:Z.w.LICENSE});zr&&(xt.url=z.Z.addAditionalQueryParameterToUrl(xt.url,[zr]))}for(var nr in Zn.open(xt.method,xt.url,!0),Zn.responseType=xt.responseType,Zn.withCredentials=xt.withCredentials,Tn>0&&(Zn.timeout=Tn),xt.headers)Zn.setRequestHeader(nr,xt.headers[nr]);if(qt.get().streaming.cmcd&&qt.get().streaming.cmcd.enabled&&qt.get().streaming.cmcd.mode===x.Z.CMCD_MODE_HEADER){var zn=Dt.getHeaderParameters({url:xt.url,type:Z.w.LICENSE});if(zn)for(var wr in zn){var br=zn[wr];br&&Zn.setRequestHeader(wr,br)}}var ui=function(){un--;var Jr=isNaN(qt.get().streaming.retryIntervals[Z.w.LICENSE])?1e3:qt.get().streaming.retryIntervals[Z.w.LICENSE];Ht=setTimeout(function(){gs(xt,un,Tn,Kn,Pn,or)},Jr)};Zn.onload=function(){an=null,this.status>=200&&this.status<=299||un<=0?Kn(this):(Rt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+un),ui())},Zn.ontimeout=Zn.onerror=function(){an=null,un<=0?or(this):(Rt.warn("License request network request failed . Retrying it... Pending retries: "+un),ui())},Zn.onabort=function(){Pn(this)},$t.trigger(gn.LICENSE_REQUEST_SENDING,{url:xt.url,headers:xt.headers,payload:xt.data,sessionId:xt.sessionId}),an=Zn,Zn.send(xt.data)}function Oa(){an&&(an.onloadend=an.onerror=an.onprogress=void 0,an.abort(),an=null),Ht&&(clearTimeout(Ht),Ht=null)}function ps(xt,un){if(un)for(var Tn in un)xt[Tn]=un[Tn]}function hs(xt,un,Tn,Kn,Pn){var or="NONE",Zn=null;xt.response&&(or=Pn.getErrorResponse(xt.response,Tn,Kn),Zn={serverResponse:xt.response||null,responseCode:xt.status||null,responseText:xt.statusText||null}),Ar(un,new u.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Tn+' update, XHR complete. status is "'+xt.statusText+'" ('+xt.status+"), readyState is "+xt.readyState+".  Response is "+or,Zn))}function ms(xt,un){return xt?xt.reduce(function(Tn,Kn){return Tn.then(function(){return Kn(un)})},Promise.resolve()):Promise.resolve()}function Ma(xt,un){if(!qt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Rt.debug("DRM: onNeedKey"),xt.key.initDataType!=="cenc")return void Rt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+xt.key.initDataType);if(yt.length===0&&(Rt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(un=un===void 0?1:un+1)<5))return void At.push(setTimeout(function(){Ma(xt,un)},500));var Tn=xt.key.initData;if(ArrayBuffer.isView(Tn)&&(Tn=Tn.buffer),Bt){var Kn=o.getPSSHForKeySystem(Bt,Tn);if(Kn&&Vn(Kn))return}Rt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Tn)));var Pn=wt.getSupportedKeySystemsFromSegmentPssh(Tn,Je,dt);if(Pn.length===0)return void Rt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(or){Ve.push(or),In(or,!1)})(Pn)}}return bt={initializeForMedia:function(xt){if(!xt)throw new Error("mediaInfo can not be null or undefined");mn(),yt.push(xt)},clearMediaInfoArray:function(){yt=[]},handleKeySystemFromManifest:function(){if(yt&&yt.length!==0){var xt=[];yt.forEach(function(un){var Tn=wt.getSupportedKeySystemsFromContentProtection(un.contentProtection,Je,dt);Tn.length>0&&(xt.length===0&&(xt=Tn),Ve.push(Tn))}),xt&&xt.length>0&&In(xt,!0)}},createKeySession:jn,loadKeySession:pr,removeKeySession:function(xt){mn(),tn.removeKeySession(xt)},closeKeySession:function(xt){mn(),tn.closeKeySession(xt)},setServerCertificate:function(xt){mn(),tn.setServerCertificate(xt)},setMediaElement:hr,setSessionType:function(xt){dt=xt},setRobustnessLevel:function(xt){Ft=xt},setProtectionData:function(xt){Je=xt,wt.setProtectionData(xt)},getSupportedKeySystemsFromContentProtection:function(xt){return mn(),wt.getSupportedKeySystemsFromContentProtection(xt,Je,dt)},getKeySystems:function(){return wt?wt.getKeySystems():[]},setKeySystems:function(xt){wt&&wt.setKeySystems(xt)},stop:function(){Oa(),tn&&tn.stop()},reset:function(){$t.off(gn.INTERNAL_KEY_MESSAGE,li,bt),$t.off(gn.INTERNAL_KEY_STATUS_CHANGED,$r,bt),mn(),Oa(),hr(null),Bt=null,rn=!1,tn&&(tn.reset(),tn=null),At.forEach(function(xt){return clearTimeout(xt)}),At=[],yt=[],Ve=[]}},Rt=An.getLogger(bt),Ve=[],yt=[],dt="temporary",Ft="",an=null,Ht=null,$t.on(gn.INTERNAL_KEY_MESSAGE,li,bt),$t.on(gn.INTERNAL_KEY_STATUS_CHANGED,$r,bt),bt}te.__dashjs_factory_name="ProtectionController";var ce=re.Z.getClassFactory(te),$=function Ct(bt,Rt){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.keyID=bt,this.key=Rt};function ue(Ct,bt){for(var Rt=0;Rt<bt.length;Rt++){var Ve=bt[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}var he=function(){function Ct(Ve,yt){if(function(Je,dt){if(!(Je instanceof dt))throw new TypeError("Cannot call a class as a function")}(this,Ct),yt&&yt!=="persistent"&&yt!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Ve,this.type=yt}var bt,Rt;return bt=Ct,(Rt=[{key:"toJWK",value:function(){var Ve,yt=this.keyPairs.length,Je={keys:[]};for(Ve=0;Ve<yt;Ve++){var dt={kty:"oct",alg:"A128KW",kid:this.keyPairs[Ve].keyID,k:this.keyPairs[Ve].key};Je.keys.push(dt)}this.type&&(Je.type=this.type);var Ft=JSON.stringify(Je),Bt=Ft.length,rn=new ArrayBuffer(Bt),an=new Uint8Array(rn);for(Ve=0;Ve<Bt;Ve++)an[Ve]=Ft.charCodeAt(Ve);return rn}}])&&ue(bt.prototype,Rt),Ct}();function Ce(Ct,bt){for(var Rt=0;Rt<bt.length;Rt++){var Ve=bt[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}var oe=new(function(){function Ct(){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.init()}var bt,Rt;return bt=Ct,(Rt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&Ce(bt.prototype,Rt),Ct}()),be="e2719d58-a985-b3c9-781a-b030af78d30e",Pe=oe.CLEARKEY_KEYSTEM_STRING,Ne="urn:uuid:"+be;function me(Ct){var bt=(Ct=Ct||{}).BASE64;return{uuid:be,schemeIdURI:Ne,systemString:Pe,getInitData:function(Rt,Ve){try{var yt=o.parseInitDataFromContentProtection(Rt,bt);if(!yt&&Ve){var Je={kids:[function(dt){try{var Ft=dt.replace(/-/g,"");return(Ft=btoa(Ft.match(/\w{2}/g).map(function(Bt){return String.fromCharCode(parseInt(Bt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Ve["cenc:default_KID"])]};yt=new TextEncoder().encode(JSON.stringify(Je))}return yt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Rt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Rt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Rt,Ve){var yt=null;if(Rt){for(var Je=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ve))),dt=[],Ft=0;Ft<Je.kids.length;Ft++){var Bt=Je.kids[Ft],rn=Rt.clearkeys&&Rt.clearkeys.hasOwnProperty(Bt)?Rt.clearkeys[Bt]:null;if(!rn)throw new Error("DRM: ClearKey keyID ("+Bt+") is not known!");dt.push(new $(Bt,rn))}yt=new he(dt)}return yt}}}me.__dashjs_factory_name="KeySystemClearKey";var Le=dashjs.FactoryMaker.getSingletonFactory(me),qe="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",$e=oe.CLEARKEY_KEYSTEM_STRING,Re="urn:uuid:"+qe;function Fe(Ct){var bt,Rt=Ct.BASE64,Ve=Ct.debug.getLogger(bt);return{uuid:qe,schemeIdURI:Re,systemString:$e,getInitData:function(yt){return o.parseInitDataFromContentProtection(yt,Rt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(yt){return new Uint8Array(yt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(yt,Je){var dt=null;if(yt){for(var Ft=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Je))),Bt=[],rn=0;rn<Ft.kids.length;rn++){var an=Ft.kids[rn],Ht=yt.clearkeys&&yt.clearkeys.hasOwnProperty(an)?yt.clearkeys[an]:null;if(!Ht)throw new Error("DRM: ClearKey keyID ("+an+") is not known!");Bt.push(new $(an,Ht))}dt=new he(Bt),Ve.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return dt}}}Fe.__dashjs_factory_name="KeySystemW3CClearKey";var Et=dashjs.FactoryMaker.getSingletonFactory(Fe),gt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",He=oe.WIDEVINE_KEYSTEM_STRING,ot="urn:uuid:"+gt;function Se(Ct){var bt=(Ct=Ct||{}).BASE64;return{uuid:gt,schemeIdURI:ot,systemString:He,getInitData:function(Rt){return o.parseInitDataFromContentProtection(Rt,bt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Rt){return new Uint8Array(Rt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}Se.__dashjs_factory_name="KeySystemWidevine";var we=dashjs.FactoryMaker.getSingletonFactory(Se),Ke="9a04f079-9840-4286-ab92-e65be0885f95",y=oe.PLAYREADY_KEYSTEM_STRING,p="urn:uuid:"+Ke;function N(Ct){var bt="utf-16",Rt=(Ct=Ct||{}).BASE64,Ve=Ct.settings;function yt(){if(!Rt||!Rt.hasOwnProperty("decodeArray")||!Rt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:Ke,schemeIdURI:p,systemString:y,getInitData:function(Je){var dt,Ft,Bt,rn,an,Ht=new Uint8Array([112,115,115,104,0,0,0,0]),wt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),tn=0,$t=null;if(yt(),!Je)return null;if("pssh"in Je)return o.parseInitDataFromContentProtection(Je,Rt);if("pro"in Je)$t=Rt.decodeArray(Je.pro.__text);else{if(!("prheader"in Je))return null;$t=Rt.decodeArray(Je.prheader.__text)}return dt=$t.length,Ft=4+Ht.length+wt.length+4+dt,Bt=new ArrayBuffer(Ft),rn=new Uint8Array(Bt),(an=new DataView(Bt)).setUint32(tn,Ft),tn+=4,rn.set(Ht,tn),tn+=Ht.length,rn.set(wt,tn),tn+=wt.length,an.setUint32(tn,dt),tn+=4,rn.set($t,tn),tn+=dt,rn.buffer},getRequestHeadersFromMessage:function(Je){var dt,Ft,Bt={},rn=new DOMParser;if(Ve&&Ve.get().streaming.protection.detectPlayreadyMessageFormat&&bt==="utf-16"&&Je&&Je.byteLength%2==1)return Bt["Content-Type"]="text/xml; charset=utf-8",Bt;var an=bt==="utf-16"?new Uint16Array(Je):new Uint8Array(Je);dt=String.fromCharCode.apply(null,an);for(var Ht=(Ft=rn.parseFromString(dt,"application/xml")).getElementsByTagName("name"),wt=Ft.getElementsByTagName("value"),tn=0;tn<Ht.length;tn++)Bt[Ht[tn].childNodes[0].nodeValue]=wt[tn].childNodes[0].nodeValue;return Bt.hasOwnProperty("Content")&&(Bt["Content-Type"]=Bt.Content,delete Bt.Content),Bt.hasOwnProperty("Content-Type")||(Bt["Content-Type"]="text/xml; charset=utf-8"),Bt},getLicenseRequestFromMessage:function(Je){var dt=null,Ft=new DOMParser;if(Ve&&Ve.get().streaming.protection.detectPlayreadyMessageFormat&&bt==="utf-16"&&Je&&Je.byteLength%2==1)return Je;var Bt=bt==="utf-16"?new Uint16Array(Je):new Uint8Array(Je);yt();var rn=String.fromCharCode.apply(null,Bt),an=Ft.parseFromString(rn,"application/xml");if(!an.getElementsByTagName("PlayReadyKeyMessage")[0])return Je;var Ht=an.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Ht&&(dt=Rt.decode(Ht)),dt},getLicenseServerURLFromInitData:function(Je){if(Je)for(var dt=new DataView(Je),Ft=dt.getUint16(4,!0),Bt=6,rn=new DOMParser,an=0;an<Ft;an++){var Ht=dt.getUint16(Bt,!0);Bt+=2;var wt=dt.getUint16(Bt,!0);if(Bt+=2,Ht===1){var tn=Je.slice(Bt,Bt+wt),$t=String.fromCharCode.apply(null,new Uint16Array(tn)),gn=rn.parseFromString($t,"application/xml");if(gn.getElementsByTagName("LA_URL")[0]){var An=gn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(An)return An}if(gn.getElementsByTagName("LUI_URL")[0]){var Dn=gn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Dn)return Dn}}else Bt+=wt}return null},getCDMData:function(Je){var dt,Ft,Bt,rn;if(yt(),!Je)return null;for(dt=[],rn=0;rn<Je.length;++rn)dt.push(Je.charCodeAt(rn)),dt.push(0);for(dt=String.fromCharCode.apply(null,dt),dt=Rt.encode(dt),Ft='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",dt),Bt=[],rn=0;rn<Ft.length;++rn)Bt.push(Ft.charCodeAt(rn)),Bt.push(0);return new Uint8Array(Bt).buffer},setPlayReadyMessageFormat:function(Je){if(Je!=="utf-8"&&Je!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');bt=Je}}}N.__dashjs_factory_name="KeySystemPlayReady";var C=dashjs.FactoryMaker.getSingletonFactory(N);function ae(Ct){var bt=(Ct=Ct||{}).BASE64,Rt={};return Rt[oe.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Ve){return bt.decodeArray(Ve.license)},getErrorResponse:function(Ve){return Ve}},Rt[oe.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Ve){return Ve},getErrorResponse:function(Ve){return String.fromCharCode.apply(null,new Uint8Array(Ve))}},{getServerURLFromMessage:function(Ve){return Ve},getHTTPMethod:function(){return"POST"},getResponseType:function(Ve){return Rt[Ve].responseType},getLicenseMessage:function(Ve,yt){return function(){if(!bt||!bt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Rt[yt].getLicenseMessage(Ve)},getErrorResponse:function(Ve,yt){return Rt[yt].getErrorResponse(Ve)}}}ae.__dashjs_factory_name="DRMToday";var ne=dashjs.FactoryMaker.getSingletonFactory(ae);function Me(){var Ct="http://schemas.xmlsoap.org/soap/envelope/";function bt(yt){var Je=String.fromCharCode.apply(null,new Uint8Array(yt));return decodeURIComponent(escape(Je))}function Rt(yt){if(window.DOMParser){var Je=bt(yt),dt=new window.DOMParser().parseFromString(Je,"text/xml"),Ft=dt?dt.getElementsByTagNameNS(Ct,"Envelope")[0]:null,Bt=Ft?Ft.getElementsByTagNameNS(Ct,"Body")[0]:null;if(Bt&&Bt.getElementsByTagNameNS(Ct,"Fault")[0])return null}return yt}function Ve(yt){var Je="",dt="",Ft="",Bt=-1,rn=-1;if(window.DOMParser){var an=bt(yt),Ht=new window.DOMParser().parseFromString(an,"text/xml"),wt=Ht?Ht.getElementsByTagNameNS(Ct,"Envelope")[0]:null,tn=wt?wt.getElementsByTagNameNS(Ct,"Body")[0]:null,$t=tn?tn.getElementsByTagNameNS(Ct,"Fault")[0]:null,gn=$t?$t.getElementsByTagName("detail")[0]:null,An=gn?gn.getElementsByTagName("Exception")[0]:null,Dn=null;if($t===null)return an;Je=(Dn=$t.getElementsByTagName("faultstring")[0].firstChild)?Dn.nodeValue:null,An!==null&&(dt=(Dn=An.getElementsByTagName("StatusCode")[0])?Dn.firstChild.nodeValue:null,Bt=(Ft=(Dn=An.getElementsByTagName("Message")[0])?Dn.firstChild.nodeValue:null)?Ft.lastIndexOf("[")+1:-1,rn=Ft?Ft.indexOf("]"):-1,Ft=Ft?Ft.substring(Bt,rn):"")}var ln="code: ".concat(dt,", name: ").concat(Je);return Ft&&(ln+=", message: ".concat(Ft)),ln}return{getServerURLFromMessage:function(yt){return yt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(yt){return Rt.call(this,yt)},getErrorResponse:function(yt){return Ve.call(this,yt)}}}Me.__dashjs_factory_name="PlayReady";var nt=re.Z.getSingletonFactory(Me);function je(){return{getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Ct){return Ct},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}}}je.__dashjs_factory_name="Widevine";var Ge=dashjs.FactoryMaker.getSingletonFactory(je);function xe(){return{getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Ct){if(!Ct.hasOwnProperty("keys"))return null;for(var bt=[],Rt=0;Rt<Ct.keys.length;Rt++){var Ve=Ct.keys[Rt],yt=Ve.kid.replace(/=/g,""),Je=Ve.k.replace(/=/g,"");bt.push(new $(yt,Je))}return new he(bt)},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}}}xe.__dashjs_factory_name="ClearKey";var Ye=dashjs.FactoryMaker.getSingletonFactory(xe);function at(){var Ct,bt,Rt,Ve,yt,Je,dt,Ft,Bt=this.context;function rn(wt,tn){return tn&&wt in tn?tn[wt]:null}function an(wt,tn){return wt&&wt.sessionId?wt.sessionId:tn&&tn.sessionId?tn.sessionId:null}function Ht(wt,tn){return wt&&wt.sessionType?wt.sessionType:tn}return Ct={initialize:function(){var wt;Ve=[],wt=C(Bt).getInstance({BASE64:yt,settings:Je}),Ve.push(wt),wt=we(Bt).getInstance({BASE64:yt}),Ve.push(wt),wt=Le(Bt).getInstance({BASE64:yt}),Ve.push(wt),dt=wt,wt=Et(Bt).getInstance({BASE64:yt,debug:bt}),Ve.push(wt),Ft=wt},setProtectionData:function(wt){for(var tn,$t,gn=0;gn<Ve.length;gn++){var An=Ve[gn];An.hasOwnProperty("init")&&An.init((tn=An.systemString,$t=void 0,$t=null,wt&&($t=tn in wt?wt[tn]:null),$t))}},isClearKey:function(wt){return wt===dt||wt===Ft},initDataEquals:function(wt,tn){if(wt.byteLength===tn.byteLength){for(var $t=new Uint8Array(wt),gn=new Uint8Array(tn),An=0;An<$t.length;An++)if($t[An]!==gn[An])return!1;return!0}return!1},getKeySystems:function(){return Ve},setKeySystems:function(wt){Ve=wt},getKeySystemBySystemString:function(wt){for(var tn=0;tn<Ve.length;tn++)if(Ve[tn].systemString===wt)return Ve[tn];return null},getSupportedKeySystemsFromContentProtection:function(wt,tn,$t){var gn,An,Dn,ln,At=[];if(wt){var Dt=o.findCencContentProtection(wt);for(Dn=0;Dn<Ve.length;++Dn){var qt=rn((An=Ve[Dn]).systemString,tn);for(ln=0;ln<wt.length;++ln)if((gn=wt[ln]).schemeIdUri.toLowerCase()===An.schemeIdURI){var dn=An.getInitData(gn,Dt);At.push({ks:Ve[Dn],keyId:gn.keyId,initData:dn,protData:qt,cdmData:An.getCDMData(qt?qt.cdmData:null),sessionId:an(qt,gn),sessionType:Ht(qt,$t)})}}}return At},getSupportedKeySystemsFromSegmentPssh:function(wt,tn,$t){for(var gn,An=[],Dn=o.parsePSSHList(wt),ln=0;ln<Ve.length;++ln){var At=rn((gn=Ve[ln]).systemString,tn);gn.uuid in Dn&&An.push({ks:gn,initData:Dn[gn.uuid],protData:At,cdmData:gn.getCDMData(At?At.cdmData:null),sessionId:an(At),sessionType:Ht(At,$t)})}return An},getLicenseServerModelInstance:function(wt,tn,$t){if($t==="license-release"||$t==="individualization-request")return null;var gn=null;return tn&&tn.hasOwnProperty("drmtoday")?gn=ne(Bt).getInstance({BASE64:yt}):wt.systemString===oe.WIDEVINE_KEYSTEM_STRING?gn=Ge(Bt).getInstance():wt.systemString===oe.PLAYREADY_KEYSTEM_STRING?gn=nt(Bt).getInstance():wt.systemString===oe.CLEARKEY_KEYSTEM_STRING&&(gn=Ye(Bt).getInstance()),gn},processClearKeyLicenseRequest:function(wt,tn,$t){try{return wt.getClearKeysFromProtectionData(tn,$t)}catch{return Rt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(wt){wt&&(wt.debug&&(bt=wt.debug,Rt=bt.getLogger(Ct)),wt.BASE64&&(yt=wt.BASE64),wt.settings&&(Je=wt.settings))}},Ct}at.__dashjs_factory_name="ProtectionKeyController";var St=dashjs.FactoryMaker.getSingletonFactory(at);function ft(Ct){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt},ft(Ct)}function Yt(Ct,bt){return Yt=Object.setPrototypeOf||function(Rt,Ve){return Rt.__proto__=Ve,Rt},Yt(Ct,bt)}function Ot(Ct,bt){return!bt||ft(bt)!=="object"&&typeof bt!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(Ct):bt}function Gt(Ct){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)},Gt(Ct)}var Zt=new(function(Ct){(function(Je,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),dt&&Yt(Je,dt)})(yt,Ct);var bt,Rt,Ve=(bt=yt,Rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Je,dt=Gt(bt);if(Rt){var Ft=Gt(this).constructor;Je=Reflect.construct(dt,arguments,Ft)}else Je=dt.apply(this,arguments);return Ot(this,Je)});function yt(){var Je;return function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,yt),(Je=Ve.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",Je.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",Je.KEY_ADDED="public_keyAdded",Je.KEY_ERROR="public_keyError",Je.KEY_MESSAGE="public_keyMessage",Je.KEY_SESSION_CLOSED="public_keySessionClosed",Je.KEY_SESSION_CREATED="public_keySessionCreated",Je.KEY_SESSION_REMOVED="public_keySessionRemoved",Je.KEY_STATUSES_CHANGED="public_keyStatusesChanged",Je.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",Je.KEY_SYSTEM_SELECTED="public_keySystemSelected",Je.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",Je.LICENSE_REQUEST_SENDING="public_licenseRequestSending",Je.NEED_KEY="needkey",Je.PROTECTION_CREATED="public_protectioncreated",Je.PROTECTION_DESTROYED="public_protectiondestroyed",Je.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",Je.TEARDOWN_COMPLETE="protectionTeardownComplete",Je.VIDEO_ELEMENT_SELECTED="videoElementSelected",Je.KEY_SESSION_UPDATED="public_keySessionUpdated",Je}return yt}(v(8342).Z)),fn=function Ct(bt,Rt){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.initData=bt,this.initDataType=Rt},Sn=function Ct(bt,Rt,Ve,yt){(function(Je,dt){if(!(Je instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.sessionToken=bt,this.message=Rt,this.defaultURL=Ve,this.messageType=yt||"license-request"},kn=function Ct(bt,Rt){(function(Ve,yt){if(!(Ve instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.keySystem=bt,this.ksConfiguration=Rt},Mn={};function Un(Ct){Ct=Ct||{};var bt,Rt,Ve,yt,Je,dt,Ft,Bt,rn=this.context,an=Ct.eventBus,Ht=Ct.events,wt=Ct.debug;function tn(At,Dt,qt,dn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var mn="Insecure origins are not allowed";return an.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:mn}),void dn({error:mn})}var In=At[Dt].protData&&At[Dt].protData.systemStringPriority?At[Dt].protData.systemStringPriority:null,Cn=At[Dt].configs,gr=At[Dt].ks,pr=gr.systemString;(function(jn,ar){return new Promise(function(Vn,hr){$t(jn,ar,0,Vn,hr)})})(In||(Mn[pr]?Mn[pr]:[pr]),Cn).then(function(jn){var ar=typeof jn.getConfiguration=="function"?jn.getConfiguration():null,Vn=new kn(gr,ar);Vn.mksa=jn,an.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{data:Vn}),qt({data:Vn})}).catch(function(jn){if(Dt+1<At.length)tn(At,Dt+1,qt,dn);else{var ar="Key system access denied! ";an.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:ar+jn.message}),dn({error:ar+jn.message})}})}function $t(At,Dt,qt,dn,mn){var In=At[qt];Rt.debug("Requesting key system access for system string ".concat(In)),navigator.requestMediaKeySystemAccess(In,Dt).then(function(Cn){Cn.selectedSystemString=In,dn(Cn)}).catch(function(Cn){qt+1<At.length?$t(At,Dt,qt+1,dn,mn):mn(Cn)})}function gn(At){if(!At||!At.session)return Promise.resolve;var Dt=At.session;return Dt.removeEventListener("keystatuseschange",At),Dt.removeEventListener("message",At),Dt.close()}function An(At){for(var Dt=0;Dt<dt.length;Dt++)if(dt[Dt]===At){dt.splice(Dt,1);break}}function Dn(At){var Dt,qt;return At&&At.length>0&&(At[0]&&(typeof At[0]=="string"?Dt=At[0]:qt=At[0]),At[1]&&(typeof At[1]=="string"?Dt=At[1]:qt=At[1])),{status:Dt,keyId:qt}}function ln(At,Dt){var qt={session:At,keyId:Dt.keyId,initData:Dt.initData,sessionId:Dt.sessionId,sessionType:Dt.sessionType,handleEvent:function(dn){switch(dn.type){case"keystatuseschange":an.trigger(Ht.KEY_STATUSES_CHANGED,{data:this}),dn.target.keyStatuses.forEach(function(){var In=Dn(arguments);In.status==="expired"?an.trigger(Ht.INTERNAL_KEY_STATUS_CHANGED,{error:new u.Z(r.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,r.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):an.trigger(Ht.INTERNAL_KEY_STATUS_CHANGED,In)});break;case"message":var mn=ArrayBuffer.isView(dn.message)?dn.message.buffer:dn.message;an.trigger(Ht.INTERNAL_KEY_MESSAGE,{data:new Sn(this,mn,void 0,dn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return At.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return At.expiration},getKeyStatuses:function(){return At.keyStatuses},getUsable:function(){var dn=!1;return At.keyStatuses.forEach(function(){var mn=Dn(arguments);mn.status==="usable"&&(dn=!0)}),dn}};return At.addEventListener("keystatuseschange",qt),At.addEventListener("message",qt),At.closed.then(function(){An(qt),Rt.debug("DRM: Session closed.  SessionID = "+qt.getSessionId()),an.trigger(Ht.KEY_SESSION_CLOSED,{data:qt.getSessionId()})}),dt.push(qt),qt}return bt={getAllInitData:function(){for(var At=[],Dt=0;Dt<dt.length;Dt++)dt[Dt].initData&&At.push(dt[Dt].initData);return At},getSessions:function(){return dt},requestKeySystemAccess:function(At){return new Promise(function(Dt,qt){tn(At,0,Dt,qt)})},selectKeySystem:function(At){return new Promise(function(Dt,qt){At.mksa.createMediaKeys().then(function(dn){return Ve=At.keySystem,Je=dn,yt?yt.setMediaKeys(Je):Promise.resolve()}).then(function(){Dt(Ve)}).catch(function(){qt({error:"Error selecting keys system ("+At.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(At){yt!==At&&(yt&&(yt.removeEventListener("encrypted",Ft),yt.setMediaKeys&&yt.setMediaKeys(null)),(yt=At)&&(yt.addEventListener("encrypted",Ft),yt.setMediaKeys&&Je&&yt.setMediaKeys(Je)))},setServerCertificate:function(At){if(!Ve||!Je)throw new Error("Can not set server certificate until you have selected a key system");Je.setServerCertificate(At).then(function(){Rt.info("DRM: License server certificate successfully updated."),an.trigger(Ht.SERVER_CERTIFICATE_UPDATED)}).catch(function(Dt){an.trigger(Ht.SERVER_CERTIFICATE_UPDATED,{error:new u.Z(r.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,r.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Dt.name)})})},createKeySession:function(At){if(!Ve||!Je)throw new Error("Can not create sessions until you have selected a key system");var Dt=Je.createSession(At.sessionType),qt=ln(Dt,At),dn=Ve.systemString===oe.CLEARKEY_KEYSTEM_STRING&&(At.initData||At.protData&&At.protData.clearkeys)?oe.INITIALIZATION_DATA_TYPE_KEYIDS:oe.INITIALIZATION_DATA_TYPE_CENC;Dt.generateRequest(dn,At.initData).then(function(){Rt.debug("DRM: Session created.  SessionID = "+qt.getSessionId()),an.trigger(Ht.KEY_SESSION_CREATED,{data:qt})}).catch(function(mn){An(qt),an.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new u.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+mn.name)})})},updateKeySession:function(At,Dt){var qt=At.session;Bt.isClearKey(Ve)&&(Dt=Dt.toJWK()),qt.update(Dt).then(function(){an.trigger(Ht.KEY_SESSION_UPDATED)}).catch(function(dn){an.trigger(Ht.KEY_ERROR,{error:new u.Z(r.MEDIA_KEYERR_CODE,"Error sending update() message! "+dn.name,At)})})},loadKeySession:function(At){if(!Ve||!Je)throw new Error("Can not load sessions until you have selected a key system");for(var Dt=At.sessionId,qt=0;qt<dt.length;qt++)if(Dt===dt[qt].sessionId)return void Rt.warn("DRM: Ignoring session ID because we have already seen it!");var dn=Je.createSession(At.sessionType),mn=ln(dn,At);dn.load(Dt).then(function(In){In?(Rt.debug("DRM: Session loaded.  SessionID = "+mn.getSessionId()),an.trigger(Ht.KEY_SESSION_CREATED,{data:mn})):(An(mn),an.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new u.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Dt+")")}))}).catch(function(In){An(mn),an.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new u.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Dt+")! "+In.name)})})},removeKeySession:function(At){At.session.remove().then(function(){Rt.debug("DRM: Session removed.  SessionID = "+At.getSessionId()),an.trigger(Ht.KEY_SESSION_REMOVED,{data:At.getSessionId()})},function(Dt){an.trigger(Ht.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+At.getSessionId()+"). "+Dt.name})})},closeKeySession:function(At){gn(At).catch(function(Dt){An(At),an.trigger(Ht.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+At.getSessionId()+") "+Dt.name})})},stop:function(){for(var At,Dt=0;Dt<dt.length;Dt++)(At=dt[Dt]).getUsable()||(gn(At),An(At))},reset:function(){var At,Dt=dt.length;Dt!==0?function(){for(var qt=function(mn){An(mn),dt.length===0&&(yt?(yt.removeEventListener("encrypted",Ft),yt.setMediaKeys(null).then(function(){an.trigger(Ht.TEARDOWN_COMPLETE)})):an.trigger(Ht.TEARDOWN_COMPLETE))},dn=0;dn<Dt;dn++)(function(mn){gn(At),qt(mn)})(At=dt[dn])}():an.trigger(Ht.TEARDOWN_COMPLETE)}},Rt=wt.getLogger(bt),Ve=null,yt=null,Je=null,dt=[],Bt=St(rn).getInstance(),Ft={handleEvent:function(At){if(At.type==="encrypted"&&At.initData){var Dt=ArrayBuffer.isView(At.initData)?At.initData.buffer:At.initData;an.trigger(Ht.NEED_KEY,{key:new fn(Dt,At.initDataType)})}}},bt}Mn[oe.PLAYREADY_KEYSTEM_STRING]=[oe.PLAYREADY_KEYSTEM_STRING,oe.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Mn[oe.WIDEVINE_KEYSTEM_STRING]=[oe.WIDEVINE_KEYSTEM_STRING],Mn[oe.CLEARKEY_KEYSTEM_STRING]=[oe.CLEARKEY_KEYSTEM_STRING],Un.__dashjs_factory_name="ProtectionModel_21Jan2015";var cr=dashjs.FactoryMaker.getClassFactory(Un);function Nn(Ct){Ct=Ct||{};var bt,Rt,Ve,yt,Je,dt,Ft,Bt,rn,an=this.context,Ht=Ct.eventBus,wt=Ct.events,tn=Ct.debug,$t=Ct.api;function gn(){try{for(var ln=0;ln<Ft.length;ln++)An(Ft[ln]);Ve&&Ve.removeEventListener($t.needkey,Bt),Ht.trigger(wt.TEARDOWN_COMPLETE)}catch(At){Ht.trigger(wt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+At.message})}}function An(ln){var At=ln.session;At.removeEventListener($t.error,ln),At.removeEventListener($t.message,ln),At.removeEventListener($t.ready,ln),At.removeEventListener($t.close,ln);for(var Dt=0;Dt<Ft.length;Dt++)if(Ft[Dt]===ln){Ft.splice(Dt,1);break}At[$t.release]()}function Dn(){var ln=null,At=function(){Ve.removeEventListener("loadedmetadata",ln),Ve[$t.setMediaKeys](Je),Ht.trigger(wt.VIDEO_ELEMENT_SELECTED)};Ve.readyState>=1?At():(ln=At.bind(this),Ve.addEventListener("loadedmetadata",ln))}return bt={getAllInitData:function(){for(var ln=[],At=0;At<Ft.length;At++)ln.push(Ft[At].initData);return ln},getSessions:function(){return Ft},requestKeySystemAccess:function(ln){return new Promise(function(At,Dt){for(var qt=!1,dn=0;dn<ln.length;dn++)for(var mn=ln[dn].ks.systemString,In=ln[dn].configs,Cn=null,gr=null,pr=0;pr<In.length;pr++){var jn=In[pr].audioCapabilities,ar=In[pr].videoCapabilities;if(jn&&jn.length!==0){Cn=[];for(var Vn=0;Vn<jn.length;Vn++)window[$t.MediaKeys].isTypeSupported(mn,jn[Vn].contentType)&&Cn.push(jn[Vn])}if(ar&&ar.length!==0){gr=[];for(var hr=0;hr<ar.length;hr++)window[$t.MediaKeys].isTypeSupported(mn,ar[hr].contentType)&&gr.push(ar[hr])}if(!(!Cn&&!gr||Cn&&Cn.length===0||gr&&gr.length===0)){qt=!0;var ki=new E(Cn,gr),$r=rn.getKeySystemBySystemString(mn),li=new kn($r,ki);Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{data:li}),At({data:li});break}}if(!qt){var Ar="Key system access denied! -- No valid audio/video content configurations detected!";Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ar}),Dt({error:Ar})}})},selectKeySystem:function(ln){return new Promise(function(At,Dt){try{Je=ln.mediaKeys=new window[$t.MediaKeys](ln.keySystem.systemString),yt=ln.keySystem,dt=ln,Ve&&Dn(),At(yt)}catch{Dt({error:"Error selecting keys system ("+yt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(ln){Ve!==ln&&(Ve&&Ve.removeEventListener($t.needkey,Bt),(Ve=ln)&&(Ve.addEventListener($t.needkey,Bt),Je&&Dn()))},createKeySession:function(ln){if(!yt||!Je||!dt)throw new Error("Can not create sessions until you have selected a key system");var At=null;if(dt.ksConfiguration.videoCapabilities&&dt.ksConfiguration.videoCapabilities.length>0&&(At=dt.ksConfiguration.videoCapabilities[0]),At===null&&dt.ksConfiguration.audioCapabilities&&dt.ksConfiguration.audioCapabilities.length>0&&(At=dt.ksConfiguration.audioCapabilities[0]),At===null)throw new Error("Can not create sessions for unknown content types.");var Dt=At.contentType,qt=Je.createSession(Dt,new Uint8Array(ln.initData),ln.cdmData?new Uint8Array(ln.cdmData):null),dn=function(mn,In){return{session:mn,keyId:In.keyId,initData:In.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Cn){switch(Cn.type){case $t.error:Ht.trigger(wt.KEY_ERROR,{error:new u.Z(r.MEDIA_KEYERR_CODE,"KeyError",this)});break;case $t.message:var gr=ArrayBuffer.isView(Cn.message)?Cn.message.buffer:Cn.message;Ht.trigger(wt.INTERNAL_KEY_MESSAGE,{data:new Sn(this,gr,Cn.destinationURL)});break;case $t.ready:Rt.debug("DRM: Key added."),Ht.trigger(wt.KEY_ADDED);break;case $t.close:Rt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Ht.trigger(wt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(qt,ln);qt.addEventListener($t.error,dn),qt.addEventListener($t.message,dn),qt.addEventListener($t.ready,dn),qt.addEventListener($t.close,dn),Ft.push(dn),Rt.debug("DRM: Session created.  SessionID = "+dn.getSessionId()),Ht.trigger(wt.KEY_SESSION_CREATED,{data:dn})},updateKeySession:function(ln,At){var Dt=ln.session;rn.isClearKey(yt)?Dt.update(new Uint8Array(At.toJWK())):Dt.update(new Uint8Array(At)),Ht.trigger(wt.KEY_SESSION_UPDATED)},closeKeySession:An,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:gn,reset:gn},Rt=tn.getLogger(bt),Ve=null,yt=null,Je=null,dt=null,Ft=[],rn=St(an).getInstance(),Bt={handleEvent:function(ln){if(ln.type===$t.needkey&&ln.initData){var At=ArrayBuffer.isView(ln.initData)?ln.initData.buffer:ln.initData;Ht.trigger(wt.NEED_KEY,{key:new fn(At,"cenc")})}}},bt}Nn.__dashjs_factory_name="ProtectionModel_3Feb2014";var Dr=dashjs.FactoryMaker.getClassFactory(Nn);function tr(Ct){Ct=Ct||{};var bt,Rt,Ve,yt,Je,dt,Ft,Bt,rn,an=this.context,Ht=Ct.eventBus,wt=Ct.events,tn=Ct.debug,$t=Ct.api,gn=Ct.errHandler;function An(){Ve&&At();for(var Dt=0;Dt<Ft.length;Dt++)Dn(Ft[Dt]);Ht.trigger(wt.TEARDOWN_COMPLETE)}function Dn(Dt){try{Ve[$t.cancelKeyRequest](yt.systemString,Dt.sessionId)}catch(qt){Ht.trigger(wt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Dt.sessionId+") "+qt.message})}}function ln(Dt,qt){if(qt&&Dt){for(var dn=Dt.length,mn=0;mn<dn;mn++)if(Dt[mn].sessionId==qt)return Dt[mn];return null}return null}function At(){Ve.removeEventListener($t.keyerror,rn),Ve.removeEventListener($t.needkey,rn),Ve.removeEventListener($t.keymessage,rn),Ve.removeEventListener($t.keyadded,rn)}return bt={getAllInitData:function(){for(var Dt=[],qt=0;qt<dt.length;qt++)Dt.push(dt[qt].initData);for(var dn=0;dn<Ft.length;dn++)Dt.push(Ft[dn].initData);return Dt},getSessions:function(){return Ft.concat(dt)},requestKeySystemAccess:function(Dt){return new Promise(function(qt,dn){var mn=Ve;mn||(mn=document.createElement("video"));for(var In=!1,Cn=0;Cn<Dt.length;Cn++)for(var gr=Dt[Cn].ks.systemString,pr=Dt[Cn].configs,jn=null,ar=0;ar<pr.length;ar++){var Vn=pr[ar].videoCapabilities;if(Vn&&Vn.length!==0){jn=[];for(var hr=0;hr<Vn.length;hr++)mn.canPlayType(Vn[hr].contentType,gr)!==""&&jn.push(Vn[hr])}if(jn&&(!jn||jn.length!==0)){In=!0;var ki=new E(null,jn),$r=Je.getKeySystemBySystemString(gr),li=new kn($r,ki);Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{data:li}),qt({data:li});break}}if(!In){var Ar="Key system access denied! -- No valid audio/video content configurations detected!";Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ar}),dn({error:Ar})}})},selectKeySystem:function(Dt){return yt=Dt.keySystem,Promise.resolve(yt)},setMediaElement:function(Dt){if(Ve!==Dt){if(Ve){At();for(var qt=0;qt<Ft.length;qt++)Dn(Ft[qt]);Ft=[]}(Ve=Dt)&&(Ve.addEventListener($t.keyerror,rn),Ve.addEventListener($t.needkey,rn),Ve.addEventListener($t.keymessage,rn),Ve.addEventListener($t.keyadded,rn),Ht.trigger(wt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Dt){if(!yt)throw new Error("Can not create sessions until you have selected a key system");if(Bt||Ft.length===0){var qt={sessionId:null,keyId:Dt.keyId,initData:Dt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return dt.push(qt),Ve[$t.generateKeyRequest](yt.systemString,new Uint8Array(Dt.initData)),qt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Dt,qt){var dn=Dt.sessionId;if(Je.isClearKey(yt))for(var mn=0;mn<qt.keyPairs.length;mn++)Ve[$t.addKey](yt.systemString,qt.keyPairs[mn].key,qt.keyPairs[mn].keyID,dn);else Ve[$t.addKey](yt.systemString,new Uint8Array(qt),new Uint8Array(Dt.initData),dn);Ht.trigger(wt.KEY_SESSION_UPDATED)},closeKeySession:Dn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:An,reset:An},Rt=tn.getLogger(bt),Ve=null,yt=null,dt=[],Ft=[],Je=St(an).getInstance(),rn={handleEvent:function(Dt){var qt=null;switch(Dt.type){case $t.needkey:var dn=ArrayBuffer.isView(Dt.initData)?Dt.initData.buffer:Dt.initData;Ht.trigger(wt.NEED_KEY,{key:new fn(dn,"cenc")});break;case $t.keyerror:if((qt=ln(Ft,Dt.sessionId))||(qt=ln(dt,Dt.sessionId)),qt){var mn=r.MEDIA_KEYERR_CODE,In="";switch(Dt.errorCode.code){case 1:mn=r.MEDIA_KEYERR_UNKNOWN_CODE,In+="MEDIA_KEYERR_UNKNOWN - "+r.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:mn=r.MEDIA_KEYERR_CLIENT_CODE,In+="MEDIA_KEYERR_CLIENT - "+r.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:mn=r.MEDIA_KEYERR_SERVICE_CODE,In+="MEDIA_KEYERR_SERVICE - "+r.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:mn=r.MEDIA_KEYERR_OUTPUT_CODE,In+="MEDIA_KEYERR_OUTPUT - "+r.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:mn=r.MEDIA_KEYERR_HARDWARECHANGE_CODE,In+="MEDIA_KEYERR_HARDWARECHANGE - "+r.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:mn=r.MEDIA_KEYERR_DOMAIN_CODE,In+="MEDIA_KEYERR_DOMAIN - "+r.MEDIA_KEYERR_DOMAIN_MESSAGE}In+="  System Code = "+Dt.systemCode,Ht.trigger(wt.KEY_ERROR,{error:new u.Z(mn,In,qt)})}else Rt.error("No session token found for key error");break;case $t.keyadded:(qt=ln(Ft,Dt.sessionId))||(qt=ln(dt,Dt.sessionId)),qt?(Rt.debug("DRM: Key added."),Ht.trigger(wt.KEY_ADDED,{data:qt})):Rt.debug("No session token found for key added");break;case $t.keymessage:if((Bt=Dt.sessionId!==null&&Dt.sessionId!==void 0)?!(qt=ln(Ft,Dt.sessionId))&&dt.length>0&&(qt=dt.shift(),Ft.push(qt),qt.sessionId=Dt.sessionId,Ht.trigger(wt.KEY_SESSION_CREATED,{data:qt})):dt.length>0&&(qt=dt.shift(),Ft.push(qt),dt.length!==0&&gn.error(new u.Z(r.MEDIA_KEY_MESSAGE_ERROR_CODE,r.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),qt){var Cn=ArrayBuffer.isView(Dt.message)?Dt.message.buffer:Dt.message;qt.keyMessage=Cn,Ht.trigger(wt.INTERNAL_KEY_MESSAGE,{data:new Sn(qt,Cn,Dt.defaultURL)})}else Rt.warn("No session token found for key message")}}},bt}tr.__dashjs_factory_name="ProtectionModel_01b";var vr=dashjs.FactoryMaker.getClassFactory(tr),jr=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Er=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Qr(){var Ct,bt=this.context;function Rt(Ve,yt){for(var Je=0;Je<yt.length;Je++){var dt=yt[Je];if(typeof Ve[dt[Object.keys(dt)[0]]]=="function")return dt}return null}return Ct={createProtectionSystem:function(Ve){var yt=null,Je=St(bt).getInstance();Je.setConfig({debug:Ve.debug,BASE64:Ve.BASE64,settings:Ve.settings}),Je.initialize();var dt=function(Ft){var Bt=Ft.debug,rn=Bt.getLogger(Ct),an=Ft.eventBus,Ht=Ft.errHandler,wt=Ft.videoModel?Ft.videoModel.getElement():null;return wt&&wt.onencrypted===void 0||wt&&wt.mediaKeys===void 0?Rt(wt,Er)?(rn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Dr(bt).create({debug:Bt,eventBus:an,events:Ft.events,api:Rt(wt,Er)})):Rt(wt,jr)?(rn.info("EME detected on this user agent! (ProtectionModel_01b)"),vr(bt).create({debug:Bt,eventBus:an,errHandler:Ht,events:Ft.events,api:Rt(wt,jr)})):(rn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(rn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),cr(bt).create({debug:Bt,eventBus:an,events:Ft.events}))}(Ve);return!yt&&dt&&(yt=ce(bt).create({protectionModel:dt,protectionKeyController:Je,eventBus:Ve.eventBus,debug:Ve.debug,events:Ve.events,BASE64:Ve.BASE64,constants:Ve.constants,cmcdModel:Ve.cmcdModel,customParametersModel:Ve.customParametersModel,settings:Ve.settings}),Ve.capabilities.setEncryptedMediaSupported(!0)),yt}}}Qr.__dashjs_factory_name="Protection";var Xr=dashjs.FactoryMaker.getClassFactory(Qr);Xr.events=Zt,Xr.errors=r,dashjs.FactoryMaker.updateClassFactory(Qr.__dashjs_factory_name,Xr);var Da=Xr},2068:function(U,Y,v){var j=v(5448),A={DEFAULT:.5,STRONG:1,WEAK:0};function o(E,_,f){var R,m;return R=E===void 0?-1:E,m=function(r){var u=A.DEFAULT;return r!==A.DEFAULT&&r!==A.STRONG&&r!==A.WEAK||(u=r),u}(f),{quality:R,reason:_===void 0?null:_,priority:m}}o.__dashjs_factory_name="SwitchRequest";var i=j.Z.getClassFactory(o);i.NO_CHANGE=-1,i.PRIORITY=A,j.Z.updateClassFactory(o.__dashjs_factory_name,i),Y.Z=i},1767:function(U,Y,v){var j=v(5628),A=v(6535),o=v(7423),i=v(895),E=v(6070),_=v(3112),f=v(1914),R=v(5435),m=v(5448),r=v(2068),u=v(3393),d="qualitySwitchRules",I="abandonFragmentRules";function Z(x){x=x||{};var re,k,te=this.context,ce=x.mediaPlayerModel,$=x.customParametersModel,ue=x.dashMetrics,he=x.settings;function Ce(be){return be.filter(function(Pe){return Pe.quality>r.Z.NO_CHANGE})}function oe(be){var Pe,Ne,me,Le,qe,$e={},Re=null;if(be.length!==0){for($e[r.Z.PRIORITY.STRONG]={quality:r.Z.NO_CHANGE,reason:null},$e[r.Z.PRIORITY.WEAK]={quality:r.Z.NO_CHANGE,reason:null},$e[r.Z.PRIORITY.DEFAULT]={quality:r.Z.NO_CHANGE,reason:null},Pe=0,Ne=be.length;Pe<Ne;Pe+=1)(me=be[Pe]).quality!==r.Z.NO_CHANGE&&($e[me.priority].quality===r.Z.NO_CHANGE||$e[me.priority].quality>me.quality)&&($e[me.priority].quality=me.quality,$e[me.priority].reason=me.reason||null);return $e[r.Z.PRIORITY.WEAK].quality!==r.Z.NO_CHANGE&&(Re=$e[r.Z.PRIORITY.WEAK]),$e[r.Z.PRIORITY.DEFAULT].quality!==r.Z.NO_CHANGE&&(Re=$e[r.Z.PRIORITY.DEFAULT]),$e[r.Z.PRIORITY.STRONG].quality!==r.Z.NO_CHANGE&&(Re=$e[r.Z.PRIORITY.STRONG]),Re&&(Le=Re.quality,qe=Re.reason),(0,r.Z)(te).create(Le,qe)}}return{initialize:function(){re=[],k=[],he.get().streaming.abr.useDefaultABRRules&&(he.get().streaming.abr.ABRStrategy===u.Z.ABR_STRATEGY_L2A?re.push((0,f.Z)(te).create({dashMetrics:ue,settings:he})):he.get().streaming.abr.ABRStrategy===u.Z.ABR_STRATEGY_LoLP?re.push((0,R.Z)(te).create({dashMetrics:ue})):(re.push((0,_.Z)(te).create({dashMetrics:ue,mediaPlayerModel:ce,settings:he})),re.push((0,j.Z)(te).create({dashMetrics:ue})),he.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&re.push((0,A.Z)(te).create({dashMetrics:ue,settings:he})),he.get().streaming.abr.additionalAbrRules.switchHistoryRule&&re.push((0,E.Z)(te).create()),he.get().streaming.abr.additionalAbrRules.droppedFramesRule&&re.push((0,i.Z)(te).create()),he.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&k.push((0,o.Z)(te).create({dashMetrics:ue,mediaPlayerModel:ce,settings:he})))),$.getAbrCustomRules().forEach(function(be){be.type===d&&re.push(be.rule(te).create()),be.type===I&&k.push(be.rule(te).create())})},reset:function(){[re,k].forEach(function(be){be&&be.length&&be.forEach(function(Pe){return Pe.reset&&Pe.reset()})}),re=[],k=[]},getMaxQuality:function(be){return oe(Ce(re.map(function(Pe){return Pe.getMaxIndex(be)})))||(0,r.Z)(te).create()},getMinSwitchRequest:oe,shouldAbandonFragment:function(be,Pe){var Ne=oe(Ce(k.map(function(me){return me.shouldAbandon(be,Pe)})));return Ne&&(Ne.reason.forceAbandon=!0),Ne||(0,r.Z)(te).create()},getQualitySwitchRules:function(){return re}}}Z.__dashjs_factory_name="ABRRulesCollection";var z=m.Z.getClassFactory(Z);z.QUALITY_SWITCH_RULES=d,z.ABANDON_FRAGMENT_RULES=I,m.Z.updateSingletonFactory(Z.__dashjs_factory_name,z),Y.Z=z},7423:function(U,Y,v){var j=v(2068),A=v(5448),o=v(6398);function i(E){E=E||{};var _,f,R,m,r,u=this.context,d=E.mediaPlayerModel,I=E.dashMetrics,Z=E.settings;function z(){R={},m={},r=[]}return _={shouldAbandon:function(x){var re=(0,j.Z)(u).create(j.Z.NO_CHANGE,{name:i.__dashjs_factory_name});if(!(x&&x.hasOwnProperty("getMediaInfo")&&x.hasOwnProperty("getMediaType")&&x.hasOwnProperty("getCurrentRequest")&&x.hasOwnProperty("getRepresentationInfo")&&x.hasOwnProperty("getAbrController")))return re;var k,te,ce=x.getMediaInfo(),$=x.getMediaType(),ue=x.getStreamInfo(),he=ue?ue.id:null,Ce=x.getCurrentRequest();if(!isNaN(Ce.index)){k=$,te=Ce.index,R[k]=R[k]||{},R[k][te]=R[k][te]||{};var oe=d.getStableBufferTime();if(I.getCurrentBufferLevel($)>oe)return re;var be=R[$][Ce.index];if(be===null||Ce.firstByteDate===null||m.hasOwnProperty(be.id))return re;if(be.firstByteTime===void 0&&(r[$]=[],be.firstByteTime=Ce.firstByteDate.getTime(),be.segmentDuration=Ce.duration,be.bytesTotal=Ce.bytesTotal,be.id=Ce.index),be.bytesLoaded=Ce.bytesLoaded,be.elapsedTime=new Date().getTime()-be.firstByteTime,be.bytesLoaded>0&&be.elapsedTime>0&&function(Fe,Et){r[Fe]=r[Fe]||[],r[Fe].push(Et)}($,Math.round(8*be.bytesLoaded/be.elapsedTime)),r[$].length>=Z.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&be.elapsedTime>Z.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&be.bytesLoaded<be.bytesTotal){var Pe=r[$].reduce(function(Fe,Et){return Fe+Et},0);if(be.measuredBandwidthInKbps=Math.round(Pe/r[$].length),be.estimatedTimeOfDownload=+(8*be.bytesTotal/be.measuredBandwidthInKbps/1e3).toFixed(2),be.estimatedTimeOfDownload<be.segmentDuration*Z.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||x.getRepresentationInfo().quality===0)return re;if(!m.hasOwnProperty(be.id)){var Ne=x.getAbrController(),me=be.bytesTotal-be.bytesLoaded,Le=Ne.getBitrateList(ce),qe=Ne.getQualityForBitrate(ce,be.measuredBandwidthInKbps*Z.get().streaming.abr.bandwidthSafetyFactor,he),$e=Ne.getMinAllowedIndexFor($,he),Re=$e!==void 0?Math.max($e,qe):qe;me>be.bytesTotal*Le[Re].bitrate/Le[Ne.getQualityFor($,he)].bitrate&&(re.quality=Re,re.reason.throughput=be.measuredBandwidthInKbps,re.reason.fragmentID=be.id,re.reason.rule=this.getClassName(),m[be.id]=be,f.debug("["+$+"] frag id",be.id," is asking to abandon and switch to quality to ",Re," measured bandwidth was",be.measuredBandwidthInKbps),delete R[$][be.id])}}else be.bytesLoaded===be.bytesTotal&&delete R[$][be.id]}return re},reset:z},f=(0,o.Z)(u).getInstance().getLogger(_),z(),_}i.__dashjs_factory_name="AbandonRequestsRule",Y.Z=A.Z.getClassFactory(i)},3112:function(U,Y,v){var j=v(3860),A=v(2068),o=v(5448),i=v(7855),E=v(5595),_=v(8512),f=v(6398),R=v(8825),m=v(3393),r=10;function u(d){d=d||{};var I,Z,z,x=this.context,re=d.dashMetrics,k=d.mediaPlayerModel,te=(0,E.Z)(x).getInstance();function ce(Re,Fe,Et){var gt=Et.reduce(function(Se,we,Ke){return we>Et[Se]?Ke:Se},0);if(gt===0)return null;var He=Math.max(Re,r+2*Fe.length),ot=(Et[gt]-1)/(He/r-1);return{gp:ot,Vp:r/ot}}function $(Re){Re.placeholderBuffer=0,Re.mostAdvancedSegmentStart=NaN,Re.lastSegmentWasReplacement=!1,Re.lastSegmentStart=NaN,Re.lastSegmentDurationS=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN}function ue(Re,Fe){var Et=k.getStableBufferTime();if(Re.stableBufferTime!==Et){var gt=ce(Et,Re.bitrates,Re.utilities);if(gt.Vp!==Re.Vp||gt.gp!==Re.gp){var He=re.getCurrentBufferLevel(Fe),ot=He+Re.placeholderBuffer;ot-=r,ot*=gt.Vp/Re.Vp,ot+=r,Re.stableBufferTime=Et,Re.Vp=gt.Vp,Re.gp=gt.gp,Re.placeholderBuffer=Math.max(0,ot-He)}}}function he(Re,Fe){return Re.Vp*(Re.utilities[Fe]+Re.gp)}function Ce(Re,Fe){for(var Et=Re.bitrates[Fe],gt=Re.utilities[Fe],He=0,ot=Fe-1;ot>=0;--ot)if(Re.utilities[ot]<Re.utilities[Fe]){var Se=Re.bitrates[ot],we=Re.utilities[ot],Ke=Re.Vp*(Re.gp+(Et*we-Se*gt)/(Et-Se));He=Math.max(He,Ke)}return He}function oe(Re){var Fe=Re.mediaType===m.Z.AUDIO?[m.Z.AUDIO]:z;for(var Et in Fe)z.hasOwnProperty(Et)&&z[Et].state===2&&(z[Et].placeholderBuffer=0)}function be(){for(var Re in z)if(z.hasOwnProperty(Re)){var Fe=z[Re];Fe.state!==0&&(Fe.state=1,$(Fe))}}function Pe(Re){if(Re&&Re.chunk&&Re.chunk.mediaInfo){var Fe=z[Re.chunk.mediaInfo.type];if(Fe&&Fe.state!==0){var Et=Re.chunk.start;isNaN(Fe.mostAdvancedSegmentStart)||Et>Fe.mostAdvancedSegmentStart?(Fe.mostAdvancedSegmentStart=Et,Fe.lastSegmentWasReplacement=!1):Fe.lastSegmentWasReplacement=!0,Fe.lastSegmentStart=Et,Fe.lastSegmentDurationS=Re.chunk.duration,Fe.lastQuality=Re.chunk.quality,me(Fe,Re.chunk.mediaInfo.type)}}}function Ne(Re){if(Re&&Re.metric===j.Z.HTTP_REQUEST&&Re.value&&Re.value.type===i.w.MEDIA_SEGMENT_TYPE&&Re.value.trace&&Re.value.trace.length){var Fe=z[Re.mediaType];Fe&&Fe.state!==0&&(Fe.lastSegmentRequestTimeMs=Re.value.trequest.getTime(),Fe.lastSegmentFinishTimeMs=Re.value._tfinish.getTime(),me(Fe,Re.mediaType))}}function me(Re,Fe){if(!isNaN(Re.lastSegmentStart)&&!isNaN(Re.lastSegmentRequestTimeMs)&&!isNaN(Re.placeholderBuffer)){if(Re.placeholderBuffer*=.99,!isNaN(Re.lastSegmentFinishTimeMs)){var Et=re.getCurrentBufferLevel(Fe)+.001*(Re.lastSegmentFinishTimeMs-Re.lastSegmentRequestTimeMs),gt=he(Re,Re.lastQuality),He=Math.max(0,gt-Et);Re.placeholderBuffer=Math.min(He,Re.placeholderBuffer)}Re.lastSegmentWasReplacement&&!isNaN(Re.lastSegmentDurationS)&&(Re.placeholderBuffer+=Re.lastSegmentDurationS),Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN}}function Le(Re){if(Re){var Fe=z[Re.mediaType];Fe&&Fe.state!==0&&(Fe.abrQuality=Re.newQuality)}}function qe(Re){if(Re){var Fe=z[Re.mediaType];if(Fe&&Fe.state!==0){var Et,gt=re.getCurrentBufferLevel(Re.mediaType);Et=Fe.abrQuality>0?Ce(Fe,Fe.abrQuality):r;var He=Math.max(0,Et-gt);Fe.placeholderBuffer=Math.min(Fe.placeholderBuffer,He)}}}function $e(){z={}}return I={getMaxIndex:function(Re){var Fe=(0,A.Z)(x).create();if(!(Re&&Re.hasOwnProperty("getMediaInfo")&&Re.hasOwnProperty("getMediaType")&&Re.hasOwnProperty("getScheduleController")&&Re.hasOwnProperty("getStreamInfo")&&Re.hasOwnProperty("getAbrController")&&Re.hasOwnProperty("useBufferOccupancyABR")))return Fe;var Et=Re.getMediaInfo(),gt=Re.getMediaType(),He=Re.getScheduleController(),ot=Re.getStreamInfo(),Se=Re.getAbrController(),we=Se.getThroughputHistory(),Ke=ot?ot.id:null,y=ot&&ot.manifestInfo&&ot.manifestInfo.isDynamic,p=Re.useBufferOccupancyABR();if(Fe.reason=Fe.reason||{},!p)return Fe;He.setTimeToLoadDelay(0);var N=function(xe){var Ye=xe.getMediaType(),at=z[Ye];return at?at.state!==0&&ue(at,Ye):(at=function(St){var ft={},Yt=St.getMediaInfo().bitrateList.map(function(fn){return fn.bandwidth}),Ot=function(fn){return fn.map(function(Sn){return Math.log(Sn)})}(Yt);Ot=Ot.map(function(fn){return fn-Ot[0]+1});var Gt=k.getStableBufferTime(),Zt=ce(Gt,Yt,Ot);return Zt?(ft.state=1,ft.bitrates=Yt,ft.utilities=Ot,ft.stableBufferTime=Gt,ft.Vp=Zt.Vp,ft.gp=Zt.gp,ft.lastQuality=0,$(ft)):ft.state=0,ft}(xe),z[Ye]=at),at}(Re);if(N.state===0)return Fe;var C,ae=re.getCurrentBufferLevel(gt),ne=we.getAverageThroughput(gt,y),Me=we.getSafeAverageThroughput(gt,y),nt=we.getAverageLatency(gt);if(Fe.reason.state=N.state,Fe.reason.throughput=ne,Fe.reason.latency=nt,isNaN(ne))return Fe;switch(N.state){case 1:C=Se.getQualityForBitrate(Et,Me,Ke,nt),Fe.quality=C,Fe.reason.throughput=Me,N.placeholderBuffer=Math.max(0,Ce(N,C)-ae),N.lastQuality=C,!isNaN(N.lastSegmentDurationS)&&ae>=N.lastSegmentDurationS&&(N.state=2);break;case 2:(function(xe,Ye){var at=Date.now();if(isNaN(xe.lastSegmentFinishTimeMs)){if(!isNaN(xe.lastCallTimeMs)){var St=.001*(at-xe.lastCallTimeMs);xe.placeholderBuffer+=Math.max(0,St)}}else{var ft=.001*(at-xe.lastSegmentFinishTimeMs);xe.placeholderBuffer+=Math.max(0,ft)}xe.lastCallTimeMs=at,xe.lastSegmentStart=NaN,xe.lastSegmentRequestTimeMs=NaN,xe.lastSegmentFinishTimeMs=NaN,ue(xe,Ye)})(N,gt),C=function(xe,Ye){for(var at=xe.bitrates.length,St=NaN,ft=NaN,Yt=0;Yt<at;++Yt){var Ot=(xe.Vp*(xe.utilities[Yt]+xe.gp)-Ye)/xe.bitrates[Yt];(isNaN(ft)||Ot>=ft)&&(ft=Ot,St=Yt)}return St}(N,ae+N.placeholderBuffer);var je=Se.getQualityForBitrate(Et,Me,Ke,nt);C>N.lastQuality&&C>je&&(C=Math.max(je,N.lastQuality));var Ge=Math.max(0,ae+N.placeholderBuffer-he(N,C));Ge<=N.placeholderBuffer?(N.placeholderBuffer-=Ge,Ge=0):(Ge-=N.placeholderBuffer,N.placeholderBuffer=0,C<Se.getMaxAllowedIndexFor(gt,Ke)?He.setTimeToLoadDelay(1e3*Ge):Ge=0),Fe.quality=C,Fe.reason.throughput=ne,Fe.reason.latency=nt,Fe.reason.bufferLevel=ae,Fe.reason.placeholderBuffer=N.placeholderBuffer,Fe.reason.delay=Ge,N.lastQuality=C;break;default:Z.debug("BOLA ABR rule invoked in bad state."),Fe.quality=Se.getQualityForBitrate(Et,Me,Ke,nt),Fe.reason.state=N.state,Fe.reason.throughput=Me,Fe.reason.latency=nt,N.state=1,$(N)}return Fe},reset:function(){$e(),te.off(R.Z.BUFFER_EMPTY,oe,I),te.off(R.Z.PLAYBACK_SEEKING,be,I),te.off(R.Z.METRIC_ADDED,Ne,I),te.off(R.Z.QUALITY_CHANGE_REQUESTED,Le,I),te.off(R.Z.FRAGMENT_LOADING_ABANDONED,qe,I),te.off(_.Z.MEDIA_FRAGMENT_LOADED,Pe,I)}},Z=(0,f.Z)(x).getInstance().getLogger(I),$e(),te.on(R.Z.BUFFER_EMPTY,oe,I),te.on(R.Z.PLAYBACK_SEEKING,be,I),te.on(R.Z.METRIC_ADDED,Ne,I),te.on(R.Z.QUALITY_CHANGE_REQUESTED,Le,I),te.on(R.Z.FRAGMENT_LOADING_ABANDONED,qe,I),te.on(_.Z.MEDIA_FRAGMENT_LOADED,Pe,I),I}u.__dashjs_factory_name="BolaRule",Y.Z=o.Z.getClassFactory(u)},895:function(U,Y,v){var j=v(5448),A=v(2068),o=v(6398);function i(){var E,_,f=this.context;return E={getMaxIndex:function(R){var m=(0,A.Z)(f).create();if(!R||!R.hasOwnProperty("getDroppedFramesHistory"))return m;var r=R.getDroppedFramesHistory(),u=R.getStreamInfo().id;if(r){var d=r.getFrameHistory(u);if(!d||d.length===0)return m;for(var I=0,Z=0,z=A.Z.NO_CHANGE,x=1;x<d.length;x++)if(d[x]&&(I=d[x].droppedVideoFrames,(Z=d[x].totalVideoFrames)>375&&I/Z>.15)){z=x-1,_.debug("index: "+z+" Dropped Frames: "+I+" Total Frames: "+Z);break}return(0,A.Z)(f).create(z,{droppedFrames:I})}return m}},_=(0,o.Z)(f).getInstance().getLogger(E),E}i.__dashjs_factory_name="DroppedFramesRule",Y.Z=j.Z.getClassFactory(i)},6535:function(U,Y,v){var j=v(5595),A=v(8512),o=v(5448),i=v(6398),E=v(2068),_=v(3393),f=v(3860),R=v(8825);function m(r){r=r||{};var u,d,I,Z=this.context,z=(0,j.Z)(Z).getInstance(),x=r.dashMetrics;function re(){(I={})[_.Z.VIDEO]={ignoreCount:2},I[_.Z.AUDIO]={ignoreCount:2}}function k(){re()}function te(ce){isNaN(ce.startTime)||ce.mediaType!==_.Z.AUDIO&&ce.mediaType!==_.Z.VIDEO||I[ce.mediaType].ignoreCount>0&&I[ce.mediaType].ignoreCount--}return u={getMaxIndex:function(ce){var $=(0,E.Z)(Z).create();if(!ce||!ce.hasOwnProperty("getMediaType"))return $;(function(){if(!x||!x.hasOwnProperty("getCurrentBufferLevel")||!x.hasOwnProperty("getCurrentBufferState"))throw new Error(_.Z.MISSING_CONFIG_ERROR)})();var ue=ce.getMediaType(),he=x.getCurrentBufferState(ue),Ce=ce.getRepresentationInfo().fragmentDuration,oe=ce.getStreamInfo(),be=oe?oe.id:null,Pe=ce.getScheduleController(),Ne=oe&&oe.manifestInfo&&oe.manifestInfo.isDynamic;if(function(gt,He){return!gt&&I[He].ignoreCount>0}(Pe.getPlaybackController().getLowLatencyModeEnabled(),ue)||!Ce)return $;if(he&&he.state===f.Z.BUFFER_EMPTY)d.debug("["+ue+"] Switch to index 0; buffer is empty."),$.quality=0,$.reason="InsufficientBufferRule: Buffer is empty";else{var me=ce.getMediaInfo(),Le=ce.getAbrController(),qe=Le.getThroughputHistory(),$e=x.getCurrentBufferLevel(ue),Re=qe.getAverageThroughput(ue,Ne),Fe=qe.getAverageLatency(ue),Et=Re*($e/Ce)*.5;$.quality=Le.getQualityForBitrate(me,Et,be,Fe),$.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return $},reset:function(){re(),z.off(R.Z.PLAYBACK_SEEKING,k,u),z.off(A.Z.BYTES_APPENDED_END_FRAGMENT,te,u)}},d=(0,i.Z)(Z).getInstance().getLogger(u),re(),z.on(R.Z.PLAYBACK_SEEKING,k,u),z.on(A.Z.BYTES_APPENDED_END_FRAGMENT,te,u),u}m.__dashjs_factory_name="InsufficientBufferRule",Y.Z=o.Z.getClassFactory(m)},1914:function(U,Y,v){var j=v(3860),A=v(2068),o=v(5448),i=v(7855),E=v(5595),_=v(8512),f=v(6398),R=v(3393);function m(r){r=r||{};var u,d,I,Z,z=this.context,x=r.dashMetrics,re=(0,E.Z)(z).getInstance();function k(be){be.placeholderBuffer=0,be.mostAdvancedSegmentStart=NaN,be.lastSegmentWasReplacement=!1,be.lastSegmentStart=NaN,be.lastSegmentDurationS=NaN,be.lastSegmentRequestTimeMs=NaN,be.lastSegmentFinishTimeMs=NaN,be.lastSegmentUrl=""}function te(){for(var be in d)if(d.hasOwnProperty(be)){var Pe=d[be];Pe.state!==0&&(Pe.state=1,k(Pe))}}function ce(be){if(be&&be.chunk&&be.chunk.mediaInfo){var Pe=d[be.chunk.mediaInfo.type],Ne=I[be.chunk.mediaInfo.type];if(Pe&&Pe.state!==0){var me=be.chunk.start;isNaN(Pe.mostAdvancedSegmentStart)||me>Pe.mostAdvancedSegmentStart?(Pe.mostAdvancedSegmentStart=me,Pe.lastSegmentWasReplacement=!1):Pe.lastSegmentWasReplacement=!0,Pe.lastSegmentStart=me,Pe.lastSegmentDurationS=be.chunk.duration,Pe.lastQuality=be.chunk.quality,ue(Pe,Ne)}}}function $(be){if(be&&be.metric===j.Z.HTTP_REQUEST&&be.value&&be.value.type===i.w.MEDIA_SEGMENT_TYPE&&be.value.trace&&be.value.trace.length){var Pe=d[be.mediaType],Ne=I[be.mediaType];Pe&&Pe.state!==0&&(Pe.lastSegmentRequestTimeMs=be.value.trequest.getTime(),Pe.lastSegmentFinishTimeMs=be.value._tfinish.getTime(),ue(Pe,Ne))}}function ue(be,Pe){isNaN(be.lastSegmentStart)||isNaN(be.lastSegmentRequestTimeMs)||(Pe.segment_request_start_s=.001*be.lastSegmentRequestTimeMs,Pe.segment_download_finish_s=.001*be.lastSegmentFinishTimeMs,be.lastSegmentStart=NaN,be.lastSegmentRequestTimeMs=NaN)}function he(be){if(be&&be.mediaType){var Pe=d[be.mediaType];Pe&&Pe.state!==0&&(Pe.abrQuality=be.newQuality)}}function Ce(be,Pe){if(be.length!==Pe.length)return-1;for(var Ne=0,me=0;me<be.length;me++)Ne+=be[me]*Pe[me];return Ne}function oe(){d={},I={}}return u={getMaxIndex:function(be){var Pe,Ne=(0,A.Z)(z).create(),me=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),me*Math.sqrt(4)),qe=be.getMediaInfo(),$e=be.getMediaType(),Re=qe.bitrateList.map(function(Zt){return Zt.bandwidth}),Fe=Re.length,Et=be.getScheduleController(),gt=be.getStreamInfo(),He=be.getAbrController(),ot=He.getThroughputHistory(),Se=gt&&gt.manifestInfo&&gt.manifestInfo.isDynamic,we=be.useL2AABR(),Ke=x.getCurrentBufferLevel($e,!0),y=ot.getSafeAverageThroughput($e,Se),p=ot.getAverageThroughput($e,Se),N=ot.getAverageLatency($e),C=be.getVideoModel().getPlaybackRate();if(!(be&&be.hasOwnProperty("getMediaInfo")&&be.hasOwnProperty("getMediaType")&&be.hasOwnProperty("getScheduleController")&&be.hasOwnProperty("getStreamInfo")&&be.hasOwnProperty("getAbrController")&&be.hasOwnProperty("useL2AABR"))||(Ne.reason=Ne.reason||{},!we||$e===R.Z.AUDIO))return Ne;Et.setTimeToLoadDelay(0);var ae=function(Zt){var fn=Zt.getMediaType(),Sn=d[fn];return Sn||(Sn=function(kn){var Mn={},Un=kn.getMediaInfo(),cr=Un.bitrateList.map(function(Nn){return Nn.bandwidth/1e3});return Mn.state=1,Mn.bitrates=cr,Mn.lastQuality=0,function(Nn){Nn&&Nn.type&&(I[Nn.type]={},I[Nn.type].w=[],I[Nn.type].prev_w=[],I[Nn.type].Q=0,I[Nn.type].segment_request_start_s=0,I[Nn.type].segment_download_finish_s=0,I[Nn.type].B_target=1.5)}(Un),k(Mn),Mn}(Zt),d[fn]=Sn),Sn}(be);if(ae.state===0)return Ne;var ne=I[$e];if(!ne||(Ne.reason.state=ae.state,Ne.reason.throughput=p,Ne.reason.latency=N,isNaN(p)))return Ne;switch(ae.state){case 1:if(Pe=He.getQualityForBitrate(qe,y,gt.id,N),Ne.quality=Pe,Ne.reason.throughput=y,ae.lastQuality=Pe,!isNaN(ae.lastSegmentDurationS)&&Ke>=ne.B_target){ae.state=2,ne.Q=me;for(var Me=0;Me<Fe;++Me)Me===ae.lastQuality?ne.prev_w[Me]=1:ne.prev_w[Me]=0}break;case 2:var nt=[],je=x.getCurrentHttpRequest($e).trace.reduce(function(Zt,fn){return Zt+fn.d},0),Ge=x.getCurrentHttpRequest($e).trace.reduce(function(Zt,fn){return Zt+fn.b[0]},0),xe=Math.round(8*Ge/je),Ye=x.getCurrentHttpRequest($e);if(xe<1&&(xe=1),Ye.url===ae.lastSegmentUrl||Ye.type===i.w.INIT_SEGMENT_TYPE)Pe=ae.lastQuality;else{for(var at=ae.lastSegmentDurationS,St=1,ft=0;ft<Fe;++ft)Re[ft]=Re[ft]/1e3,C*Re[ft]>xe&&(St=-1),ne.w[ft]=ne.prev_w[ft]+St*(at/(2*Le))*((ne.Q+me)*(C*Re[ft]/xe));ne.w=function(Zt){for(var fn=Zt.length,Sn=!1,kn=[],Mn=0;Mn<fn;++Mn)kn[Mn]=Zt[Mn];for(var Un=Zt.sort(function(jr,Er){return Er-jr}),cr=0,Nn=0,Dr=[],tr=0;tr<fn-1;++tr)if((Nn=((cr+=Un[tr])-1)/(tr+1))>=Un[tr+1]){Sn=!0;break}Sn||(Nn=(cr+Un[fn-1]-1)/fn);for(var vr=0;vr<fn;++vr)Dr[vr]=Math.max(kn[vr]-Nn,0);return Dr}(ne.w);for(var Yt=0;Yt<Fe;++Yt)nt[Yt]=ne.w[Yt]-ne.prev_w[Yt],ne.prev_w[Yt]=ne.w[Yt];ne.Q=Math.max(0,ne.Q-at+at*C*((Ce(Re,ne.prev_w)+Ce(Re,nt))/xe));for(var Ot=[],Gt=0;Gt<Fe;++Gt)Ot[Gt]=Math.abs(Re[Gt]-Ce(ne.w,Re));(Pe=Ot.indexOf(Math.min.apply(Math,Ot)))>ae.lastQuality&&Re[ae.lastQuality+1]<=xe&&(Pe=ae.lastQuality+1),Re[Pe]>=xe&&(ne.Q=2*Math.max(me,ne.Q)),ae.lastSegmentUrl=Ye.url}Ne.quality=Pe,Ne.reason.throughput=p,Ne.reason.latency=N,Ne.reason.bufferLevel=Ke,ae.lastQuality=Ne.quality;break;default:Z.debug("L2A ABR rule invoked in bad state."),Ne.quality=He.getQualityForBitrate(qe,y,gt.id,N),Ne.reason.state=ae.state,Ne.reason.throughput=y,Ne.reason.latency=N,ae.state=1,k(ae)}return Ne},reset:function(){oe(),re.off(_.Z.PLAYBACK_SEEKING,te,u),re.off(_.Z.MEDIA_FRAGMENT_LOADED,ce,u),re.off(_.Z.METRIC_ADDED,$,u),re.off(_.Z.QUALITY_CHANGE_REQUESTED,he,u)}},Z=(0,f.Z)(z).getInstance().getLogger(u),oe(),re.on(_.Z.PLAYBACK_SEEKING,te,u),re.on(_.Z.MEDIA_FRAGMENT_LOADED,ce,u),re.on(_.Z.METRIC_ADDED,$,u),re.on(_.Z.QUALITY_CHANGE_REQUESTED,he,u),u}m.__dashjs_factory_name="L2ARule",Y.Z=o.Z.getClassFactory(m)},6070:function(U,Y,v){var j=v(5448),A=v(6398),o=v(2068);function i(){var E,_,f=this.context;return E={getMaxIndex:function(R){for(var m=R?R.getSwitchHistory():null,r=m?m.getSwitchRequests():[],u=0,d=0,I=0,Z=(0,o.Z)(f).create(),z=0;z<r.length;z++)if(r[z]!==void 0&&(u+=r[z].drops,d+=r[z].noDrops,I+=r[z].dropSize,u+d>=6&&u/d>.075)){Z.quality=z>0&&r[z].drops>0?z-1:z,Z.reason={index:Z.quality,drops:u,noDrops:d,dropSize:I},_.debug("Switch history rule index: "+Z.quality+" samples: "+(u+d)+" drops: "+u);break}return Z}},_=(0,A.Z)(f).getInstance().getLogger(E),E}i.__dashjs_factory_name="SwitchHistoryRule",Y.Z=j.Z.getClassFactory(i)},5628:function(U,Y,v){var j=v(5448),A=v(2068),o=v(3393),i=v(3860);function E(_){_=_||{};var f=this.context,R=_.dashMetrics;return{getMaxIndex:function(m){var r=(0,A.Z)(f).create();if(!(m&&m.hasOwnProperty("getMediaInfo")&&m.hasOwnProperty("getMediaType")&&m.hasOwnProperty("useBufferOccupancyABR")&&m.hasOwnProperty("getAbrController")&&m.hasOwnProperty("getScheduleController")))return r;(function(){if(!R||!R.hasOwnProperty("getCurrentBufferState"))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var u=m.getMediaInfo(),d=m.getMediaType(),I=R.getCurrentBufferState(d),Z=m.getScheduleController(),z=m.getAbrController(),x=m.getStreamInfo(),re=x?x.id:null,k=x&&x.manifestInfo?x.manifestInfo.isDynamic:null,te=z.getThroughputHistory(),ce=te.getSafeAverageThroughput(d,k),$=te.getAverageLatency(d),ue=m.useBufferOccupancyABR();return isNaN(ce)||!I||ue||z.getAbandonmentStateFor(re,d)!==i.Z.ABANDON_LOAD&&(I.state===i.Z.BUFFER_LOADED||k)&&(r.quality=z.getQualityForBitrate(u,ce,re,$),Z.setTimeToLoadDelay(0),r.reason={throughput:ce,latency:$}),r},reset:function(){}}}E.__dashjs_factory_name="ThroughputRule",Y.Z=j.Z.getClassFactory(E)},4722:function(U,Y,v){var j=v(5448),A=v(6398);function o(){var i,E,_,f,R,m,r,u,d,I=this.context;function Z(){_=null,f=1,R=100,m=0,r=null,u=null,d="dynamic_weight_selection"}function z(){var ce=0;if(_)for(var $=0;$<_.length;$++){var ue=_[$];ue.state.throughput>ce&&(ce=ue.state.throughput)}return ce}function x(ce,$,ue){var he=ce.map(function(Ce,oe){return ue[oe]*Math.pow(Ce-$[oe],2)}).reduce(function(Ce,oe){return Ce+oe});return(he<0?-1:1)*Math.sqrt(Math.abs(he))}function re(ce,$){return x([ce.state.throughput,ce.state.latency,ce.state.rebuffer,ce.state.switch],[$.state.throughput,$.state.latency,$.state.rebuffer,$.state.switch],[1,1,1,1])}function k(ce,$,ue){for(var he=0;he<$.length;he++){var Ce=$[he],oe=re(Ce,ce);te(Ce,ue,Math.exp(-1*Math.pow(oe,2)/(2*Math.pow(.1,2))))}}function te(ce,$,ue){var he=ce.state,Ce=[.01,.01,.01,.01];he.throughput=he.throughput+($[0]-he.throughput)*Ce[0]*ue,he.latency=he.latency+($[1]-he.latency)*Ce[1]*ue,he.rebuffer=he.rebuffer+($[2]-he.rebuffer)*Ce[2]*ue,he.switch=he.switch+($[3]-he.switch)*Ce[3]*ue}return i={getNextQuality:function(ce,$,ue,he,Ce,oe,be){var Pe=ue,Ne=he,me=$,Le=function(ne){if(!_){_=[];var Me=ne.bitrateList,nt=[];m=Me[0].bandwidth,Me.forEach(function(Ye){nt.push(Ye.bandwidth),Ye.bandwidth<m&&(m=Ye.bandwidth)}),xe=nt.map(function(Ye){return Math.pow(Ye,2)}).reduce(function(Ye,at){return Ye+at}),f=Math.sqrt(xe);for(var je=0;je<Me.length;je++){var Ge={qualityIndex:je,bitrate:Me[je].bandwidth,state:{throughput:Me[je].bandwidth/f,latency:0,rebuffer:0,switch:0}};_.push(Ge)}u=function(Ye){var at=[],St=function(Da){for(var Ct=[],bt=0;bt<Da;bt++){var Rt=[Math.random()*z(),Math.random(),Math.random(),Math.random()];Ct.push(Rt)}return Ct}(Math.pow(Ye.length,2));at.push(St[0]);for(var ft=[1,1,1,1],Yt=1;Yt<Ye.length;Yt++){for(var Ot=null,Gt=null,Zt=0;Zt<St.length;Zt++){for(var fn=St[Zt],Sn=null,kn=0;kn<at.length;kn++){var Mn=x(fn,at[kn],ft);(Sn===null||Mn<Sn)&&(Sn=Mn)}(Gt===null||Sn>Gt)&&(Ot=fn,Gt=Sn)}at.push(Ot)}for(var Un=null,cr=null,Nn=0;Nn<at.length;Nn++){for(var Dr=0,tr=0;tr<at.length;tr++)Nn!==tr&&(Dr+=x(at[Nn],at[tr],ft));(Un===null||Dr>Un)&&(Un=Dr,cr=Nn)}var vr=[];for(vr.push(at[cr]),at.splice(cr,1);at.length>0;){for(var jr=null,Er=null,Qr=0;Qr<at.length;Qr++){var Xr=x(vr[0],at[Qr],ft);(jr===null||Xr<jr)&&(jr=Xr,Er=Qr)}vr.push(at[Er]),at.splice(Er,1)}return vr}(_)}var xe;return _}(ce),qe=$/f;qe>1&&(qe=z()),ue/=R,E.debug("getNextQuality called throughput:".concat(qe," latency:").concat(ue," bufferSize:").concat(he," currentQualityIndex:").concat(oe," playbackRate:").concat(Ce));var $e=Le[oe],Re=$e.bitrate*be.getSegmentDuration()/me,Fe=Math.max(0,Re-Ne);if(Ne-Re<be.getMinBuffer())return E.debug("Buffer is low for bitrate= ".concat($e.bitrate," downloadTime=").concat(Re," currentBuffer=").concat(Ne," rebuffer=").concat(Fe)),function(ne,Me){var nt=0,je=ne;if(_)for(var Ge=0;Ge<_.length;Ge++){var xe=_[Ge];xe.bitrate<ne.bitrate&&xe.bitrate>nt&&Me>xe.bitrate&&(nt=xe.bitrate,je=xe)}return je}($e,me).qualityIndex;switch(d){case"manual_weight_selection":r=[.4,.4,.4,.4];break;case"random_weight_selection":(function(ne){r=function(Me,nt){for(var je=[],Ge=Math.sqrt(2/Me),xe=0;xe<4;xe++)je.push(Math.random()*Ge);return r=je}(ne.length)})(Le);break;default:(function(ne,Me,nt,je,Ge,xe,Ye){r||(r=u[u.length-1]);var at=ne.findWeightVector(Me,nt,je,Ge,xe,Ye);at!==null&&at!==-1&&(r=at)})(be,Le,Pe,Ne,Fe,me,Ce)}for(var Et=null,gt=null,He=null,ot=0;ot<Le.length;ot++){var Se=Le[ot],we=Se.state,Ke=[we.throughput,we.latency,we.rebuffer,we.switch],y=r.slice(),p=be.getNextBufferWithBitrate(Se.bitrate,Ne,me),N=p<be.getMinBuffer();N&&E.debug("Buffer is low for bitrate=".concat(Se.bitrate," downloadTime=").concat(Re," currentBuffer=").concat(Ne," nextBuffer=").concat(p)),(Se.bitrate>$-1e4||N)&&Se.bitrate!==m&&(y[0]=100);var C=x(Ke,[qe,0,0,0],y);(Et===null||C<Et)&&(Et=C,gt=Se.qualityIndex,He=Se)}var ae=Math.abs($e.bitrate-He.bitrate)/f;return k($e,Le,[qe,ue,Fe,ae]),k(He,Le,[qe,0,0,ae]),gt},reset:function(){Z()}},E=(0,A.Z)(I).getInstance().getLogger(i),Z(),i}o.__dashjs_factory_name="LearningAbrController",Y.Z=j.Z.getClassFactory(o)},5317:function(U,Y,v){var j=v(5448),A=v(2298);function o(){var i,E,_,f,R;function m(){E=null,_=null,f=null,R=null}function r(d,I,Z,z){var x=new A.Z;return x.type=d,x.weights.bitrateReward=I||1,x.weights.bitrateSwitchPenalty=1,x.weights.rebufferPenalty=Z||1e3,x.weights.latencyPenalty=[],x.weights.latencyPenalty.push({threshold:1.1,penalty:.05*z}),x.weights.latencyPenalty.push({threshold:1e8,penalty:.1*Z}),x.weights.playbackSpeedPenalty=z||200,x}function u(d,I,Z,z,x){x.bitrateWSum+=x.weights.bitrateReward*d,x.lastBitrate&&(x.bitrateSwitchWSum+=x.weights.bitrateSwitchPenalty*Math.abs(d-x.lastBitrate)),x.lastBitrate=d,x.rebufferWSum+=x.weights.rebufferPenalty*I;for(var re=0;re<x.weights.latencyPenalty.length;re++){var k=x.weights.latencyPenalty[re];if(Z<=k.threshold){x.latencyWSum+=k.penalty*Z;break}}x.playbackSpeedWSum+=x.weights.playbackSpeedPenalty*Math.abs(1-z),x.totalQoe=x.bitrateWSum-x.bitrateSwitchWSum-x.rebufferWSum-x.latencyWSum-x.playbackSpeedWSum}return i={setupPerSegmentQoe:function(d,I,Z){E=r("segment",d,I,Z),_=d,f=I,R=Z},logSegmentMetrics:function(d,I,Z,z){E&&u(d,I,Z,z,E)},getPerSegmentQoe:function(){return E},calculateSingleUseQoe:function(d,I,Z,z){var x=null;return _&&f&&R&&(x=r("segment",_,f,R)),x?(u(d,I,Z,z,x),x.totalQoe):0},reset:function(){m()}},m(),i}o.__dashjs_factory_name="LoLpQoeEvaluator",Y.Z=j.Z.getClassFactory(o)},5435:function(U,Y,v){var j=v(6398),A=v(5448),o=v(4722),i=v(5317),E=v(2068),_=v(3860),f=v(6523),R=v(3393);function m(r){var u,d,I,Z,z=(r=r||{}).dashMetrics,x=this.context;return d={getMaxIndex:function(re){try{var k=(0,E.Z)(x).create(),te=re.getMediaInfo().type,ce=re.getAbrController(),$=re.getStreamInfo(),ue=ce.getQualityFor(te,$.id),he=re.getMediaInfo(),Ce=z.getCurrentBufferState(te),oe=re.getScheduleController(),be=z.getCurrentBufferLevel(te,!0),Pe=$&&$.manifestInfo?$.manifestInfo.isDynamic:null,Ne=oe.getPlaybackController(),me=Ne.getCurrentLiveLatency();if(!re.useLoLPABR()||te===R.Z.AUDIO)return k;me||(me=0);var Le=Ne.getPlaybackRate(),qe=ce.getThroughputHistory().getSafeAverageThroughput(te,Pe);if(u.debug("Throughput ".concat(Math.round(qe)," kbps")),isNaN(qe)||!Ce||ce.getAbandonmentStateFor($.id,te)===_.Z.ABANDON_LOAD)return k;for(var $e=he.bitrateList,Re=re.getRepresentationInfo().fragmentDuration,Fe=$e[0].bandwidth/1e3,Et=$e[$e.length-1].bandwidth/1e3,gt=0;gt<$e.length;gt++){var He=$e[gt].bandwidth/1e3;He>Et?Et=He:He<Fe&&(Fe=He)}var ot=$e[ue].bandwidth/1e3,Se=z.getCurrentHttpRequest(te,!0),we=(Se.tresponse.getTime()-Se.trequest.getTime())/1e3,Ke=we>Re?we-Re:0;Z.setupPerSegmentQoe(Re,Et,Fe),Z.logSegmentMetrics(ot,Ke,me,Le);var y=(0,f.Z)(x).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Re,qoeEvaluator:Z});return k.quality=I.getNextQuality(he,1e3*qe,me,be,Le,ue,y),k.reason={throughput:qe,latency:me},k.priority=E.Z.PRIORITY.STRONG,oe.setTimeToLoadDelay(0),k.quality!==ue&&u.debug("[TgcLearningRule]["+te+"] requesting switch to index: ",k.quality,"Average throughput",Math.round(qe),"kbps"),k}catch(p){throw p}},reset:function(){I.reset(),Z.reset()}},u=(0,j.Z)(x).getInstance().getLogger(d),I=(0,o.Z)(x).create(),Z=(0,i.Z)(x).create(),d}m.__dashjs_factory_name="LoLPRule",Y.Z=A.Z.getClassFactory(m)},6523:function(U,Y,v){var j=v(5448);function A(o){var i,E,_,f,R=o.targetLatency,m=o.bufferMin,r=o.segmentDuration,u=o.qoeEvaluator;function d(){return r}function I(Z,z){var x=d();return z>x?Z-x:Z+x-z}return i={getMinBuffer:function(){return m},getSegmentDuration:d,getNextBufferWithBitrate:function(Z,z,x){return I(z,Z*r/x)},getNextBuffer:I,findWeightVector:function(Z,z,x,re,k,te){var ce=null,$=null,ue=null,he=Math.abs(z-_);return Z.forEach(function(Ce){E.forEach(function(oe){oe[0];var be=oe[1],Pe=oe[2],Ne=(oe[3],Ce.bitrate*r/k),me=I(x,Ne),Le=(Pe===0?10:1/Pe)*Math.max(1e-5,Ne-me),qe=(be===0?10:1/be)*Ce.state.latency,$e=u.calculateSingleUseQoe(Ce.bitrate,Le,qe,te);(ce===null||$e>ce)&&function(Re,Fe,Et){return!(Re>R+Et)&&Fe>=m}(z,me,he)&&(ce=$e,$=oe,ue=Ce.bitrate)})}),$===null&&ue===null&&($=-1),_=z,$}},E=function Z(z,x,re){if(re===x)return z;for(var k=z.length,te=0;te<k;te++)for(var ce=z.shift(),$=0;$<f.length;$++)z.push(ce.concat(f[$]));return Z(z,x,re+1)}((f=[.2,.4,.6,.8,1]).map(function(Z){return[Z]}),4,1),_=0,i}A.__dashjs_factory_name="LoLpWeightSelector",Y.Z=j.Z.getClassFactory(A)},2298:function(U,Y){Y.Z=function v(){(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(U,Y,v){v.d(Y,{Y:function(){return u}});var j=v(3393),A=v(1553),o=v(5448),i=v(2128),E=v(2594),_=v(7387),f=v(7417),R=v(9032),m=v(9326),r=v(7802),u=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function d(I){var Z,z,x,re,k,te,ce,$,ue=this.context,he=I.adapter,Ce=I.baseURLController,oe=I.streamInfo,be=I.timelineConverter,Pe=I.debug,Ne=I.eventBus,me=I.events,Le=I.dashConstants,qe=(0,E.Z)(ue).getInstance();function $e(Fe,Et){var gt=new i.Z;gt.id=Fe.id,gt.bitrate=Fe.bandwidth,gt.width=Fe.width,gt.height=Fe.height,gt.tilesHor=1,gt.tilesVert=1,Fe.essentialProperties&&Fe.essentialProperties.forEach(function(He){if(u.indexOf(He.schemeIdUri)>=0&&He.value){var ot=He.value.split("x");ot.length!==2||isNaN(ot[0])||isNaN(ot[1])||(gt.tilesHor=parseInt(ot[0],10),gt.tilesVert=parseInt(ot[1],10))}}),Et?te.updateSegmentData(Fe).then(function(He){(function(ot,Se,we){var Ke=[],y=function(p,N){var C,ae,ne,Me,nt=[],je=0;for(C=0,ae=p.segments.length;C<ae;C++)ne=p.segments[C],(Me=(0,_.TJ)(be,he.getIsDynamic(),N,ne.startTime,ne.duration,ne.timescale,ne.media,ne.mediaRange,je))&&(nt.push(Me),Me=null,je++);return nt}(we,Se);Se.segments=y,ot.segmentDuration=Se.segments[0].duration,ot.readThumbnail=function(p,N){var C=null;Ke.some(function(ae){if(ae.start<=p&&ae.end>p)return C=ae.url,!0}),C?N(C):Se.segments.some(function(ae){if(ae.mediaStartTime<=p&&ae.mediaStartTime+ae.duration>p){var ne=Ce.resolve(Se.path);return ce.load({method:"get",url:ne.url,request:{range:ae.mediaRange,responseType:"arraybuffer"},onload:function(Me){var nt=$.getSamplesInfo(Me.target.response),je=new Blob([Me.target.response.slice(nt.sampleList[0].offset,nt.sampleList[0].offset+nt.sampleList[0].size)],{type:"image/jpeg"}),Ge=window.URL.createObjectURL(je);Ke.push({start:ae.mediaStartTime,end:ae.mediaStartTime+ae.duration,url:Ge}),N&&N(Ge)}}),!0}})}})(gt,Fe,He)}):(gt.startNumber=Fe.startNumber,gt.segmentDuration=Fe.segmentDuration,gt.timescale=Fe.timescale,gt.templateUrl=function(He){var ot=qe.isRelative(He.media)?qe.resolve(He.media,Ce.resolve(He.path).url):He.media;return ot?(0,_.Aj)(ot,He.id):""}(Fe)),gt.tilesHor>0&&gt.tilesVert>0&&(gt.widthPerTile=gt.width/gt.tilesHor,gt.heightPerTile=gt.height/gt.tilesVert,z.push(gt))}function Re(){z=[],re=-1,k=null}return Z={getTracks:function(){return z},addTracks:function(){if(oe&&he&&(k=he.getMediaInfoForType(oe,j.Z.IMAGE))){var Fe=he.getVoRepresentations(k);Fe&&Fe.length>0&&Fe.forEach(function(Et){(Et.segmentInfoType===A.Z.SEGMENT_TEMPLATE&&Et.segmentDuration>0&&Et.media||Et.segmentInfoType===A.Z.SEGMENT_TIMELINE)&&$e(Et),Et.segmentInfoType===A.Z.SEGMENT_BASE&&$e(Et,!0)}),z.length>0&&z.sort(function(Et,gt){return Et.bitrate-gt.bitrate})}},reset:Re,setTrackByIndex:function(Fe){z&&z.length!==0&&(Fe>=z.length&&(Fe=z.length-1),re=Fe)},getCurrentTrack:function(){return re<0?null:z[re]},getCurrentTrackIndex:function(){return re},getThumbnailRequestForTime:function(Fe){for(var Et,gt=he.getVoRepresentations(k),He=0;He<gt.length;He++)if(z[re].id===gt[He].id){Et=gt[He];break}return x.getSegmentRequestForTime(k,Et,Fe)}},Re(),ce=(0,R.Z)(ue).create({}),$=(0,f.Z)(ue).getInstance(),te=(0,r.Z)(ue).create({events:me,eventBus:Ne,streamInfo:oe,timelineConverter:be,dashConstants:Le,dashMetrics:I.dashMetrics,segmentBaseController:I.segmentBaseController,type:j.Z.IMAGE}),(x=(0,m.Z)(ue).create({streamInfo:oe,type:j.Z.IMAGE,timelineConverter:be,segmentsController:te,baseURLController:Ce,debug:Pe,eventBus:Ne,events:me,dashConstants:Le,urlUtils:qe})).initialize(!!he&&he.getIsDynamic()),Z}d.__dashjs_factory_name="ThumbnailTracks",Y.Z=o.Z.getClassFactory(d)},7417:function(U,Y,v){var j=v(6398),A=v(8260),o=v(5448),i=v(6934),E=v(9597);function _(){var f,R,m=this.context;function r(I){if(!I)return null;I.fileStart===void 0&&(I.fileStart=0);var Z=i.parseBuffer(I),z=(0,A.Z)(m).create();return z.setData(Z),z}function u(I,Z){return I[Z+3]>>>0|I[Z+2]<<8>>>0|I[Z+1]<<16>>>0|I[Z]<<24>>>0}function d(I,Z){return String.fromCharCode(I[Z++])+String.fromCharCode(I[Z++])+String.fromCharCode(I[Z++])+String.fromCharCode(I[Z])}return R={parse:r,findLastTopIsoBoxCompleted:function(I,Z,z){if(z===void 0&&(z=0),!Z||z+8>=Z.byteLength)return new E.Z(0,!1);for(var x,re=Z instanceof ArrayBuffer?new Uint8Array(Z):Z,k=0;z<re.byteLength;){var te=u(re,z),ce=d(re,z+4);if(te===0)break;z+te<=re.byteLength&&(I.indexOf(ce)>=0?x=new E.Z(z,!0,te):k=z+te),z+=te}return x||new E.Z(k,!1)},getMediaTimescaleFromMoov:function(I){var Z=r(I),z=Z?Z.getBox("mdhd"):void 0;return z?z.timescale:NaN},getSamplesInfo:function(I){if(!I||I.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Z,z,x,re,k,te,ce,$,ue,he,Ce,oe,be,Pe,Ne,me,Le=r(I),qe=Le.getBoxes("moof"),$e=Le.getBoxes("mfhd");Ne=Le.getBoxes("moof").length,Pe=$e[$e.length-1].sequence_number,z=0,k=[];var Re=-1,Fe=-1;for(he=0;he<qe.length;he++){var Et=qe[he],gt=Et.getChildBoxes("traf");for($=0;$<gt.length;$++){var He=gt[$],ot=He.getChildBox("tfhd"),Se=He.getChildBox("tfdt");re=Se.baseMediaDecodeTime;var we=He.getChildBoxes("trun"),Ke=He.getChildBoxes("subs");for(ue=0;ue<we.length;ue++){var y=we[ue];for(z=y.sample_count,be=(ot.base_data_offset||0)+(y.data_offset||0),ce=0;ce<z;ce++){Z=(te=y.samples[ce]).sample_duration!==void 0?te.sample_duration:ot.default_sample_duration,x=te.sample_size!==void 0?te.sample_size:ot.default_sample_size;var p={dts:re,cts:re+(te.sample_composition_time_offset!==void 0?te.sample_composition_time_offset:0),duration:Z,offset:Et.offset+be,size:x,subSizes:[x]};if(Ke)for(Ce=0;Ce<Ke.length;Ce++){var N=Ke[Ce];if(Re<N.entry_count-1&&ce>Fe&&(Re++,Fe+=N.entries[Re].sample_delta),ce==Fe){p.subSizes=[];var C=N.entries[Re];for(oe=0;oe<C.subsample_count;oe++)p.subSizes.push(C.subsamples[oe].subsample_size)}}k.push(p),be+=x,re+=Z}}me=re-Se.baseMediaDecodeTime}}return{sampleList:k,lastSequenceNumber:Pe,totalDuration:me,numSequences:Ne}},findInitRange:function(I){var Z=null,z=r(I);if(!z)return Z;var x=z.getBox("ftyp"),re=z.getBox("moov");return f.debug("Searching for initialization."),re&&re.isComplete&&(Z=(x?x.offset:re.offset)+"-"+(re.offset+re.size-1),f.debug("Found the initialization.  Range: "+Z)),Z},parsePayload:function(I,Z,z){if(z===void 0&&(z=0),!Z||z+8>=Z.byteLength)return new E.Z(0,!1);for(var x,re=Z instanceof ArrayBuffer?new Uint8Array(Z):Z,k=0;z<re.byteLength;){var te=u(re,z),ce=d(re,z+4);if(te===0)break;z+te<=re.byteLength&&(I.indexOf(ce)>=0?x=new E.Z(z,!0,te,ce):k=z+te),z+=te}return x||new E.Z(k,!1)}},f=(0,j.Z)(m).getInstance().getLogger(R),R}_.__dashjs_factory_name="BoxParser",Y.Z=o.Z.getSingletonFactory(_)},1715:function(U,Y,v){v.d(Y,{B:function(){return E}});var j=v(5448),A=v(7803),o=v(3393),i=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function E(){var f="ManagedMediaSource"in window,R="WebKitMediaSource"in window,m="MediaSource"in window;return f||R||m}function _(){var f,R,m;return f={setConfig:function(r){r&&r.settings&&(R=r.settings)},supportsMediaSource:E,supportsEncryptedMedia:function(){return m},supportsCodec:function(r,u){return u!==o.Z.AUDIO&&u!==o.Z.VIDEO?Promise.resolve(!0):function(d,I){return R.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(d.codec&&I===o.Z.AUDIO||I===o.Z.VIDEO&&d.codec&&d.width&&d.height&&d.bitrate&&d.framerate)}(r,u)?function(d,I){return new Promise(function(Z){if(d&&d.codec){var z={type:"media-source"};z[I]={},z[I].contentType=d.codec,z[I].width=d.width,z[I].height=d.height,z[I].bitrate=parseInt(d.bitrate),z[I].framerate=parseFloat(d.framerate),navigator.mediaCapabilities.decodingInfo(z).then(function(x){Z(x.supported)}).catch(function(){Z(!1)})}else Z(!1)})}(r,u):function(d){return new Promise(function(I){if(d&&d.codec){var Z=d.codec;d.width&&d.height&&(Z+=';width="'+d.width+'";height="'+d.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(Z)||"MediaSource"in window&&MediaSource.isTypeSupported(Z)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(Z)?I(!0):I(!1)}else I(!1)})}(r)},setEncryptedMediaSupported:function(r){m=r},supportsEssentialProperty:function(r){try{return A.Y.indexOf(r.schemeIdUri)!==-1||o.Z.FONT_DOWNLOAD_DVB_SCHEME===r.schemeIdUri}catch{return!0}},codecRootCompatibleWithCodec:function(r,u){for(var d,I=r.split(".")[0],Z=u.indexOf(I)===0,z=0;z<i.length;z++)if(i[z].codec===I){d=i[z];break}return d?Z||d.compatibleCodecs.some(function(x){return u.indexOf(x)===0}):Z}},m=!1,f}_.__dashjs_factory_name="Capabilities",Y.Z=j.Z.getSingletonFactory(_)},2295:function(U,Y,v){var j=v(5448),A=v(3106);function o(){return{customTimeRangeArray:[],length:0,add:function(i,E){var _;for(_=0;_<this.customTimeRangeArray.length&&i>this.customTimeRangeArray[_].start;_++);for(this.customTimeRangeArray.splice(_,0,{start:i,end:E}),_=0;_<this.customTimeRangeArray.length-1;_++)this.mergeRanges(_,_+1)&&_--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(i,E){for(var _=0;_<this.customTimeRangeArray.length;_++)if(i<=this.customTimeRangeArray[_].start&&E>=this.customTimeRangeArray[_].end)this.customTimeRangeArray.splice(_,1),_--;else{if(i>this.customTimeRangeArray[_].start&&E<this.customTimeRangeArray[_].end){this.customTimeRangeArray.splice(_+1,0,{start:E,end:this.customTimeRangeArray[_].end}),this.customTimeRangeArray[_].end=i;break}i>this.customTimeRangeArray[_].start&&i<this.customTimeRangeArray[_].end?this.customTimeRangeArray[_].end=i:E>this.customTimeRangeArray[_].start&&E<this.customTimeRangeArray[_].end&&(this.customTimeRangeArray[_].start=E)}this.length=this.customTimeRangeArray.length},mergeRanges:function(i,E){var _=this.customTimeRangeArray[i],f=this.customTimeRangeArray[E];return _.start<=f.start&&f.start<=_.end&&_.end<=f.end?(_.end=f.end,this.customTimeRangeArray.splice(E,1),!0):f.start<=_.start&&_.start<=f.end&&f.end<=_.end?(_.start=f.start,this.customTimeRangeArray.splice(E,1),!0):f.start<=_.start&&_.start<=f.end&&_.end<=f.end?(this.customTimeRangeArray.splice(i,1),!0):_.start<=f.start&&f.start<=_.end&&f.end<=_.end&&(this.customTimeRangeArray.splice(E,1),!0)},start:function(i){return(0,A.SE)(i),i>=this.customTimeRangeArray.length||i<0?NaN:this.customTimeRangeArray[i].start},end:function(i){return(0,A.SE)(i),i>=this.customTimeRangeArray.length||i<0?NaN:this.customTimeRangeArray[i].end}}}o.__dashjs_factory_name="CustomTimeRanges",Y.Z=j.Z.getClassFactory(o)},5:function(U,Y,v){var j=v(5448);function A(){var o,i=/^[a-z][a-z0-9+\-_.]*:/i,E=/^https?:\/\//i,_=/^https:\/\//i,f=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,R=function(x,re){try{return new window.URL(x,re).toString()}catch{return x}},m=function(x,re){var k=r;if(!re||!I(x))return x;Z(x)&&(k=u),z(x)&&(k=d);var te=k(re),ce=te.charAt(te.length-1)!=="/"&&x.charAt(0)!=="/"?"/":"";return[te,x].join(ce)};function r(x){var re=x.indexOf("/"),k=x.lastIndexOf("/");return re!==-1?k===re+1?x:(x.indexOf("?")!==-1&&(x=x.substring(0,x.indexOf("?"))),x.substring(0,k+1)):""}function u(x){var re=x.match(f);return re?re[1]:""}function d(x){var re=x.match(i);return re?re[0]:""}function I(x){return!i.test(x)}function Z(x){return I(x)&&x.charAt(0)==="/"}function z(x){return x.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),o=R}catch{}finally{o=o||m}}(),{parseBaseUrl:r,parseOrigin:u,parseScheme:d,isRelative:I,isPathAbsolute:Z,isSchemeRelative:z,isHTTPURL:function(x){return E.test(x)},isHTTPS:function(x){return _.test(x)},removeHostname:function(x){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(x)[2].substring(1)},resolve:function(x,re){return o(x,re)}}}A.__dashjs_factory_name="DefaultURLUtils",Y.Z=j.Z.getSingletonFactory(A)},8260:function(U,Y,v){var j=v(2839),A=v(5448);function o(){var i;function E(f){var R=[];if(!f||!i||typeof i.fetchAll!="function")return R;for(var m,r=i.fetchAll(f),u=0,d=r.length;u<d;u++)(m=_(r[u]))&&R.push(m);return R}function _(f){if(!f)return null;var R=new j.Z(f);return f.hasOwnProperty("_incomplete")&&(R.isComplete=!f._incomplete),R}return{getBox:function(f){return f&&i&&i.boxes&&i.boxes.length!==0&&typeof i.fetch=="function"?_(i.fetch(f)):null},getBoxes:E,setData:function(f){i=f},getLastBox:function(){if(!i||!i.boxes||!i.boxes.length)return null;var f=E(i.boxes[i.boxes.length-1].type);return f.length>0?f[f.length-1]:null}}}o.__dashjs_factory_name="IsoFile",Y.Z=A.Z.getClassFactory(o)},7473:function(U,Y,v){v.d(Y,{k:function(){return A}});var j=v(5448);function A(i,E){var _={url:i.url,method:i.method,headers:Object.assign({},i.headers),credentials:i.withCredentials?"include":void 0,range:i.request.range};return Promise.resolve(E.modifyRequest(_)).then(function(){return Object.assign(i,_,{withCredentials:_.credentials==="include"})})}function o(){return{modifyRequest:null,modifyRequestURL:function(i){return i},modifyRequestHeader:function(i,E){return E.url,i}}}o.__dashjs_factory_name="RequestModifier",Y.Z=j.Z.getSingletonFactory(o)},3106:function(U,Y,v){v.d(Y,{PS:function(){return o},SE:function(){return i}});var j=v(3393);function A(E){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},A(E)}function o(E,_){if(A(E)!==_)throw j.Z.BAD_ARGUMENT_ERROR}function i(E){if(E===null||isNaN(E)||E%1!=0)throw j.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(U,Y,v){var j=v(5448),A=v(5);function o(){var E,_=[],f=this.context;function R(m,r,u){var d=function(I){var Z;for(Z=0;Z<_.length;Z++)if(_[Z].regex.test(I))return _[Z].utils;return E}(u||r);return d&&typeof d[m]=="function"?d[m](r,u):E[m](r,u)}return E=(0,A.Z)(f).getInstance(),{registerUrlRegex:function(m,r){_.push({regex:m,utils:r})},parseBaseUrl:function(m){return R("parseBaseUrl",m)},parseOrigin:function(m){return R("parseOrigin",m)},parseScheme:function(m){return R("parseScheme",m)},isRelative:function(m){return R("isRelative",m)},isPathAbsolute:function(m){return R("isPathAbsolute",m)},isSchemeRelative:function(m){return R("isSchemeRelative",m)},isHTTPURL:function(m){return R("isHTTPURL",m)},isHTTPS:function(m){return R("isHTTPS",m)},removeHostname:function(m){return R("removeHostname",m)},resolve:function(m,r){return R("resolve",m,r)}}}o.__dashjs_factory_name="URLUtils";var i=j.Z.getSingletonFactory(o);Y.Z=i},5459:function(U,Y){Y.Z=function v(j,A,o){(function(i,E){if(!(i instanceof E))throw new TypeError("Cannot call a class as a function")})(this,v),this.code=j||null,this.message=A||null,this.data=o||null}},3186:function(U,Y,v){var j=v(7855);function A(i,E){for(var _=0;_<E.length;_++){var f=E[_];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}var o=function(){function i(f){(function(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=i.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=f||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var E,_;return E=i,(_=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===j.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?j.w.INIT_SEGMENT_TYPE:j.w.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}])&&A(E.prototype,_),i}();o.ACTION_DOWNLOAD="download",o.ACTION_COMPLETE="complete",Y.Z=o},2839:function(U,Y){function v(A,o){for(var i=0;i<o.length;i++){var E=o[i];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}var j=function(){function A(E){if(function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}(this,A),this.offset=E._offset,this.type=E.type,this.size=E.size,this.boxes=[],E.boxes)for(var _=0;_<E.boxes.length;_++)this.boxes.push(new A(E.boxes[_]));switch(this.isComplete=!0,E.type){case"sidx":if(this.timescale=E.timescale,this.earliest_presentation_time=E.earliest_presentation_time,this.first_offset=E.first_offset,this.references=E.references,E.references){this.references=[];for(var f=0;f<E.references.length;f++){var R={reference_type:E.references[f].reference_type,referenced_size:E.references[f].referenced_size,subsegment_duration:E.references[f].subsegment_duration};this.references.push(R)}}break;case"emsg":this.id=E.id,this.version=E.version===1?1:0,this.value=E.value,this.timescale=E.timescale,this.scheme_id_uri=E.scheme_id_uri,this.presentation_time_delta=E.version===1?E.presentation_time:E.presentation_time_delta,this.event_duration=E.event_duration,this.message_data=E.message_data;break;case"mdhd":this.timescale=E.timescale;break;case"mfhd":this.sequence_number=E.sequence_number;break;case"subs":this.entry_count=E.entry_count,this.entries=E.entries;break;case"tfhd":this.base_data_offset=E.base_data_offset,this.sample_description_index=E.sample_description_index,this.default_sample_duration=E.default_sample_duration,this.default_sample_size=E.default_sample_size,this.default_sample_flags=E.default_sample_flags,this.flags=E.flags;break;case"tfdt":this.version=E.version,this.baseMediaDecodeTime=E.baseMediaDecodeTime,this.flags=E.flags;break;case"trun":if(this.sample_count=E.sample_count,this.first_sample_flags=E.first_sample_flags,this.data_offset=E.data_offset,this.flags=E.flags,this.samples=E.samples,E.samples){this.samples=[];for(var m=0,r=E.samples.length;m<r;m++){var u={sample_size:E.samples[m].sample_size,sample_duration:E.samples[m].sample_duration,sample_composition_time_offset:E.samples[m].sample_composition_time_offset};this.samples.push(u)}}break;case"prft":this.version=E.version,this.reference_track_ID=E.reference_track_ID,this.ntp_timestamp_sec=E.ntp_timestamp_sec,this.ntp_timestamp_frac=E.ntp_timestamp_frac,this.media_time=E.media_time,this.flags=E.flags}}var o,i;return o=A,(i=[{key:"getChildBox",value:function(E){for(var _=0;_<this.boxes.length;_++)if(this.boxes[_].type===E)return this.boxes[_]}},{key:"getChildBoxes",value:function(E){for(var _=[],f=0;f<this.boxes.length;f++)this.boxes[f].type===E&&_.push(this.boxes[f]);return _}}])&&v(o.prototype,i),A}();Y.Z=j},9597:function(U,Y){Y.Z=function v(j,A,o){(function(i,E){if(!(i instanceof E))throw new TypeError("Cannot call a class as a function")})(this,v),this.lastCompletedOffset=j,this.found=A,this.size=o}},2128:function(U,Y){Y.Z=function v(){(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(U,Y,v){function j(i,E){if(!(i instanceof E))throw new TypeError("Cannot call a class as a function")}v.d(Y,{O:function(){return o},w:function(){return A}});var A=function i(){j(this,i),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},o=function i(){j(this,i),this.s=null,this.d=null,this.b=[]};A.GET="GET",A.HEAD="HEAD",A.MPD_TYPE="MPD",A.XLINK_EXPANSION_TYPE="XLinkExpansion",A.INIT_SEGMENT_TYPE="InitializationSegment",A.INDEX_SEGMENT_TYPE="IndexSegment",A.MEDIA_SEGMENT_TYPE="MediaSegment",A.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",A.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",A.DVB_REPORTING_TYPE="DVBReporting",A.LICENSE="license",A.CONTENT_STEERING_TYPE="ContentSteering",A.OTHER_TYPE="other"},3039:function(U,Y){function v(A,o){return function(i,E){for(var _,f,R,m=j(i,"tag"),r=j(E??"*","range"),u=[],d=-1;++d<r.length;)if(_=r[d].toLowerCase(),o||_!=="*"){for(f=-1,R=[];++f<m.length;)if(A(m[f].toLowerCase(),_)){if(!o)return m[f];u.push(m[f])}else R.push(m[f]);m=R}return o?u:void 0}}function j(A,o){var i=A&&typeof A=="string"?[A]:A;if(!i||typeof i!="object"||!("length"in i))throw new Error("Invalid "+o+" `"+i+"`, expected non-empty string");return i}Y.basicFilter=v(function(A,o){return o==="*"||A===o||A.indexOf(o+"-")>-1},!0),Y.extendedFilter=v(function(A,o){var i=A.split("-"),E=o.split("-"),_=0,f=0;if(E[f]!=="*"&&i[_]!==E[f])return!1;for(_++,f++;f<E.length;)if(E[f]!=="*"){if(!i[_])return!1;if(i[_]!==E[f]){if(i[_].length===1)return!1;_++}else _++,f++}else f++;return!0},!0),Y.lookup=v(function(A,o){for(var i,E=o;;){if(E==="*"||A===E)return!0;if((i=E.lastIndexOf("-"))<0)return!1;E.charAt(i-2)==="-"&&(i-=2),E=E.slice(0,i)}})},3973:function(U,Y,v){U.exports=v(3854)},3854:function(U,Y,v){var j=v(2415),A=v(3039),o=v(7778),i=v(5813),E=v(3165),_=v(9460);U.exports=function(Z,z){var x,re=z||{},k=j.parse(String(Z||"").toLowerCase(),re),te=j.stringify(k),ce=-1;if(!te)return te;for(;++ce<o.length;)A.extendedFilter(te,o[ce].from).length&&(r(k,o[ce].from,o[ce].to),te=j.stringify(k));for(ce=-1;++ce<i.length;)u(k,i[ce].from.field,i[ce].from.value)&&d(k,i[ce].to.field,i[ce].to.value);for(te=j.stringify(Object.assign({},k,m)),ce=-1;++ce<E.length;)te===E[ce]&&(r(k,E[ce],E[ce].split("-").slice(0,-1).join("-")),te=j.stringify(Object.assign({},k,m)));if(k.extensions.sort(I),re.warning)for(x in _)f.call(_[x],k[x])&&re.warning("Deprecated "+x+" `"+k[x]+"`, expected one of `"+_[x][k[x]].join("`, `")+"`",null,7);return k.script&&(k.script=k.script.charAt(0).toUpperCase()+k.script.slice(1)),k.region&&(k.region=k.region.toUpperCase()),j.stringify(k)};var f={}.hasOwnProperty,R=new Intl.Collator,m={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function r(Z,z,x){var re,k=j.parse(z),te=j.parse(x),ce=[];for(re in k)k[re]&&k[re].length&&u(Z,re,k[re])&&ce.push(re);for(re in te)te[re]&&te[re].length&&(ce.indexOf(re)>-1||!Z[re]||!Z[re].length)&&d(Z,re,te[re])}function u(Z,z,x){var re,k,te,ce,$=!1;if(x){if(k=re=Z[z],re&&typeof re=="object")for(k=[],te=-1;++te<re.length;)ce=re[te],x.indexOf(ce)<0?k.push(ce):$=!0;else re===x&&(k=null,$=!0);Z[z]=k}return $}function d(Z,z,x){var re,k,te,ce=Z[z];if(ce&&typeof ce=="object")for(re=[].concat(x),k=-1;++k<re.length;)te=re[k],ce.indexOf(te)<0&&ce.push(te);else Z[z]=x}function I(Z,z){return R.compare(Z.singleton,z.singleton)}},2415:function(U,Y,v){Y.parse=v(6903),Y.stringify=v(6713)},6903:function(U,Y,v){var j=v(2219),A=v(3516),o=v(395),i=v(858),E=v(8589);U.exports=function f(R,m){var r,u,d,I=m||{},Z={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},z=String(R),x=z.toLowerCase(),re=0;if(R==null)throw new Error("Expected string, got `"+R+"`");if(_.call(E,x))return(I.normalize==null||I.normalize)&&E[x]?f(E[x]):(Z[i.indexOf(x)===-1?"irregular":"regular"]=z,Z);for(;A(x.charCodeAt(re))&&re<9;)re++;if(re>1&&re<9){if(Z.language=z.slice(0,re),re<4)for(u=0;x.charCodeAt(re)===45&&A(x.charCodeAt(re+1))&&A(x.charCodeAt(re+2))&&A(x.charCodeAt(re+3))&&!A(x.charCodeAt(re+4));){if(u>2)return k(re,3,"Too many extended language subtags, expected at most 3 subtags");Z.extendedLanguageSubtags.push(z.slice(re+1,re+4)),re+=4,u++}for(x.charCodeAt(re)===45&&A(x.charCodeAt(re+1))&&A(x.charCodeAt(re+2))&&A(x.charCodeAt(re+3))&&A(x.charCodeAt(re+4))&&!A(x.charCodeAt(re+5))&&(Z.script=z.slice(re+1,re+5),re+=5),x.charCodeAt(re)===45&&(A(x.charCodeAt(re+1))&&A(x.charCodeAt(re+2))&&!A(x.charCodeAt(re+3))?(Z.region=z.slice(re+1,re+3),re+=3):o(x.charCodeAt(re+1))&&o(x.charCodeAt(re+2))&&o(x.charCodeAt(re+3))&&!o(x.charCodeAt(re+4))&&(Z.region=z.slice(re+1,re+4),re+=4));x.charCodeAt(re)===45;){for(d=r=re+1;j(x.charCodeAt(d));){if(d-r>7)return k(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-r>4||d-r>3&&o(x.charCodeAt(r))))break;Z.variants.push(z.slice(r,d)),re=d}for(;x.charCodeAt(re)===45&&x.charCodeAt(re+1)!==120&&j(x.charCodeAt(re+1))&&x.charCodeAt(re+2)===45&&j(x.charCodeAt(re+3));){for(d=re+2,u=0;x.charCodeAt(d)===45&&j(x.charCodeAt(d+1))&&j(x.charCodeAt(d+2));)for(d=(r=d+1)+2,u++;j(x.charCodeAt(d));){if(d-r>7)return k(d,2,"Too long extension, expected at most 8 characters");d++}if(!u)return k(d,4,"Empty extension, extensions must have at least 2 characters of content");Z.extensions.push({singleton:z.charAt(re+1),extensions:z.slice(re+3,d).split("-")}),re=d}}else re=0;if(re===0&&x.charCodeAt(re)===120||x.charCodeAt(re)===45&&x.charCodeAt(re+1)===120)for(d=re=re?re+2:1;x.charCodeAt(d)===45&&j(x.charCodeAt(d+1));){for(d=r=re+1;j(x.charCodeAt(d));){if(d-r>7)return k(d,5,"Too long private-use area, expected at most 8 characters");d++}Z.privateuse.push(z.slice(re+1,d)),re=d}return re!==z.length?k(re,6,"Found superfluous content after tag"):Z;function k(te,ce,$){return I.warning&&I.warning($,ce,te),I.forgiving?Z:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var _={}.hasOwnProperty},6713:function(U){U.exports=function(Y){var v,j,A,o=Y||{},i=[];if(o.irregular||o.regular)return o.irregular||o.regular;if(o.language)for(i=i.concat(o.language,o.extendedLanguageSubtags||[],o.script||[],o.region||[],o.variants||[]),v=o.extensions||[],j=-1;++j<v.length;)(A=v[j]).singleton&&A.extensions&&A.extensions.length&&(i=i.concat(A.singleton,A.extensions));return o.privateuse&&o.privateuse.length&&(i=i.concat("x",o.privateuse)),i.join("-")}},1549:function(U,Y,v){var j=v(6693),A=v(2165),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Y.Buffer=_,Y.SlowBuffer=function(y){return+y!=y&&(y=0),_.alloc(+y)},Y.INSPECT_MAX_BYTES=50;var i=2147483647;function E(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');var p=new Uint8Array(y);return Object.setPrototypeOf(p,_.prototype),p}function _(y,p,N){if(typeof y=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(y)}return f(y,p,N)}function f(y,p,N){if(typeof y=="string")return function(ne,Me){if(typeof Me=="string"&&Me!==""||(Me="utf8"),!_.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);var nt=0|I(ne,Me),je=E(nt),Ge=je.write(ne,Me);return Ge!==nt&&(je=je.slice(0,Ge)),je}(y,p);if(ArrayBuffer.isView(y))return function(ne){if(Se(ne,Uint8Array)){var Me=new Uint8Array(ne);return u(Me.buffer,Me.byteOffset,Me.byteLength)}return r(ne)}(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(Se(y,ArrayBuffer)||y&&Se(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(y,SharedArrayBuffer)||y&&Se(y.buffer,SharedArrayBuffer)))return u(y,p,N);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=y.valueOf&&y.valueOf();if(C!=null&&C!==y)return _.from(C,p,N);var ae=function(ne){if(_.isBuffer(ne)){var Me=0|d(ne.length),nt=E(Me);return nt.length===0||ne.copy(nt,0,0,Me),nt}return ne.length!==void 0?typeof ne.length!="number"||we(ne.length)?E(0):r(ne):ne.type==="Buffer"&&Array.isArray(ne.data)?r(ne.data):void 0}(y);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return _.from(y[Symbol.toPrimitive]("string"),p,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}function R(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function m(y){return R(y),E(y<0?0:0|d(y))}function r(y){for(var p=y.length<0?0:0|d(y.length),N=E(p),C=0;C<p;C+=1)N[C]=255&y[C];return N}function u(y,p,N){if(p<0||y.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<p+(N||0))throw new RangeError('"length" is outside of buffer bounds');var C;return C=p===void 0&&N===void 0?new Uint8Array(y):N===void 0?new Uint8Array(y,p):new Uint8Array(y,p,N),Object.setPrototypeOf(C,_.prototype),C}function d(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|y}function I(y,p){if(_.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||Se(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var N=y.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&N===0)return 0;for(var ae=!1;;)switch(p){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return gt(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return He(y).length;default:if(ae)return C?-1:gt(y).length;p=(""+p).toLowerCase(),ae=!0}}function Z(y,p,N){var C=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0)<=(p>>>=0))return"";for(y||(y="utf8");;)switch(y){case"hex":return Ne(this,p,N);case"utf8":case"utf-8":return Ce(this,p,N);case"ascii":return be(this,p,N);case"latin1":case"binary":return Pe(this,p,N);case"base64":return he(this,p,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,p,N);default:if(C)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),C=!0}}function z(y,p,N){var C=y[p];y[p]=y[N],y[N]=C}function x(y,p,N,C,ae){if(y.length===0)return-1;if(typeof N=="string"?(C=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),we(N=+N)&&(N=ae?0:y.length-1),N<0&&(N=y.length+N),N>=y.length){if(ae)return-1;N=y.length-1}else if(N<0){if(!ae)return-1;N=0}if(typeof p=="string"&&(p=_.from(p,C)),_.isBuffer(p))return p.length===0?-1:re(y,p,N,C,ae);if(typeof p=="number")return p&=255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(y,p,N):Uint8Array.prototype.lastIndexOf.call(y,p,N):re(y,[p],N,C,ae);throw new TypeError("val must be string, number or Buffer")}function re(y,p,N,C,ae){var ne,Me=1,nt=y.length,je=p.length;if(C!==void 0&&((C=String(C).toLowerCase())==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(y.length<2||p.length<2)return-1;Me=2,nt/=2,je/=2,N/=2}function Ge(St,ft){return Me===1?St[ft]:St.readUInt16BE(ft*Me)}if(ae){var xe=-1;for(ne=N;ne<nt;ne++)if(Ge(y,ne)===Ge(p,xe===-1?0:ne-xe)){if(xe===-1&&(xe=ne),ne-xe+1===je)return xe*Me}else xe!==-1&&(ne-=ne-xe),xe=-1}else for(N+je>nt&&(N=nt-je),ne=N;ne>=0;ne--){for(var Ye=!0,at=0;at<je;at++)if(Ge(y,ne+at)!==Ge(p,at)){Ye=!1;break}if(Ye)return ne}return-1}function k(y,p,N,C){N=Number(N)||0;var ae=y.length-N;C?(C=Number(C))>ae&&(C=ae):C=ae;var ne=p.length;C>ne/2&&(C=ne/2);for(var Me=0;Me<C;++Me){var nt=parseInt(p.substr(2*Me,2),16);if(we(nt))return Me;y[N+Me]=nt}return Me}function te(y,p,N,C){return ot(gt(p,y.length-N),y,N,C)}function ce(y,p,N,C){return ot(function(ae){for(var ne=[],Me=0;Me<ae.length;++Me)ne.push(255&ae.charCodeAt(Me));return ne}(p),y,N,C)}function $(y,p,N,C){return ot(He(p),y,N,C)}function ue(y,p,N,C){return ot(function(ae,ne){for(var Me,nt,je,Ge=[],xe=0;xe<ae.length&&!((ne-=2)<0);++xe)nt=(Me=ae.charCodeAt(xe))>>8,je=Me%256,Ge.push(je),Ge.push(nt);return Ge}(p,y.length-N),y,N,C)}function he(y,p,N){return p===0&&N===y.length?j.fromByteArray(y):j.fromByteArray(y.slice(p,N))}function Ce(y,p,N){N=Math.min(y.length,N);for(var C=[],ae=p;ae<N;){var ne,Me,nt,je,Ge=y[ae],xe=null,Ye=Ge>239?4:Ge>223?3:Ge>191?2:1;if(ae+Ye<=N)switch(Ye){case 1:Ge<128&&(xe=Ge);break;case 2:(192&(ne=y[ae+1]))==128&&(je=(31&Ge)<<6|63&ne)>127&&(xe=je);break;case 3:ne=y[ae+1],Me=y[ae+2],(192&ne)==128&&(192&Me)==128&&(je=(15&Ge)<<12|(63&ne)<<6|63&Me)>2047&&(je<55296||je>57343)&&(xe=je);break;case 4:ne=y[ae+1],Me=y[ae+2],nt=y[ae+3],(192&ne)==128&&(192&Me)==128&&(192&nt)==128&&(je=(15&Ge)<<18|(63&ne)<<12|(63&Me)<<6|63&nt)>65535&&je<1114112&&(xe=je)}xe===null?(xe=65533,Ye=1):xe>65535&&(xe-=65536,C.push(xe>>>10&1023|55296),xe=56320|1023&xe),C.push(xe),ae+=Ye}return function(at){var St=at.length;if(St<=oe)return String.fromCharCode.apply(String,at);for(var ft="",Yt=0;Yt<St;)ft+=String.fromCharCode.apply(String,at.slice(Yt,Yt+=oe));return ft}(C)}Y.kMaxLength=i,_.TYPED_ARRAY_SUPPORT=function(){try{var y=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(y,p),y.foo()===42}catch{return!1}}(),_.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}}),_.poolSize=8192,_.from=function(y,p,N){return f(y,p,N)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array),_.alloc=function(y,p,N){return function(C,ae,ne){return R(C),C<=0?E(C):ae!==void 0?typeof ne=="string"?E(C).fill(ae,ne):E(C).fill(ae):E(C)}(y,p,N)},_.allocUnsafe=function(y){return m(y)},_.allocUnsafeSlow=function(y){return m(y)},_.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==_.prototype},_.compare=function(y,p){if(Se(y,Uint8Array)&&(y=_.from(y,y.offset,y.byteLength)),Se(p,Uint8Array)&&(p=_.from(p,p.offset,p.byteLength)),!_.isBuffer(y)||!_.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===p)return 0;for(var N=y.length,C=p.length,ae=0,ne=Math.min(N,C);ae<ne;++ae)if(y[ae]!==p[ae]){N=y[ae],C=p[ae];break}return N<C?-1:C<N?1:0},_.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(y,p){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return _.alloc(0);var N;if(p===void 0)for(p=0,N=0;N<y.length;++N)p+=y[N].length;var C=_.allocUnsafe(p),ae=0;for(N=0;N<y.length;++N){var ne=y[N];if(Se(ne,Uint8Array))ae+ne.length>C.length?_.from(ne).copy(C,ae):Uint8Array.prototype.set.call(C,ne,ae);else{if(!_.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(C,ae)}ae+=ne.length}return C},_.byteLength=I,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var y=this.length;if(y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<y;p+=2)z(this,p,p+1);return this},_.prototype.swap32=function(){var y=this.length;if(y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<y;p+=4)z(this,p,p+3),z(this,p+1,p+2);return this},_.prototype.swap64=function(){var y=this.length;if(y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<y;p+=8)z(this,p,p+7),z(this,p+1,p+6),z(this,p+2,p+5),z(this,p+3,p+4);return this},_.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?Ce(this,0,y):Z.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(y){if(!_.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y||_.compare(this,y)===0},_.prototype.inspect=function(){var y="",p=Y.INSPECT_MAX_BYTES;return y=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(y+=" ... "),"<Buffer "+y+">"},o&&(_.prototype[o]=_.prototype.inspect),_.prototype.compare=function(y,p,N,C,ae){if(Se(y,Uint8Array)&&(y=_.from(y,y.offset,y.byteLength)),!_.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(p===void 0&&(p=0),N===void 0&&(N=y?y.length:0),C===void 0&&(C=0),ae===void 0&&(ae=this.length),p<0||N>y.length||C<0||ae>this.length)throw new RangeError("out of range index");if(C>=ae&&p>=N)return 0;if(C>=ae)return-1;if(p>=N)return 1;if(this===y)return 0;for(var ne=(ae>>>=0)-(C>>>=0),Me=(N>>>=0)-(p>>>=0),nt=Math.min(ne,Me),je=this.slice(C,ae),Ge=y.slice(p,N),xe=0;xe<nt;++xe)if(je[xe]!==Ge[xe]){ne=je[xe],Me=Ge[xe];break}return ne<Me?-1:Me<ne?1:0},_.prototype.includes=function(y,p,N){return this.indexOf(y,p,N)!==-1},_.prototype.indexOf=function(y,p,N){return x(this,y,p,N,!0)},_.prototype.lastIndexOf=function(y,p,N){return x(this,y,p,N,!1)},_.prototype.write=function(y,p,N,C){if(p===void 0)C="utf8",N=this.length,p=0;else if(N===void 0&&typeof p=="string")C=p,N=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(N)?(N>>>=0,C===void 0&&(C="utf8")):(C=N,N=void 0)}var ae=this.length-p;if((N===void 0||N>ae)&&(N=ae),y.length>0&&(N<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var ne=!1;;)switch(C){case"hex":return k(this,y,p,N);case"utf8":case"utf-8":return te(this,y,p,N);case"ascii":case"latin1":case"binary":return ce(this,y,p,N);case"base64":return $(this,y,p,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,y,p,N);default:if(ne)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),ne=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function be(y,p,N){var C="";N=Math.min(y.length,N);for(var ae=p;ae<N;++ae)C+=String.fromCharCode(127&y[ae]);return C}function Pe(y,p,N){var C="";N=Math.min(y.length,N);for(var ae=p;ae<N;++ae)C+=String.fromCharCode(y[ae]);return C}function Ne(y,p,N){var C=y.length;(!p||p<0)&&(p=0),(!N||N<0||N>C)&&(N=C);for(var ae="",ne=p;ne<N;++ne)ae+=Ke[y[ne]];return ae}function me(y,p,N){for(var C=y.slice(p,N),ae="",ne=0;ne<C.length-1;ne+=2)ae+=String.fromCharCode(C[ne]+256*C[ne+1]);return ae}function Le(y,p,N){if(y%1!=0||y<0)throw new RangeError("offset is not uint");if(y+p>N)throw new RangeError("Trying to access beyond buffer length")}function qe(y,p,N,C,ae,ne){if(!_.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>ae||p<ne)throw new RangeError('"value" argument is out of bounds');if(N+C>y.length)throw new RangeError("Index out of range")}function $e(y,p,N,C,ae,ne){if(N+C>y.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Re(y,p,N,C,ae){return p=+p,N>>>=0,ae||$e(y,0,N,4),A.write(y,p,N,C,23,4),N+4}function Fe(y,p,N,C,ae){return p=+p,N>>>=0,ae||$e(y,0,N,8),A.write(y,p,N,C,52,8),N+8}_.prototype.slice=function(y,p){var N=this.length;(y=~~y)<0?(y+=N)<0&&(y=0):y>N&&(y=N),(p=p===void 0?N:~~p)<0?(p+=N)<0&&(p=0):p>N&&(p=N),p<y&&(p=y);var C=this.subarray(y,p);return Object.setPrototypeOf(C,_.prototype),C},_.prototype.readUintLE=_.prototype.readUIntLE=function(y,p,N){y>>>=0,p>>>=0,N||Le(y,p,this.length);for(var C=this[y],ae=1,ne=0;++ne<p&&(ae*=256);)C+=this[y+ne]*ae;return C},_.prototype.readUintBE=_.prototype.readUIntBE=function(y,p,N){y>>>=0,p>>>=0,N||Le(y,p,this.length);for(var C=this[y+--p],ae=1;p>0&&(ae*=256);)C+=this[y+--p]*ae;return C},_.prototype.readUint8=_.prototype.readUInt8=function(y,p){return y>>>=0,p||Le(y,1,this.length),this[y]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(y,p){return y>>>=0,p||Le(y,2,this.length),this[y]|this[y+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(y,p){return y>>>=0,p||Le(y,2,this.length),this[y]<<8|this[y+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(y,p){return y>>>=0,p||Le(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+16777216*this[y+3]},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(y,p){return y>>>=0,p||Le(y,4,this.length),16777216*this[y]+(this[y+1]<<16|this[y+2]<<8|this[y+3])},_.prototype.readIntLE=function(y,p,N){y>>>=0,p>>>=0,N||Le(y,p,this.length);for(var C=this[y],ae=1,ne=0;++ne<p&&(ae*=256);)C+=this[y+ne]*ae;return C>=(ae*=128)&&(C-=Math.pow(2,8*p)),C},_.prototype.readIntBE=function(y,p,N){y>>>=0,p>>>=0,N||Le(y,p,this.length);for(var C=p,ae=1,ne=this[y+--C];C>0&&(ae*=256);)ne+=this[y+--C]*ae;return ne>=(ae*=128)&&(ne-=Math.pow(2,8*p)),ne},_.prototype.readInt8=function(y,p){return y>>>=0,p||Le(y,1,this.length),128&this[y]?-1*(255-this[y]+1):this[y]},_.prototype.readInt16LE=function(y,p){y>>>=0,p||Le(y,2,this.length);var N=this[y]|this[y+1]<<8;return 32768&N?4294901760|N:N},_.prototype.readInt16BE=function(y,p){y>>>=0,p||Le(y,2,this.length);var N=this[y+1]|this[y]<<8;return 32768&N?4294901760|N:N},_.prototype.readInt32LE=function(y,p){return y>>>=0,p||Le(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},_.prototype.readInt32BE=function(y,p){return y>>>=0,p||Le(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},_.prototype.readFloatLE=function(y,p){return y>>>=0,p||Le(y,4,this.length),A.read(this,y,!0,23,4)},_.prototype.readFloatBE=function(y,p){return y>>>=0,p||Le(y,4,this.length),A.read(this,y,!1,23,4)},_.prototype.readDoubleLE=function(y,p){return y>>>=0,p||Le(y,8,this.length),A.read(this,y,!0,52,8)},_.prototype.readDoubleBE=function(y,p){return y>>>=0,p||Le(y,8,this.length),A.read(this,y,!1,52,8)},_.prototype.writeUintLE=_.prototype.writeUIntLE=function(y,p,N,C){y=+y,p>>>=0,N>>>=0,C||qe(this,y,p,N,Math.pow(2,8*N)-1,0);var ae=1,ne=0;for(this[p]=255&y;++ne<N&&(ae*=256);)this[p+ne]=y/ae&255;return p+N},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(y,p,N,C){y=+y,p>>>=0,N>>>=0,C||qe(this,y,p,N,Math.pow(2,8*N)-1,0);var ae=N-1,ne=1;for(this[p+ae]=255&y;--ae>=0&&(ne*=256);)this[p+ae]=y/ne&255;return p+N},_.prototype.writeUint8=_.prototype.writeUInt8=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,1,255,0),this[p]=255&y,p+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,2,65535,0),this[p]=255&y,this[p+1]=y>>>8,p+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,2,65535,0),this[p]=y>>>8,this[p+1]=255&y,p+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,4,4294967295,0),this[p+3]=y>>>24,this[p+2]=y>>>16,this[p+1]=y>>>8,this[p]=255&y,p+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,4,4294967295,0),this[p]=y>>>24,this[p+1]=y>>>16,this[p+2]=y>>>8,this[p+3]=255&y,p+4},_.prototype.writeIntLE=function(y,p,N,C){if(y=+y,p>>>=0,!C){var ae=Math.pow(2,8*N-1);qe(this,y,p,N,ae-1,-ae)}var ne=0,Me=1,nt=0;for(this[p]=255&y;++ne<N&&(Me*=256);)y<0&&nt===0&&this[p+ne-1]!==0&&(nt=1),this[p+ne]=(y/Me>>0)-nt&255;return p+N},_.prototype.writeIntBE=function(y,p,N,C){if(y=+y,p>>>=0,!C){var ae=Math.pow(2,8*N-1);qe(this,y,p,N,ae-1,-ae)}var ne=N-1,Me=1,nt=0;for(this[p+ne]=255&y;--ne>=0&&(Me*=256);)y<0&&nt===0&&this[p+ne+1]!==0&&(nt=1),this[p+ne]=(y/Me>>0)-nt&255;return p+N},_.prototype.writeInt8=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,1,127,-128),y<0&&(y=255+y+1),this[p]=255&y,p+1},_.prototype.writeInt16LE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,2,32767,-32768),this[p]=255&y,this[p+1]=y>>>8,p+2},_.prototype.writeInt16BE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,2,32767,-32768),this[p]=y>>>8,this[p+1]=255&y,p+2},_.prototype.writeInt32LE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,4,2147483647,-2147483648),this[p]=255&y,this[p+1]=y>>>8,this[p+2]=y>>>16,this[p+3]=y>>>24,p+4},_.prototype.writeInt32BE=function(y,p,N){return y=+y,p>>>=0,N||qe(this,y,p,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[p]=y>>>24,this[p+1]=y>>>16,this[p+2]=y>>>8,this[p+3]=255&y,p+4},_.prototype.writeFloatLE=function(y,p,N){return Re(this,y,p,!0,N)},_.prototype.writeFloatBE=function(y,p,N){return Re(this,y,p,!1,N)},_.prototype.writeDoubleLE=function(y,p,N){return Fe(this,y,p,!0,N)},_.prototype.writeDoubleBE=function(y,p,N){return Fe(this,y,p,!1,N)},_.prototype.copy=function(y,p,N,C){if(!_.isBuffer(y))throw new TypeError("argument should be a Buffer");if(N||(N=0),C||C===0||(C=this.length),p>=y.length&&(p=y.length),p||(p=0),C>0&&C<N&&(C=N),C===N||y.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),y.length-p<C-N&&(C=y.length-p+N);var ae=C-N;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,N,C):Uint8Array.prototype.set.call(y,this.subarray(N,C),p),ae},_.prototype.fill=function(y,p,N,C){if(typeof y=="string"){if(typeof p=="string"?(C=p,p=0,N=this.length):typeof N=="string"&&(C=N,N=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!_.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(y.length===1){var ae=y.charCodeAt(0);(C==="utf8"&&ae<128||C==="latin1")&&(y=ae)}}else typeof y=="number"?y&=255:typeof y=="boolean"&&(y=Number(y));if(p<0||this.length<p||this.length<N)throw new RangeError("Out of range index");if(N<=p)return this;var ne;if(p>>>=0,N=N===void 0?this.length:N>>>0,y||(y=0),typeof y=="number")for(ne=p;ne<N;++ne)this[ne]=y;else{var Me=_.isBuffer(y)?y:_.from(y,C),nt=Me.length;if(nt===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(ne=0;ne<N-p;++ne)this[ne+p]=Me[ne%nt]}return this};var Et=/[^+/0-9A-Za-z-_]/g;function gt(y,p){var N;p=p||1/0;for(var C=y.length,ae=null,ne=[],Me=0;Me<C;++Me){if((N=y.charCodeAt(Me))>55295&&N<57344){if(!ae){if(N>56319){(p-=3)>-1&&ne.push(239,191,189);continue}if(Me+1===C){(p-=3)>-1&&ne.push(239,191,189);continue}ae=N;continue}if(N<56320){(p-=3)>-1&&ne.push(239,191,189),ae=N;continue}N=65536+(ae-55296<<10|N-56320)}else ae&&(p-=3)>-1&&ne.push(239,191,189);if(ae=null,N<128){if((p-=1)<0)break;ne.push(N)}else if(N<2048){if((p-=2)<0)break;ne.push(N>>6|192,63&N|128)}else if(N<65536){if((p-=3)<0)break;ne.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((p-=4)<0)break;ne.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return ne}function He(y){return j.toByteArray(function(p){if((p=(p=p.split("=")[0]).trim().replace(Et,"")).length<2)return"";for(;p.length%4!=0;)p+="=";return p}(y))}function ot(y,p,N,C){for(var ae=0;ae<C&&!(ae+N>=p.length||ae>=y.length);++ae)p[ae+N]=y[ae];return ae}function Se(y,p){return y instanceof p||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===p.name}function we(y){return y!=y}var Ke=function(){for(var y="0123456789abcdef",p=new Array(256),N=0;N<16;++N)for(var C=16*N,ae=0;ae<16;++ae)p[C+ae]=y[N]+y[ae];return p}()},6693:function(U,Y){Y.byteLength=function(R){var m=_(R),r=m[0],u=m[1];return 3*(r+u)/4-u},Y.toByteArray=function(R){var m,r,u=_(R),d=u[0],I=u[1],Z=new A(function(re,k,te){return 3*(k+te)/4-te}(0,d,I)),z=0,x=I>0?d-4:d;for(r=0;r<x;r+=4)m=j[R.charCodeAt(r)]<<18|j[R.charCodeAt(r+1)]<<12|j[R.charCodeAt(r+2)]<<6|j[R.charCodeAt(r+3)],Z[z++]=m>>16&255,Z[z++]=m>>8&255,Z[z++]=255&m;return I===2&&(m=j[R.charCodeAt(r)]<<2|j[R.charCodeAt(r+1)]>>4,Z[z++]=255&m),I===1&&(m=j[R.charCodeAt(r)]<<10|j[R.charCodeAt(r+1)]<<4|j[R.charCodeAt(r+2)]>>2,Z[z++]=m>>8&255,Z[z++]=255&m),Z},Y.fromByteArray=function(R){for(var m,r=R.length,u=r%3,d=[],I=16383,Z=0,z=r-u;Z<z;Z+=I)d.push(f(R,Z,Z+I>z?z:Z+I));return u===1?(m=R[r-1],d.push(v[m>>2]+v[m<<4&63]+"==")):u===2&&(m=(R[r-2]<<8)+R[r-1],d.push(v[m>>10]+v[m>>4&63]+v[m<<2&63]+"=")),d.join("")};for(var v=[],j=[],A=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,E=o.length;i<E;++i)v[i]=o[i],j[o.charCodeAt(i)]=i;function _(R){var m=R.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=R.indexOf("=");return r===-1&&(r=m),[r,r===m?0:4-r%4]}function f(R,m,r){for(var u,d,I=[],Z=m;Z<r;Z+=3)u=(R[Z]<<16&16711680)+(R[Z+1]<<8&65280)+(255&R[Z+2]),I.push(v[(d=u)>>18&63]+v[d>>12&63]+v[d>>6&63]+v[63&d]);return I.join("")}j[45]=62,j[95]=63},2165:function(U,Y){Y.read=function(v,j,A,o,i){var E,_,f=8*i-o-1,R=(1<<f)-1,m=R>>1,r=-7,u=A?i-1:0,d=A?-1:1,I=v[j+u];for(u+=d,E=I&(1<<-r)-1,I>>=-r,r+=f;r>0;E=256*E+v[j+u],u+=d,r-=8);for(_=E&(1<<-r)-1,E>>=-r,r+=o;r>0;_=256*_+v[j+u],u+=d,r-=8);if(E===0)E=1-m;else{if(E===R)return _?NaN:1/0*(I?-1:1);_+=Math.pow(2,o),E-=m}return(I?-1:1)*_*Math.pow(2,E-o)},Y.write=function(v,j,A,o,i,E){var _,f,R,m=8*E-i-1,r=(1<<m)-1,u=r>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=o?0:E-1,Z=o?1:-1,z=j<0||j===0&&1/j<0?1:0;for(j=Math.abs(j),isNaN(j)||j===1/0?(f=isNaN(j)?1:0,_=r):(_=Math.floor(Math.log(j)/Math.LN2),j*(R=Math.pow(2,-_))<1&&(_--,R*=2),(j+=_+u>=1?d/R:d*Math.pow(2,1-u))*R>=2&&(_++,R/=2),_+u>=r?(f=0,_=r):_+u>=1?(f=(j*R-1)*Math.pow(2,i),_+=u):(f=j*Math.pow(2,u-1)*Math.pow(2,i),_=0));i>=8;v[A+I]=255&f,I+=Z,f/=256,i-=8);for(_=_<<i|f,m+=i;m>0;v[A+I]=255&_,I+=Z,_/=256,m-=8);v[A+I-Z]|=128*z}},6934:function(U,Y){var v={parseBuffer:function(o){return new j(o).parse()},addBoxProcessor:function(o,i){typeof o=="string"&&typeof i=="function"&&(A.prototype._boxProcessors[o]=i)},createFile:function(){return new j},createBox:function(o,i,E){var _=A.create(o);return i&&i.append(_,E),_},createFullBox:function(o,i,E){var _=v.createBox(o,i,E);return _.version=0,_.flags=0,_},Utils:{}};v.Utils.dataViewToString=function(o,i){var E=i||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(E).decode(o);var _=[],f=0;if(E==="utf-8")for(;f<o.byteLength;){var R=o.getUint8(f++);R<128||(R<224?(R=(31&R)<<6,R|=63&o.getUint8(f++)):R<240?(R=(15&R)<<12,R|=(63&o.getUint8(f++))<<6,R|=63&o.getUint8(f++)):(R=(7&R)<<18,R|=(63&o.getUint8(f++))<<12,R|=(63&o.getUint8(f++))<<6,R|=63&o.getUint8(f++))),_.push(String.fromCharCode(R))}else for(;f<o.byteLength;)_.push(String.fromCharCode(o.getUint8(f++)));return _.join("")},v.Utils.utf8ToByteArray=function(o){var i,E;if(typeof TextEncoder<"u")i=new TextEncoder().encode(o);else for(i=[],E=0;E<o.length;++E){var _=o.charCodeAt(E);_<128?i.push(_):_<2048?(i.push(192|_>>6),i.push(128|63&_)):_<65536?(i.push(224|_>>12),i.push(128|63&_>>6),i.push(128|63&_)):(i.push(240|_>>18),i.push(128|63&_>>12),i.push(128|63&_>>6),i.push(128|63&_))}return i},v.Utils.appendBox=function(o,i,E){if(i._offset=o._cursor.offset,i._root=o._root?o._root:o,i._raw=o._raw,i._parent=o,E!==-1)if(E!=null){var _,f=-1;if(typeof E=="number")f=E;else{if(typeof E=="string")_=E;else{if(typeof E!="object"||!E.type)return void o.boxes.push(i);_=E.type}for(var R=0;R<o.boxes.length;R++)if(_===o.boxes[R].type){f=R+1;break}}o.boxes.splice(f,0,i)}else o.boxes.push(i)},Y.parseBuffer=v.parseBuffer,Y.addBoxProcessor=v.addBoxProcessor,Y.createFile=v.createFile,Y.createBox=v.createBox,Y.createFullBox=v.createFullBox,Y.Utils=v.Utils,v.Cursor=function(o){this.offset=o===void 0?0:o};var j=function(o){this._cursor=new v.Cursor,this.boxes=[],o&&(this._raw=new DataView(o))};j.prototype.fetch=function(o){var i=this.fetchAll(o,!0);return i.length?i[0]:null},j.prototype.fetchAll=function(o,i){var E=[];return j._sweep.call(this,o,E,i),E},j.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var o=A.parse(this);if(o.type===void 0)break;this.boxes.push(o)}return this},j._sweep=function(o,i,E){for(var _ in this.type&&this.type==o&&i.push(this),this.boxes){if(i.length&&E)return;j._sweep.call(this.boxes[_],o,i,E)}},j.prototype.write=function(){var o,i=0;for(o=0;o<this.boxes.length;o++)i+=this.boxes[o].getLength(!1);var E=new Uint8Array(i);for(this._rawo=new DataView(E.buffer),this.bytes=E,this._cursor.offset=0,o=0;o<this.boxes.length;o++)this.boxes[o].write();return E.buffer},j.prototype.append=function(o,i){v.Utils.appendBox(this,o,i)};var A=function(){this._cursor=new v.Cursor};A.parse=function(o){var i=new A;return i._offset=o._cursor.offset,i._root=o._root?o._root:o,i._raw=o._raw,i._parent=o,i._parseBox(),o._cursor.offset=i._raw.byteOffset+i._raw.byteLength,i},A.create=function(o){var i=new A;return i.type=o,i.boxes=[],i},A.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],A.prototype._boxProcessors={},A.prototype._procField=function(o,i,E){this._parsing?this[o]=this._readField(i,E):this._writeField(i,E,this[o])},A.prototype._procFieldArray=function(o,i,E,_){var f;if(this._parsing)for(this[o]=[],f=0;f<i;f++)this[o][f]=this._readField(E,_);else for(f=0;f<this[o].length;f++)this._writeField(E,_,this[o][f])},A.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},A.prototype._procEntries=function(o,i,E){var _;if(this._parsing)for(this[o]=[],_=0;_<i;_++)this[o].push({}),E.call(this,this[o][_]);else for(_=0;_<i;_++)E.call(this,this[o][_])},A.prototype._procSubEntries=function(o,i,E,_){var f;if(this._parsing)for(o[i]=[],f=0;f<E;f++)o[i].push({}),_.call(this,o[i][f]);else for(f=0;f<E;f++)_.call(this,o[i][f])},A.prototype._procEntryField=function(o,i,E,_){this._parsing?o[i]=this._readField(E,_):this._writeField(E,_,o[i])},A.prototype._procSubBoxes=function(o,i){var E;if(this._parsing)for(this[o]=[],E=0;E<i;E++)this[o].push(A.parse(this));else for(E=0;E<i;E++)this._rawo?this[o][E].write():this.size+=this[o][E].getLength()},A.prototype._readField=function(o,i){switch(o){case"uint":return this._readUint(i);case"int":return this._readInt(i);case"template":return this._readTemplate(i);case"string":return i===-1?this._readTerminatedString():this._readString(i);case"data":return this._readData(i);case"utf8":return this._readUTF8String();default:return-1}},A.prototype._readInt=function(o){var i=null,E=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:i=this._raw.getInt8(E);break;case 16:i=this._raw.getInt16(E);break;case 32:i=this._raw.getInt32(E);break;case 64:var _=this._raw.getInt32(E),f=this._raw.getInt32(E+4);i=_*Math.pow(2,32)+f}return this._cursor.offset+=o>>3,i},A.prototype._readUint=function(o){var i,E,_=null,f=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:_=this._raw.getUint8(f);break;case 16:_=this._raw.getUint16(f);break;case 24:_=((i=this._raw.getUint16(f))<<8)+(E=this._raw.getUint8(f+2));break;case 32:_=this._raw.getUint32(f);break;case 64:i=this._raw.getUint32(f),E=this._raw.getUint32(f+4),_=i*Math.pow(2,32)+E}return this._cursor.offset+=o>>3,_},A.prototype._readString=function(o){for(var i="",E=0;E<o;E++){var _=this._readUint(8);i+=String.fromCharCode(_)}return i},A.prototype._readTemplate=function(o){return this._readUint(o/2)+this._readUint(o/2)/Math.pow(2,o/2)},A.prototype._readTerminatedString=function(){for(var o="";this._cursor.offset-this._offset<this._raw.byteLength;){var i=this._readUint(8);if(i===0)break;o+=String.fromCharCode(i)}return o},A.prototype._readData=function(o){var i=o>0?o:this._raw.byteLength-(this._cursor.offset-this._offset);if(i>0){var E=new Uint8Array(this._raw.buffer,this._cursor.offset,i);return this._cursor.offset+=i,E}return null},A.prototype._readUTF8String=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),i=null;return o>0&&(i=new DataView(this._raw.buffer,this._cursor.offset,o),this._cursor.offset+=o),i&&v.Utils.dataViewToString(i)},A.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},A.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},A.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(A.parse(this))},A.prototype.append=function(o,i){v.Utils.appendBox(this,o,i)},A.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.size+=this.boxes[o].getLength();return this._data&&this._writeData(this._data),this.size},A.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.boxes[o].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},A.prototype._writeInt=function(o,i){if(this._rawo){var E=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setInt8(E,i);break;case 16:this._rawo.setInt16(E,i);break;case 32:this._rawo.setInt32(E,i);break;case 64:var _=Math.floor(i/Math.pow(2,32)),f=i-_*Math.pow(2,32);this._rawo.setUint32(E,_),this._rawo.setUint32(E+4,f)}this._cursor.offset+=o>>3}else this.size+=o>>3},A.prototype._writeUint=function(o,i){if(this._rawo){var E,_,f=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setUint8(f,i);break;case 16:this._rawo.setUint16(f,i);break;case 24:E=(16776960&i)>>8,_=255&i,this._rawo.setUint16(f,E),this._rawo.setUint8(f+2,_);break;case 32:this._rawo.setUint32(f,i);break;case 64:_=i-(E=Math.floor(i/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(f,E),this._rawo.setUint32(f+4,_)}this._cursor.offset+=o>>3}else this.size+=o>>3},A.prototype._writeString=function(o,i){for(var E=0;E<o;E++)this._writeUint(8,i.charCodeAt(E))},A.prototype._writeTerminatedString=function(o){if(o.length!==0){for(var i=0;i<o.length;i++)this._writeUint(8,o.charCodeAt(i));this._writeUint(8,0)}},A.prototype._writeTemplate=function(o,i){var E=Math.floor(i),_=(i-E)*Math.pow(2,o/2);this._writeUint(o/2,E),this._writeUint(o/2,_)},A.prototype._writeData=function(o){if(o)if(this._rawo){if(o instanceof Array){for(var i=this._cursor.offset-this._rawo.byteOffset,E=0;E<o.length;E++)this._rawo.setInt8(i+E,o[E]);this._cursor.offset+=o.length}o instanceof Uint8Array&&(this._root.bytes.set(o,this._cursor.offset),this._cursor.offset+=o.length)}else this.size+=o.length},A.prototype._writeUTF8String=function(o){var i=v.Utils.utf8ToByteArray(o);if(this._rawo)for(var E=new DataView(this._rawo.buffer,this._cursor.offset,i.length),_=0;_<i.length;_++)E.setUint8(_,i[_]);else this.size+=i.length},A.prototype._writeField=function(o,i,E){switch(o){case"uint":this._writeUint(i,E);break;case"int":this._writeInt(i,E);break;case"template":this._writeTemplate(i,E);break;case"string":i==-1?this._writeTerminatedString(E):this._writeString(i,E);break;case"data":this._writeData(E);break;case"utf8":this._writeUTF8String(E)}},A.prototype._boxProcessors.avc1=A.prototype._boxProcessors.avc2=A.prototype._boxProcessors.avc3=A.prototype._boxProcessors.avc4=A.prototype._boxProcessors.hvc1=A.prototype._boxProcessors.hev1=A.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},A.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_offset",this.version===1?"int":"uint",32)})},A.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"segment_duration","uint",this.version===1?64:32),this._procEntryField(o,"media_time","int",this.version===1?64:32),this._procEntryField(o,"media_rate_integer","int",16),this._procEntryField(o,"media_rate_fraction","int",16)})},A.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},A.prototype._boxProcessors.free=A.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},A.prototype._boxProcessors.ftyp=A.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var o=-1;this._parsing&&(o=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",o,"string",4)},A.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},A.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},A.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},A.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},A.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},A.prototype._boxProcessors.mp4a=A.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},A.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},A.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},A.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},A.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},A.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},A.prototype._boxProcessors.sdtp=function(){this._procFullBox();var o=-1;this._parsing&&(o=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",o,"uint",8)},A.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(o){this._parsing||(o.reference=(1&o.reference_type)<<31,o.reference|=2147483647&o.referenced_size,o.sap=(1&o.starts_with_SAP)<<31,o.sap|=(3&o.SAP_type)<<28,o.sap|=268435455&o.SAP_delta_time),this._procEntryField(o,"reference","uint",32),this._procEntryField(o,"subsegment_duration","uint",32),this._procEntryField(o,"sap","uint",32),this._parsing&&(o.reference_type=o.reference>>31&1,o.referenced_size=2147483647&o.reference,o.starts_with_SAP=o.sap>>31&1,o.SAP_type=o.sap>>28&7,o.SAP_delta_time=268435455&o.sap)})},A.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},A.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(o){this._procEntryField(o,"ranges_count","uint",32),this._procSubEntries(o,"ranges",o.ranges_count,function(i){this._procEntryField(i,"level","uint",8),this._procEntryField(i,"range_size","uint",24)})})},A.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},A.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_delta","uint",32)})},A.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_delta","uint",32),this._procEntryField(o,"subsample_count","uint",16),this._procSubEntries(o,"subsamples",o.subsample_count,function(i){this._procEntryField(i,"subsample_size","uint",this.version===1?32:16),this._procEntryField(i,"subsample_priority","uint",8),this._procEntryField(i,"discardable","uint",8),this._procEntryField(i,"codec_specific_parameters","uint",32)})})},A.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},A.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},A.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(o){this._procEntryField(o,"time","uint",this.version===1?64:32),this._procEntryField(o,"moof_offset","uint",this.version===1?64:32),this._procEntryField(o,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(o,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(o,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},A.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},A.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(o){256&this.flags&&this._procEntryField(o,"sample_duration","uint",32),512&this.flags&&this._procEntryField(o,"sample_size","uint",32),1024&this.flags&&this._procEntryField(o,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(o,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},A.prototype._boxProcessors["url "]=A.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},A.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},A.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},A.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},A.prototype._boxProcessors.vtte=function(){}},5530:function(U,Y,v){U.exports=v(6146).polyfill()},6146:function(U,Y,v){U.exports=function(){function j(He){return typeof He=="function"}var A=Array.isArray?Array.isArray:function(He){return Object.prototype.toString.call(He)==="[object Array]"},o=0,i=void 0,E=void 0,_=function(He,ot){I[o]=He,I[o+1]=ot,(o+=2)===2&&(E?E(Z):te())},f=typeof window<"u"?window:void 0,R=f||{},m=R.MutationObserver||R.WebKitMutationObserver,r=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",u=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function d(){var He=setTimeout;return function(){return He(Z,1)}}var I=new Array(1e3);function Z(){for(var He=0;He<o;He+=2)(0,I[He])(I[He+1]),I[He]=void 0,I[He+1]=void 0;o=0}var z,x,re,k,te=void 0;function ce(He,ot){var Se=this,we=new this.constructor(he);we[ue]===void 0&&Fe(we);var Ke=Se._state;if(Ke){var y=arguments[Ke-1];_(function(){return $e(Ke,we,y,Se._result)})}else Le(Se,we,He,ot);return we}function $(He){if(He&&typeof He=="object"&&He.constructor===this)return He;var ot=new this(he);return be(ot,He),ot}te=r?function(){return process.nextTick(Z)}:m?(x=0,re=new m(Z),k=document.createTextNode(""),re.observe(k,{characterData:!0}),function(){k.data=x=++x%2}):u?((z=new MessageChannel).port1.onmessage=Z,function(){return z.port2.postMessage(0)}):f===void 0?function(){try{var He=Function("return this")().require("vertx");return(i=He.runOnLoop||He.runOnContext)!==void 0?function(){i(Z)}:d()}catch{return d()}}():d();var ue=Math.random().toString(36).substring(2);function he(){}var Ce=void 0;function oe(He,ot,Se){ot.constructor===He.constructor&&Se===ce&&ot.constructor.resolve===$?function(we,Ke){Ke._state===1?Ne(we,Ke._result):Ke._state===2?me(we,Ke._result):Le(Ke,void 0,function(y){return be(we,y)},function(y){return me(we,y)})}(He,ot):Se===void 0?Ne(He,ot):j(Se)?function(we,Ke,y){_(function(p){var N=!1,C=function(ae,ne,Me,nt){try{ae.call(ne,Me,nt)}catch(je){return je}}(y,Ke,function(ae){N||(N=!0,Ke!==ae?be(p,ae):Ne(p,ae))},function(ae){N||(N=!0,me(p,ae))},p._label);!N&&C&&(N=!0,me(p,C))},we)}(He,ot,Se):Ne(He,ot)}function be(He,ot){if(He===ot)me(He,new TypeError("You cannot resolve a promise with itself"));else if(Ke=typeof(we=ot),we===null||Ke!=="object"&&Ke!=="function")Ne(He,ot);else{var Se=void 0;try{Se=ot.then}catch(y){return void me(He,y)}oe(He,ot,Se)}var we,Ke}function Pe(He){He._onerror&&He._onerror(He._result),qe(He)}function Ne(He,ot){He._state===Ce&&(He._result=ot,He._state=1,He._subscribers.length!==0&&_(qe,He))}function me(He,ot){He._state===Ce&&(He._state=2,He._result=ot,_(Pe,He))}function Le(He,ot,Se,we){var Ke=He._subscribers,y=Ke.length;He._onerror=null,Ke[y]=ot,Ke[y+1]=Se,Ke[y+2]=we,y===0&&He._state&&_(qe,He)}function qe(He){var ot=He._subscribers,Se=He._state;if(ot.length!==0){for(var we=void 0,Ke=void 0,y=He._result,p=0;p<ot.length;p+=3)we=ot[p],Ke=ot[p+Se],we?$e(Se,we,Ke,y):Ke(y);He._subscribers.length=0}}function $e(He,ot,Se,we){var Ke=j(Se),y=void 0,p=void 0,N=!0;if(Ke){try{y=Se(we)}catch(C){N=!1,p=C}if(ot===y)return void me(ot,new TypeError("A promises callback cannot return that same promise."))}else y=we;ot._state!==Ce||(Ke&&N?be(ot,y):N===!1?me(ot,p):He===1?Ne(ot,y):He===2&&me(ot,y))}var Re=0;function Fe(He){He[ue]=Re++,He._state=void 0,He._result=void 0,He._subscribers=[]}var Et=function(){function He(ot,Se){this._instanceConstructor=ot,this.promise=new ot(he),this.promise[ue]||Fe(this.promise),A(Se)?(this.length=Se.length,this._remaining=Se.length,this._result=new Array(this.length),this.length===0?Ne(this.promise,this._result):(this.length=this.length||0,this._enumerate(Se),this._remaining===0&&Ne(this.promise,this._result))):me(this.promise,new Error("Array Methods must be provided an Array"))}return He.prototype._enumerate=function(ot){for(var Se=0;this._state===Ce&&Se<ot.length;Se++)this._eachEntry(ot[Se],Se)},He.prototype._eachEntry=function(ot,Se){var we=this._instanceConstructor,Ke=we.resolve;if(Ke===$){var y=void 0,p=void 0,N=!1;try{y=ot.then}catch(ae){N=!0,p=ae}if(y===ce&&ot._state!==Ce)this._settledAt(ot._state,Se,ot._result);else if(typeof y!="function")this._remaining--,this._result[Se]=ot;else if(we===gt){var C=new we(he);N?me(C,p):oe(C,ot,y),this._willSettleAt(C,Se)}else this._willSettleAt(new we(function(ae){return ae(ot)}),Se)}else this._willSettleAt(Ke(ot),Se)},He.prototype._settledAt=function(ot,Se,we){var Ke=this.promise;Ke._state===Ce&&(this._remaining--,ot===2?me(Ke,we):this._result[Se]=we),this._remaining===0&&Ne(Ke,this._result)},He.prototype._willSettleAt=function(ot,Se){var we=this;Le(ot,void 0,function(Ke){return we._settledAt(1,Se,Ke)},function(Ke){return we._settledAt(2,Se,Ke)})},He}(),gt=function(){function He(ot){this[ue]=Re++,this._result=this._state=void 0,this._subscribers=[],he!==ot&&(typeof ot!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof He?function(Se,we){try{we(function(Ke){be(Se,Ke)},function(Ke){me(Se,Ke)})}catch(Ke){me(Se,Ke)}}(this,ot):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return He.prototype.catch=function(ot){return this.then(null,ot)},He.prototype.finally=function(ot){var Se=this,we=Se.constructor;return j(ot)?Se.then(function(Ke){return we.resolve(ot()).then(function(){return Ke})},function(Ke){return we.resolve(ot()).then(function(){throw Ke})}):Se.then(ot,ot)},He}();return gt.prototype.then=ce,gt.all=function(He){return new Et(this,He).promise},gt.race=function(He){var ot=this;return A(He)?new ot(function(Se,we){for(var Ke=He.length,y=0;y<Ke;y++)ot.resolve(He[y]).then(Se,we)}):new ot(function(Se,we){return we(new TypeError("You must pass an array to race."))})},gt.resolve=$,gt.reject=function(He){var ot=new this(he);return me(ot,He),ot},gt._setScheduler=function(He){E=He},gt._setAsap=function(He){_=He},gt._asap=_,gt.polyfill=function(){var He=void 0;if(v.g!==void 0)He=v.g;else if(typeof self<"u")He=self;else try{He=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ot=He.Promise;if(ot){var Se=null;try{Se=Object.prototype.toString.call(ot.resolve())}catch{}if(Se==="[object Promise]"&&!ot.cast)return}He.Promise=gt},gt.Promise=gt,gt}()},1159:function(U){var Y,v=typeof Reflect=="object"?Reflect:null,j=v&&typeof v.apply=="function"?v.apply:function(Z,z,x){return Function.prototype.apply.call(Z,z,x)};Y=v&&typeof v.ownKeys=="function"?v.ownKeys:Object.getOwnPropertySymbols?function(Z){return Object.getOwnPropertyNames(Z).concat(Object.getOwnPropertySymbols(Z))}:function(Z){return Object.getOwnPropertyNames(Z)};var A=Number.isNaN||function(Z){return Z!=Z};function o(){o.init.call(this)}U.exports=o,U.exports.once=function(Z,z){return new Promise(function(x,re){function k(ce){Z.removeListener(z,te),re(ce)}function te(){typeof Z.removeListener=="function"&&Z.removeListener("error",k),x([].slice.call(arguments))}I(Z,z,te,{once:!0}),z!=="error"&&function(ce,$,ue){typeof ce.on=="function"&&I(ce,"error",$,{once:!0})}(Z,k)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function E(Z){if(typeof Z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Z)}function _(Z){return Z._maxListeners===void 0?o.defaultMaxListeners:Z._maxListeners}function f(Z,z,x,re){var k,te,ce,$;if(E(x),(te=Z._events)===void 0?(te=Z._events=Object.create(null),Z._eventsCount=0):(te.newListener!==void 0&&(Z.emit("newListener",z,x.listener?x.listener:x),te=Z._events),ce=te[z]),ce===void 0)ce=te[z]=x,++Z._eventsCount;else if(typeof ce=="function"?ce=te[z]=re?[x,ce]:[ce,x]:re?ce.unshift(x):ce.push(x),(k=_(Z))>0&&ce.length>k&&!ce.warned){ce.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+ce.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=Z,ue.type=z,ue.count=ce.length,$=ue,console&&console.warn&&console.warn($)}return Z}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(Z,z,x){var re={fired:!1,wrapFn:void 0,target:Z,type:z,listener:x},k=R.bind(re);return k.listener=x,re.wrapFn=k,k}function r(Z,z,x){var re=Z._events;if(re===void 0)return[];var k=re[z];return k===void 0?[]:typeof k=="function"?x?[k.listener||k]:[k]:x?function(te){for(var ce=new Array(te.length),$=0;$<ce.length;++$)ce[$]=te[$].listener||te[$];return ce}(k):d(k,k.length)}function u(Z){var z=this._events;if(z!==void 0){var x=z[Z];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function d(Z,z){for(var x=new Array(z),re=0;re<z;++re)x[re]=Z[re];return x}function I(Z,z,x,re){if(typeof Z.on=="function")re.once?Z.once(z,x):Z.on(z,x);else{if(typeof Z.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Z);Z.addEventListener(z,function k(te){re.once&&Z.removeEventListener(z,k),x(te)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(Z){if(typeof Z!="number"||Z<0||A(Z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Z+".");i=Z}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||A(Z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Z+".");return this._maxListeners=Z,this},o.prototype.getMaxListeners=function(){return _(this)},o.prototype.emit=function(Z){for(var z=[],x=1;x<arguments.length;x++)z.push(arguments[x]);var re=Z==="error",k=this._events;if(k!==void 0)re=re&&k.error===void 0;else if(!re)return!1;if(re){var te;if(z.length>0&&(te=z[0]),te instanceof Error)throw te;var ce=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw ce.context=te,ce}var $=k[Z];if($===void 0)return!1;if(typeof $=="function")j($,this,z);else{var ue=$.length,he=d($,ue);for(x=0;x<ue;++x)j(he[x],this,z)}return!0},o.prototype.addListener=function(Z,z){return f(this,Z,z,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(Z,z){return f(this,Z,z,!0)},o.prototype.once=function(Z,z){return E(z),this.on(Z,m(this,Z,z)),this},o.prototype.prependOnceListener=function(Z,z){return E(z),this.prependListener(Z,m(this,Z,z)),this},o.prototype.removeListener=function(Z,z){var x,re,k,te,ce;if(E(z),(re=this._events)===void 0)return this;if((x=re[Z])===void 0)return this;if(x===z||x.listener===z)--this._eventsCount==0?this._events=Object.create(null):(delete re[Z],re.removeListener&&this.emit("removeListener",Z,x.listener||z));else if(typeof x!="function"){for(k=-1,te=x.length-1;te>=0;te--)if(x[te]===z||x[te].listener===z){ce=x[te].listener,k=te;break}if(k<0)return this;k===0?x.shift():function($,ue){for(;ue+1<$.length;ue++)$[ue]=$[ue+1];$.pop()}(x,k),x.length===1&&(re[Z]=x[0]),re.removeListener!==void 0&&this.emit("removeListener",Z,ce||z)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(Z){var z,x,re;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[Z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[Z]),this;if(arguments.length===0){var k,te=Object.keys(x);for(re=0;re<te.length;++re)(k=te[re])!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(z=x[Z])=="function")this.removeListener(Z,z);else if(z!==void 0)for(re=z.length-1;re>=0;re--)this.removeListener(Z,z[re]);return this},o.prototype.listeners=function(Z){return r(this,Z,!0)},o.prototype.rawListeners=function(Z){return r(this,Z,!1)},o.listenerCount=function(Z,z){return typeof Z.listenerCount=="function"?Z.listenerCount(z):u.call(Z,z)},o.prototype.listenerCount=u,o.prototype.eventNames=function(){return this._eventsCount>0?Y(this._events):[]}},3101:function(U){var Y=Array.isArray,v=Object.keys,j=Object.prototype.hasOwnProperty;U.exports=function A(o,i){if(o===i)return!0;if(o&&i&&typeof o=="object"&&typeof i=="object"){var E,_,f,R=Y(o),m=Y(i);if(R&&m){if((_=o.length)!=i.length)return!1;for(E=_;E--!=0;)if(!A(o[E],i[E]))return!1;return!0}if(R!=m)return!1;var r=o instanceof Date,u=i instanceof Date;if(r!=u)return!1;if(r&&u)return o.getTime()==i.getTime();var d=o instanceof RegExp,I=i instanceof RegExp;if(d!=I)return!1;if(d&&I)return o.toString()==i.toString();var Z=v(o);if((_=Z.length)!==v(i).length)return!1;for(E=_;E--!=0;)if(!j.call(i,Z[E]))return!1;for(E=_;E--!=0;)if(!A(o[f=Z[E]],i[f]))return!1;return!0}return o!=o&&i!=i}},3362:function(U,Y,v){(function(j,A,o,i,E){function _(p){if("contents"in p)for(var N=("styleAttrs"in p)?p.styleAttrs[i.byName.ruby.qname]:null,C=p.kind==="span"&&(N==="container"||N==="textContainer"||N==="baseContainer"),ae=p.contents.length-1;ae>=0;ae--)!C||"styleAttrs"in p.contents[ae]&&i.byName.ruby.qname in p.contents[ae].styleAttrs?_(p.contents[ae]):delete p.contents[ae]}function f(p,N,C,ae){var ne=ae&&ae.timeContainer==="seq",Me=0;ae&&(Me=ne&&C?C.end:ae.begin),N.begin=N.explicit_begin?N.explicit_begin+Me:Me;var nt=N.begin,je=null;if("sets"in N)for(var Ge=0;Ge<N.sets.length;Ge++)f(p,N.sets[Ge],je,N),nt=N.timeContainer==="seq"?N.sets[Ge].end:Math.max(nt,N.sets[Ge].end),je=N.sets[Ge];if("contents"in N){if("contents"in N)for(var xe=0;xe<N.contents.length;xe++)f(p,N.contents[xe],je,N),nt=N.timeContainer==="seq"?N.contents[xe].end:Math.max(nt,N.contents[xe].end),je=N.contents[xe]}else nt=ne?N.begin:Number.POSITIVE_INFINITY;N.explicit_end!==null&&N.explicit_dur!==null?N.end=Math.min(N.begin+N.explicit_dur,Me+N.explicit_end):N.explicit_end===null&&N.explicit_dur!==null?N.end=N.begin+N.explicit_dur:N.explicit_end!==null&&N.explicit_dur===null?N.end=Me+N.explicit_end:N.end=nt,delete N.explicit_begin,delete N.explicit_dur,delete N.explicit_end,p._registerEvent(N)}function R(p){this.node=p}function m(){this.events=[],this.head=new r,this.body=null}function r(){this.styling=new u,this.layout=new Z}function u(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function I(){this.styleAttrs=null}function Z(){this.regions={}}function z(p,N){x.call(this,"image"),this.src=p,this.type=N}function x(p){this.kind=p}function re(p){this.id=p}function k(p){this.regionID=p}function te(p){this.styleAttrs=p}function ce(p){this.sets=p}function $(p){this.contents=p}function ue(p,N,C){this.explicit_begin=p,this.explicit_end=N,this.explicit_dur=C}function he(){x.call(this,"body")}function Ce(){x.call(this,"div")}function oe(){x.call(this,"p")}function be(){x.call(this,"span")}function Pe(){x.call(this,"span")}function Ne(){x.call(this,"br")}function me(){}function Le(){}function qe(p){return p&&"xml:id"in p.attributes&&p.attributes["xml:id"].value||null}function $e(p){return p&&"style"in p.attributes?p.attributes.style.value.split(" "):[]}function Re(p,N){var C={};if(p!==null)for(var ae in p.attributes){var ne=p.attributes[ae].uri+" "+p.attributes[ae].local,Me=i.byQName[ne];if(Me!==void 0){var nt=Me.parse(p.attributes[ae].value);nt!==null?(C[ne]=nt,Me===i.byName.zIndex&&Se(N,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):we(N,"Cannot parse styling attribute "+ne+" --> "+p.attributes[ae].value)}}return C}function Fe(p,N,C){for(var ae in p.attributes)if(p.attributes[ae].uri===N&&p.attributes[ae].local===C)return p.attributes[ae].value;return null}function Et(p,N,C){var ae,ne=null;return(ae=/^(\d+(?:\.\d+)?)f$/.exec(C))!==null?N!==null&&(ne=parseFloat(ae[1])/N):(ae=/^(\d+(?:\.\d+)?)t$/.exec(C))!==null?p!==null&&(ne=parseFloat(ae[1])/p):(ae=/^(\d+(?:\.\d+)?)ms$/.exec(C))!==null?ne=parseFloat(ae[1])/1e3:(ae=/^(\d+(?:\.\d+)?)s$/.exec(C))!==null?ne=parseFloat(ae[1]):(ae=/^(\d+(?:\.\d+)?)h$/.exec(C))!==null?ne=3600*parseFloat(ae[1]):(ae=/^(\d+(?:\.\d+)?)m$/.exec(C))!==null?ne=60*parseFloat(ae[1]):(ae=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(C))!==null?ne=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseFloat(ae[3]):(ae=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(C))!==null&&N!==null&&(ne=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseInt(ae[3])+(ae[4]===null?0:parseInt(ae[4])/N)),ne}function gt(p,N,C){for(;N.styleRefs.length>0;){var ae=N.styleRefs.pop();ae in p.styles?(gt(p,p.styles[ae],C),ot(p.styles[ae].styleAttrs,N.styleAttrs)):we(C,"Non-existant style id referenced")}}function He(p,N,C,ae){for(var ne=N.length-1;ne>=0;ne--){var Me=N[ne];Me in p.styles?ot(p.styles[Me].styleAttrs,C):we(ae,"Non-existant style id referenced")}}function ot(p,N){for(var C in p)p.hasOwnProperty(C)&&(C in N||(N[C]=p[C]))}function Se(p,N){if(p&&p.warn&&p.warn(N))throw N}function we(p,N){if(p&&p.error&&p.error(N))throw N}function Ke(p,N){throw p&&p.fatal&&p.fatal(N),N}function y(p,N){for(var C,ae=0,ne=p.length-1;ae<=ne;){var Me=p[C=Math.floor((ae+ne)/2)];if(Me<N)ae=C+1;else{if(!(Me>N))return{found:!0,index:C};ne=C-1}}return{found:!1,index:ae}}j.fromXML=function(p,N,C){var ae=A.parser(!0,{xmlns:!0}),ne=[],Me=[],nt=[],je=0,Ge=null;ae.onclosetag=function(ft){if(ne[0]instanceof me)Ge.head!==null&&Ge.head.styling!==null&&He(Ge.head.styling,ne[0].styleRefs,ne[0].styleAttrs,N),delete ne[0].styleRefs;else if(ne[0]instanceof u)for(var Yt in ne[0].styles)ne[0].styles.hasOwnProperty(Yt)&&gt(ne[0],ne[0].styles[Yt],N);else if(ne[0]instanceof oe||ne[0]instanceof be){if(ne[0].contents.length>1){var Ot,Gt=[ne[0].contents[0]];for(Ot=1;Ot<ne[0].contents.length;Ot++)ne[0].contents[Ot]instanceof Pe&&Gt[Gt.length-1]instanceof Pe?Gt[Gt.length-1].text+=ne[0].contents[Ot].text:Gt.push(ne[0].contents[Ot]);ne[0].contents=Gt}ne[0]instanceof be&&ne[0].contents.length===1&&ne[0].contents[0]instanceof Pe&&(ne[0].text=ne[0].contents[0].text,delete ne[0].contents)}else ne[0]instanceof R&&(ne[0].node.uri===o.ns_tt&&ne[0].node.local==="metadata"?je--:je>0&&C&&"onCloseTag"in C&&C.onCloseTag());nt.shift(),Me.shift(),ne.shift()},ae.ontext=function(ft){if(ne[0]!==void 0)if(ne[0]instanceof be||ne[0]instanceof oe){if(ne[0]instanceof be){var Yt=ne[0].styleAttrs[i.byName.ruby.qname];if(Yt==="container"||Yt==="textContainer"||Yt==="baseContainer")return}var Ot=new Pe;Ot.initFromText(Ge,ne[0],ft,Me[0],nt[0],N),ne[0].contents.push(Ot)}else ne[0]instanceof R&&je>0&&C&&"onText"in C&&C.onText(ft)},ae.onopentag=function(ft){var Yt=ft.attributes["xml:space"];Yt?nt.unshift(Yt.value):nt.length===0?nt.unshift("default"):nt.unshift(nt[0]);var Ot=ft.attributes["xml:lang"];if(Ot?Me.unshift(Ot.value):Me.length===0?Me.unshift(""):Me.unshift(Me[0]),ft.uri===o.ns_tt)if(ft.local==="tt")Ge!==null&&Ke(N,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ge=new m).initFromNode(ft,Me[0],N),ne.unshift(Ge);else if(ft.local==="head")ne[0]instanceof m||Ke(N,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ne.unshift(Ge.head);else if(ft.local==="styling")ne[0]instanceof r||Ke(N,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ne.unshift(Ge.head.styling);else if(ft.local==="style"){var Gt;ne[0]instanceof u?((Gt=new d).initFromNode(ft,N),Gt.id?Ge.head.styling.styles[Gt.id]=Gt:we(N,"<style> element missing @id attribute"),ne.unshift(Gt)):ne[0]instanceof me?((Gt=new d).initFromNode(ft,N),ot(Gt.styleAttrs,ne[0].styleAttrs),ne.unshift(Gt)):Ke(N,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(ft.local==="initial"){var Zt;if(ne[0]instanceof u){for(var fn in(Zt=new I).initFromNode(ft,N),Zt.styleAttrs)Zt.styleAttrs.hasOwnProperty(fn)&&(Ge.head.styling.initials[fn]=Zt.styleAttrs[fn]);ne.unshift(Zt)}else Ke(N,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(ft.local==="layout")ne[0]instanceof r||Ke(N,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ne.unshift(Ge.head.layout);else if(ft.local==="region"){ne[0]instanceof Z||Ke(N,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Sn=new me;Sn.initFromNode(Ge,ft,Me[0],N),!Sn.id||Sn.id in Ge.head.layout.regions?we(N,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ge.head.layout.regions[Sn.id]=Sn,ne.unshift(Sn)}else if(ft.local==="body"){ne[0]instanceof m||Ke(N,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Ge.body!==null&&Ke(N,"Second <body> element at "+this.line+","+this.column+")");var kn=new he;kn.initFromNode(Ge,ft,Me[0],N),Ge.body=kn,ne.unshift(kn)}else if(ft.local==="div"){ne[0]instanceof Ce||ne[0]instanceof he||Ke(N,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Mn=new Ce;Mn.initFromNode(Ge,ne[0],ft,Me[0],N);var Un=Mn.styleAttrs[i.byName.backgroundImage.qname];Un&&(Mn.contents.push(new z(Un)),delete Mn.styleAttrs[i.byName.backgroundImage.qname]),ne[0].contents.push(Mn),ne.unshift(Mn)}else if(ft.local==="image"){ne[0]instanceof Ce||Ke(N,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var cr=new z;cr.initFromNode(Ge,ne[0],ft,Me[0],N),ne[0].contents.push(cr),ne.unshift(cr)}else if(ft.local==="p"){ne[0]instanceof Ce||Ke(N,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Nn=new oe;Nn.initFromNode(Ge,ne[0],ft,Me[0],N),ne[0].contents.push(Nn),ne.unshift(Nn)}else if(ft.local==="span"){ne[0]instanceof be||ne[0]instanceof oe||Ke(N,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Dr=new be;Dr.initFromNode(Ge,ne[0],ft,Me[0],nt[0],N),ne[0].contents.push(Dr),ne.unshift(Dr)}else if(ft.local==="br"){ne[0]instanceof be||ne[0]instanceof oe||Ke(N,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var tr=new Ne;tr.initFromNode(Ge,ne[0],ft,Me[0],N),ne[0].contents.push(tr),ne.unshift(tr)}else if(ft.local==="set"){ne[0]instanceof be||ne[0]instanceof oe||ne[0]instanceof Ce||ne[0]instanceof he||ne[0]instanceof me||ne[0]instanceof Ne||Ke(N,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vr=new Le;vr.initFromNode(Ge,ne[0],ft,N),ne[0].sets.push(vr),ne.unshift(vr)}else ne.unshift(new R(ft));else ne.unshift(new R(ft));if(ne[0]instanceof R){if(ft.uri===o.ns_tt&&ft.local==="metadata")je++;else if(je>0&&C&&"onOpenTag"in C){var jr=[];for(var Er in ft.attributes)jr[ft.attributes[Er].uri+" "+ft.attributes[Er].local]={uri:ft.attributes[Er].uri,local:ft.attributes[Er].local,value:ft.attributes[Er].value};C.onOpenTag(ft.uri,ft.local,jr)}}},ae.write(p).close(),delete Ge.head.styling.styles;var xe=!1;for(var Ye in Ge.head.layout.regions)if(Ge.head.layout.regions.hasOwnProperty(Ye)){xe=!0;break}if(!xe){var at=me.prototype.createDefaultRegion(Ge.lang);Ge.head.layout.regions[at.id]=at}for(var St in Ge.head.layout.regions)Ge.head.layout.regions.hasOwnProperty(St)&&f(Ge,Ge.head.layout.regions[St],null,null);return Ge.body&&f(Ge,Ge.body,null,null),Ge.body&&_(Ge.body),Ge},m.prototype.initFromNode=function(p,N,C){var ae=function(je,Ge){var xe=Fe(je,o.ns_ttp,"cellResolution"),Ye=15,at=32;if(xe!==null){var St=/(\d+) (\d+)/.exec(xe);St!==null?(at=parseInt(St[1]),Ye=parseInt(St[2])):Se(Ge,"Malformed cellResolution value (using initial value instead)")}return{w:at,h:Ye}}(p,C);this.cellLength={h:new E.ComputedLength(0,1/ae.h),w:new E.ComputedLength(1/ae.w,0)};var ne=function(je,Ge){var xe,Ye=Fe(je,o.ns_ttp,"frameRate"),at=30;Ye!==null&&((xe=/(\d+)/.exec(Ye))!==null?at=parseInt(xe[1]):Se(Ge,"Malformed frame rate attribute (using initial value instead)"));var St=Fe(je,o.ns_ttp,"frameRateMultiplier"),ft=1;St!==null&&((xe=/(\d+) (\d+)/.exec(St))!==null?ft=parseInt(xe[1])/parseInt(xe[2]):Se(Ge,"Malformed frame rate multiplier attribute (using initial value instead)"));var Yt=ft*at,Ot=1,Gt=Fe(je,o.ns_ttp,"tickRate");return Gt===null?Ye!==null&&(Ot=Yt):(xe=/(\d+)/.exec(Gt))!==null?Ot=parseInt(xe[1]):Se(Ge,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Yt,tickRate:Ot}}(p,C);this.effectiveFrameRate=ne.effectiveFrameRate,this.tickRate=ne.tickRate,this.aspectRatio=function(je,Ge){var xe=Fe(je,o.ns_ittp,"aspectRatio");xe===null&&(xe=Fe(je,o.ns_ttp,"displayAspectRatio"));var Ye=null;if(xe!==null){var at=/(\d+)\s+(\d+)/.exec(xe);if(at!==null){var St=parseInt(at[1]),ft=parseInt(at[2]);St!==0&&ft!==0?Ye=St/ft:we(Ge,"Illegal aspectRatio values (ignoring)")}else we(Ge,"Malformed aspectRatio attribute (ignoring)")}return Ye}(p,C);var Me=Fe(p,o.ns_ttp,"timeBase");Me!==null&&Me!=="media"&&Ke(C,"Unsupported time base");var nt=function(je,Ge){var xe=Fe(je,o.ns_tts,"extent");if(xe===null)return null;var Ye=xe.split(" ");if(Ye.length!==2)return Se(Ge,"Malformed extent (ignoring)"),null;var at=E.parseLength(Ye[0]),St=E.parseLength(Ye[1]);return St&&at?{h:St,w:at}:(Se(Ge,"Malformed extent values (ignoring)"),null)}(p,C);nt===null?this.pxLength={h:null,w:null}:(nt.h.unit==="px"&&nt.w.unit==="px"||Ke(C,"Extent on TT must be in px or absent"),this.pxLength={h:new E.ComputedLength(0,1/nt.h.value),w:new E.ComputedLength(1/nt.w.value,0)}),this.dimensions={h:new E.ComputedLength(0,1),w:new E.ComputedLength(1,0)},this.lang=N},m.prototype._registerEvent=function(p){if(!(p.end<=p.begin)){var N=y(this.events,p.begin);if(N.found||this.events.splice(N.index,0,p.begin),p.end!==Number.POSITIVE_INFINITY){var C=y(this.events,p.end);C.found||this.events.splice(C.index,0,p.end)}}},m.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},m.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(p,N){this.id=qe(p),this.styleAttrs=Re(p,N),this.styleRefs=$e(p)},I.prototype.initFromNode=function(p,N){for(var C in this.styleAttrs={},p.attributes)if(p.attributes[C].uri===o.ns_itts||p.attributes[C].uri===o.ns_ebutts||p.attributes[C].uri===o.ns_tts){var ae=p.attributes[C].uri+" "+p.attributes[C].local;this.styleAttrs[ae]=p.attributes[C].value}},z.prototype.initFromNode=function(p,N,C,ae,ne){this.src="src"in C.attributes?C.attributes.src.value:null,this.src||we(ne,"Invalid image@src attribute"),this.type="type"in C.attributes?C.attributes.type.value:null,this.type||we(ne,"Invalid image@type attribute"),te.prototype.initFromNode.call(this,p,N,C,ne),ue.prototype.initFromNode.call(this,p,N,C,ne),ce.prototype.initFromNode.call(this,p,N,C,ne),k.prototype.initFromNode.call(this,p,N,C,ne),this.lang=ae},re.prototype.initFromNode=function(p,N,C,ae){this.id=qe(C)},k.prototype.initFromNode=function(p,N,C,ae){this.regionID=function(ne){return ne&&"region"in ne.attributes?ne.attributes.region.value:""}(C)},te.prototype.initFromNode=function(p,N,C,ae){this.styleAttrs=Re(C,ae),p.head!==null&&p.head.styling!==null&&He(p.head.styling,$e(C),this.styleAttrs,ae)},ce.prototype.initFromNode=function(p,N,C,ae){this.sets=[]},$.prototype.initFromNode=function(p,N,C,ae){this.contents=[]},ue.prototype.initFromNode=function(p,N,C,ae){var ne=function(Me,nt,je,Ge){var xe=null;je&&"begin"in je.attributes&&(xe=Et(Me.tickRate,Me.effectiveFrameRate,je.attributes.begin.value))===null&&Se(Ge,"Malformed begin value "+je.attributes.begin.value+" (using 0)");var Ye=null;je&&"dur"in je.attributes&&(Ye=Et(Me.tickRate,Me.effectiveFrameRate,je.attributes.dur.value))===null&&Se(Ge,"Malformed dur value "+je.attributes.dur.value+" (ignoring)");var at=null;return je&&"end"in je.attributes&&(at=Et(Me.tickRate,Me.effectiveFrameRate,je.attributes.end.value))===null&&Se(Ge,"Malformed end value (ignoring)"),{explicit_begin:xe,explicit_end:at,explicit_dur:Ye}}(p,0,C,ae);this.explicit_begin=ne.explicit_begin,this.explicit_end=ne.explicit_end,this.explicit_dur=ne.explicit_dur,this.timeContainer=function(Me,nt){var je=Me&&"timeContainer"in Me.attributes?Me.attributes.timeContainer.value:null;return je&&je!=="par"?je==="seq"?"seq":(we(nt,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(C,ae)},he.prototype.initFromNode=function(p,N,C,ae){te.prototype.initFromNode.call(this,p,null,N,ae),ue.prototype.initFromNode.call(this,p,null,N,ae),ce.prototype.initFromNode.call(this,p,null,N,ae),k.prototype.initFromNode.call(this,p,null,N,ae),$.prototype.initFromNode.call(this,p,null,N,ae),this.lang=C},Ce.prototype.initFromNode=function(p,N,C,ae,ne){te.prototype.initFromNode.call(this,p,N,C,ne),ue.prototype.initFromNode.call(this,p,N,C,ne),ce.prototype.initFromNode.call(this,p,N,C,ne),k.prototype.initFromNode.call(this,p,N,C,ne),$.prototype.initFromNode.call(this,p,N,C,ne),this.lang=ae},oe.prototype.initFromNode=function(p,N,C,ae,ne){te.prototype.initFromNode.call(this,p,N,C,ne),ue.prototype.initFromNode.call(this,p,N,C,ne),ce.prototype.initFromNode.call(this,p,N,C,ne),k.prototype.initFromNode.call(this,p,N,C,ne),$.prototype.initFromNode.call(this,p,N,C,ne),this.lang=ae},be.prototype.initFromNode=function(p,N,C,ae,ne,Me){te.prototype.initFromNode.call(this,p,N,C,Me),ue.prototype.initFromNode.call(this,p,N,C,Me),ce.prototype.initFromNode.call(this,p,N,C,Me),k.prototype.initFromNode.call(this,p,N,C,Me),$.prototype.initFromNode.call(this,p,N,C,Me),this.space=ne,this.lang=ae},Pe.prototype.initFromText=function(p,N,C,ae,ne,Me){ue.prototype.initFromNode.call(this,p,N,null,Me),this.text=C,this.space=ne,this.lang=ae},Ne.prototype.initFromNode=function(p,N,C,ae,ne){k.prototype.initFromNode.call(this,p,N,C,ne),ue.prototype.initFromNode.call(this,p,N,C,ne),this.lang=ae},me.prototype.createDefaultRegion=function(p){var N=new me;return re.call(N,""),te.call(N,{}),ce.call(N,[]),ue.call(N,0,Number.POSITIVE_INFINITY,null),this.lang=p,N},me.prototype.initFromNode=function(p,N,C,ae){re.prototype.initFromNode.call(this,p,null,N,ae),ue.prototype.initFromNode.call(this,p,null,N,ae),ce.prototype.initFromNode.call(this,p,null,N,ae),this.styleAttrs=Re(N,ae),this.styleRefs=$e(N),this.lang=C},Le.prototype.initFromNode=function(p,N,C,ae){ue.prototype.initFromNode.call(this,p,N,C,ae);var ne=Re(C,ae);for(var Me in this.qname=null,this.value=null,ne)if(ne.hasOwnProperty(Me)){if(this.qname){we(ae,"More than one style specified on set");break}this.qname=Me,this.value=ne[Me]}}})(Y,typeof sax>"u"?v(5378):sax,typeof imscNames>"u"?v(210):imscNames,typeof imscStyles>"u"?v(6811):imscStyles,typeof imscUtils>"u"?v(5926):imscUtils)},506:function(U,Y,v){var j=/firefox/i.test(navigator.userAgent);(function(A,o,i){function E($,ue,he,Ce){var oe;if(he.kind==="region")(oe=document.createElement("div")).style.position="absolute";else if(he.kind==="body")oe=document.createElement("div");else if(he.kind==="div")oe=document.createElement("div");else if(he.kind==="image"){if(oe=document.createElement("img"),$.imgResolver!==null&&he.src!==null){var be=$.imgResolver(he.src,oe);be&&(oe.src=be),oe.height=$.regionH,oe.width=$.regionW}}else if(he.kind==="p")oe=document.createElement("p");else if(he.kind==="span")if(he.styleAttrs[i.byName.ruby.qname]==="container")oe=document.createElement("ruby"),$.ruby=!0;else if(he.styleAttrs[i.byName.ruby.qname]==="base")oe=document.createElement("span");else if(he.styleAttrs[i.byName.ruby.qname]==="text")oe=document.createElement("rt");else if(he.styleAttrs[i.byName.ruby.qname]==="baseContainer")oe=document.createElement("rbc");else if(he.styleAttrs[i.byName.ruby.qname]==="textContainer")oe=document.createElement("rtc");else{if(he.styleAttrs[i.byName.ruby.qname]==="delimiter")return;oe=document.createElement("span")}else he.kind==="br"&&(oe=document.createElement("br"));if(oe){if(he.lang&&(he.kind!=="region"&&he.lang===Ce.lang||(oe.lang=he.lang)),ue.appendChild(oe),oe.style.margin="0",he.kind==="region"){var Pe=he.styleAttrs[i.byName.writingMode.qname];Pe==="lrtb"||Pe==="lr"?($.ipd="lr",$.bpd="tb"):Pe==="rltb"||Pe==="rl"?($.ipd="rl",$.bpd="tb"):Pe==="tblr"?($.ipd="tb",$.bpd="lr"):Pe!=="tbrl"&&Pe!=="tb"||($.ipd="tb",$.bpd="rl")}else if(he.kind==="p"&&$.bpd==="tb"){var Ne=he.styleAttrs[i.byName.direction.qname];$.ipd=Ne==="ltr"?"lr":"rl"}for(var me=0;me<I.length;me++){var Le=I[me],qe=he.styleAttrs[Le.qname];qe!==void 0&&Le.map!==null&&Le.map($,oe,he,qe)}var $e=oe,Re=he.styleAttrs[i.byName.linePadding.qname];if(Re&&!Re.isZero()){var Fe=Re.toUsedLength($.w,$.h);if(Fe>0){var Et=Math.ceil(Fe)+"px";$.bpd==="tb"?($e.style.paddingLeft=Et,$e.style.paddingRight=Et):($e.style.paddingTop=Et,$e.style.paddingBottom=Et),$.lp=Re}}var gt=he.styleAttrs[i.byName.multiRowAlign.qname];if(gt&&gt!=="auto"){var He=document.createElement("span");He.style.display="inline-block",He.style.textAlign=gt,oe.appendChild(He),$e=He,$.mra=gt}var ot=he.styleAttrs[i.byName.rubyReserve.qname];if(ot&&ot[0]!=="none"&&($.rubyReserve=ot),he.styleAttrs[i.byName.fillLineGap.qname]&&($.flg=!0),he.kind==="span"&&he.text){var Se=he.styleAttrs[i.byName.textEmphasis.qname];if(Se&&Se.style!=="none"&&($.textEmphasis=!0),i.byName.textCombine.qname in he.styleAttrs&&he.styleAttrs[i.byName.textCombine.qname]==="all")oe.textContent=he.text,oe._isd_element=he,Se&&u($,oe,0,Se);else for(var we="",Ke=0;Ke<he.text.length;Ke++){we+=he.text.charAt(Ke);var y=he.text.charCodeAt(Ke);if(y<55296||y>56319||Ke===he.text.length-1){var p=document.createElement("span");p.textContent=we,Se&&u($,p,0,Se),oe.appendChild(p),we="",p._isd_element=he}}}if("contents"in he)for(var N=0;N<he.contents.length;N++)E($,$e,he.contents[N],he);var C=[];if(he.kind==="p"&&(r($,$e,C,null),$.rubyReserve&&(function(je,Ge){for(var xe=0;xe<je.length;xe++){var Ye,at,St=document.createElement("ruby"),ft=document.createElement("span");ft.textContent="​",St.appendChild(ft);var Yt,Ot=Ge.rubyReserve[1].toUsedLength(Ge.w,Ge.h)+"px";Ge.rubyReserve[0]==="both"||Ge.rubyReserve[0]==="outside"&&je.length==1?((Ye=document.createElement("rtc")).style[re]=x?"after":"under",Ye.textContent="​",Ye.style.fontSize=Ot,(at=document.createElement("rtc")).style[re]=x?"before":"over",at.textContent="​",at.style.fontSize=Ot,St.appendChild(Ye),St.appendChild(at)):((Ye=document.createElement("rtc")).textContent="​",Ye.style.fontSize=Ot,Yt=Ge.rubyReserve[0]==="after"||Ge.rubyReserve[0]==="outside"&&xe>0?x?"after":Ge.bpd==="tb"||Ge.bpd==="rl"?"under":"over":x?"before":Ge.bpd==="tb"||Ge.bpd==="rl"?"over":"under",Ye.style[re]=Yt,St.appendChild(Ye));for(var Gt=null,Zt=0;Zt<je[xe].rbc.length;Zt++)if(je[xe].rbc[Zt].localName==="ruby"){Gt=je[xe].rbc[Zt];for(var fn=0;fn<Gt.style.length;fn++)St.style.setProperty(Gt.style.item(fn),Gt.style.getPropertyValue(Gt.style.item(fn)));break}(Gt=Gt||je[xe].elements[0].node).parentElement.insertBefore(St,Gt)}}(C,$),$.rubyReserve=null),($.ruby||$.rubyReserve)&&(function(je,Ge){for(var xe=0;xe<je.length;xe++)for(var Ye=0;Ye<je[xe].rbc.length;Ye++){var at;je[xe].rbc[Ye].style[re]||(at=x?xe===0?"before":"after":Ge.bpd==="tb"||Ge.bpd==="rl"?xe===0?"over":"under":xe===0?"under":"over",je[xe].rbc[Ye].style[re]=at)}}(C,$),$.ruby=null),$.textEmphasis&&(function(je,Ge){for(var xe=0;xe<je.length;xe++)for(var Ye=0;Ye<je[xe].te.length;Ye++){var at;je[xe].te[Ye].style[te]&&je[xe].te[Ye].style[te]!=="none"||(at=Ge.bpd==="tb"?xe===0?"left over":"left under":Ge.bpd==="rl"?xe===0?"right under":"left under":xe===0?"left under":"right under",je[xe].te[Ye].style[te]=at)}}(C,$),$.textEmphasis=null),$.mra&&(function(je){for(var Ge=0;Ge<je.length-1;Ge++){var xe=je[Ge].elements.length;if(xe!==0&&je[Ge].br===!1){var Ye=document.createElement("br"),at=je[Ge].elements[xe-1].node;at.parentElement.insertBefore(Ye,at.nextSibling)}}}(C),$.mra=null),$.lp&&(function(je,Ge,xe){if(je!==null)for(var Ye=0;Ye<je.length;Ye++){var at=je[Ye].elements.length,St=Math.ceil(Ge)+"px",ft="-"+Math.ceil(Ge)+"px";if(at!==0){var Yt=je[Ye].elements[je[Ye].start_elem],Ot=je[Ye].elements[je[Ye].end_elem];if(Yt===Ot){var Gt=Yt.node.getBoundingClientRect();if(Gt.width==0||Gt.height==0)continue}xe.ipd==="lr"?(Yt.node.style.marginLeft=ft,Yt.node.style.paddingLeft=St):xe.ipd==="rl"?(Yt.node.style.paddingRight=St,Yt.node.style.marginRight=ft):xe.ipd==="tb"&&(Yt.node.style.paddingTop=St,Yt.node.style.marginTop=ft),xe.ipd==="lr"?(j||(Ot.node.style.marginRight=ft),Ot.node.style.paddingRight=St):xe.ipd==="rl"?(Ot.node.style.paddingLeft=St,j||(Ot.node.style.marginLeft=ft)):xe.ipd==="tb"&&(Ot.node.style.paddingBottom=St,Ot.node.style.marginBottom=ft)}}}(C,$.lp.toUsedLength($.w,$.h),$),$.lp=null),function(je,Ge){for(var xe=0;xe<je.length;xe++)for(var Ye=je[xe],at=1;at<Ye.elements.length;){var St=Ye.elements[at-1],ft=Ye.elements[at];f(St.node,ft.node,Ge)?Ye.elements.splice(at,1):at++}for(var Yt,Ot,Gt=[],Zt=0;Zt<je.length;Zt++)for(var fn=0;fn<je[Zt].elements.length;fn++)(Ot=_(Yt=je[Zt].elements[fn].node,Gt,!1))&&(Yt.style.backgroundColor=Ot);for(var Sn=0;Sn<Gt.length;Sn++)Gt[Sn].style.backgroundColor=""}(C,$),$.flg)){var ae=m($e.getBoundingClientRect(),$);(function(je,Ge,xe,Ye,at){for(var St=Math.sign(xe-Ge),ft=0;ft<=je.length;ft++){var Yt,Ot,Gt,Zt;if(Yt=ft===0?Math.round(Ge):ft===je.length?Math.round(xe):Math.round((je[ft-1].after+je[ft].before)/2),ft>0&&je[ft-1])for(Gt=0;Gt<je[ft-1].elements.length;Gt++)Ot=St*(Yt-(Zt=je[ft-1].elements[Gt]).after)+"px",Ye.bpd==="lr"?Zt.node.style.paddingRight=Ot:Ye.bpd==="rl"?Zt.node.style.paddingLeft=Ot:Ye.bpd==="tb"&&(Zt.node.style.paddingBottom=Ot);if(ft<je.length)for(Gt=0;Gt<je[ft].elements.length;Gt++)Ot=St*((Zt=je[ft].elements[Gt]).before-Yt)+"px",Ye.bpd==="lr"?Zt.node.style.paddingLeft=Ot:Ye.bpd==="rl"?Zt.node.style.paddingRight=Ot:Ye.bpd==="tb"&&(Zt.node.style.paddingTop=Ot)}})(C,ae.before,ae.after,$),$.flg=null}if(he.kind==="region"&&$.bpd==="tb"&&$.enableRollUp&&he.contents.length>0&&he.styleAttrs[i.byName.displayAlign.qname]==="after"){r($,$e,C,null);var ne=new R(he.id===""?"_":he.id,C);if($.currentISDState[ne.id]=ne,$.previousISDState&&ne.id in $.previousISDState&&$.previousISDState[ne.id].plist.length>0&&ne.plist.length>1&&ne.plist[ne.plist.length-2].text===$.previousISDState[ne.id].plist[$.previousISDState[ne.id].plist.length-1].text){var Me=oe.firstElementChild,nt=ne.plist[ne.plist.length-1].after-ne.plist[ne.plist.length-1].before;Me.style.bottom="-"+nt+"px",Me.style.transition="transform 0.4s",Me.style.position="relative",Me.style.transform="translateY(-"+nt+"px)"}}}else ce($.errorHandler,"Error processing ISD element kind: "+he.kind)}function _($,ue,he){return $.style.backgroundColor?(he&&!ue.includes($)&&ue.push($),$.style.backgroundColor):$.parentElement.nodeName==="SPAN"||$.parentElement.nodeName==="RUBY"||$.parentElement.nodeName==="RBC"||$.parentElement.nodeName==="RTC"||$.parentElement.nodeName==="RT"?_($.parentElement,ue,!0):void 0}function f($,ue,he){if($.tagName==="SPAN"&&ue.tagName==="SPAN"&&$._isd_element===ue._isd_element){if(!$._isd_element)return ce(he.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;$.textContent+=ue.textContent;for(var Ce=0;Ce<ue.style.length;Ce++){var oe=ue.style[Ce];(oe.indexOf("border")>=0||oe.indexOf("padding")>=0||oe.indexOf("margin")>=0)&&($.style[oe]=ue.style[oe])}return ue.parentElement.removeChild(ue),!0}return!1}function R($,ue){this.id=$,this.plist=ue}function m($,ue){var he={before:null,after:null,start:null,end:null};return ue.bpd==="tb"?(he.before=$.top,he.after=$.bottom,ue.ipd==="lr"?(he.start=$.left,he.end=$.right):(he.start=$.right,he.end=$.left)):ue.bpd==="lr"?(he.before=$.left,he.after=$.right,he.start=$.top,he.end=$.bottom):ue.bpd==="rl"&&(he.before=$.right,he.after=$.left,he.start=$.top,he.end=$.bottom),he}function r($,ue,he,Ce){if(ue.localName!=="rt"&&ue.localName!=="rtc"){var oe,be,Pe,Ne,me=ue.style.backgroundColor||Ce;if(ue.childElementCount===0)if(ue.localName==="span"||ue.localName==="rb"){var Le=m(ue.getBoundingClientRect(),$);if(he.length!==0&&(oe=Le.before,be=Le.after,Pe=he[he.length-1].before,be<(Ne=he[he.length-1].after)&&oe>Pe||Ne<=be&&Pe>=oe)){var qe=Math.sign(Le.after-Le.before),$e=Math.sign(Le.end-Le.start);qe*(Le.before-he[he.length-1].before)<0&&(he[he.length-1].before=Le.before),qe*(Le.after-he[he.length-1].after)>0&&(he[he.length-1].after=Le.after),$e*(Le.start-he[he.length-1].start)<0&&(he[he.length-1].start=Le.start,he[he.length-1].start_elem=he[he.length-1].elements.length),$e*(Le.end-he[he.length-1].end)>0&&(he[he.length-1].end=Le.end,he[he.length-1].end_elem=he[he.length-1].elements.length)}else he.push({before:Le.before,after:Le.after,start:Le.start,end:Le.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});he[he.length-1].text+=ue.textContent,he[he.length-1].elements.push({node:ue,bgcolor:me,before:Le.before,after:Le.after})}else ue.localName==="br"&&he.length!==0&&(he[he.length-1].br=!0);else for(var Re=ue.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(r($,Re,he,me),Re.localName==="ruby"||Re.localName==="rtc"?he.length>0&&he[he.length-1].rbc.push(Re):Re.localName==="span"&&Re.style[k]&&Re.style[k]!=="none"&&he.length>0&&he[he.length-1].te.push(Re)),Re=Re.nextSibling}}function u($,ue,he,Ce){var oe;Ce.style!=="none"&&(Ce.style==="auto"?ue.style[k]="filled":ue.style[k]=Ce.style+" "+Ce.symbol,(Ce.position==="before"||Ce.position==="after")&&(oe=$.bpd==="tb"?Ce.position==="before"?"left over":"left under":$.bpd==="rl"?Ce.position==="before"?"right under":"left under":Ce.position==="before"?"left under":"right under",ue.style[te]=oe))}function d($,ue){this.qname=$,this.map=ue}A.render=function($,ue,he,Ce,oe,be,Pe,Ne,me){var Le=Ce||ue.clientHeight,qe=oe||ue.clientWidth;if($.aspectRatio!==null){var $e=Le*$.aspectRatio;$e>qe?Le=Math.round(qe/$.aspectRatio):qe=$e}var Re=document.createElement("div");Re.style.position="relative",Re.style.width=qe+"px",Re.style.height=Le+"px",Re.style.margin="auto",Re.style.top=0,Re.style.bottom=0,Re.style.left=0,Re.style.right=0,Re.style.zIndex=0;var Fe={h:Le,w:qe,regionH:null,regionW:null,imgResolver:he,displayForcedOnlyMode:be||!1,isd:$,errorHandler:Pe,previousISDState:Ne,enableRollUp:me||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ue.appendChild(Re),"contents"in $)for(var Et=0;Et<$.contents.length;Et++)E(Fe,Re,$.contents[Et],$);return Fe.currentISDState};for(var I=[new d("http://www.w3.org/ns/ttml#styling backgroundColor",function($,ue,he,Ce){Ce[3]!==0&&(ue.style.backgroundColor="rgba("+Ce[0].toString()+","+Ce[1].toString()+","+Ce[2].toString()+","+(Ce[3]/255).toString()+")")}),new d("http://www.w3.org/ns/ttml#styling color",function($,ue,he,Ce){ue.style.color="rgba("+Ce[0].toString()+","+Ce[1].toString()+","+Ce[2].toString()+","+(Ce[3]/255).toString()+")"}),new d("http://www.w3.org/ns/ttml#styling direction",function($,ue,he,Ce){ue.style.direction=Ce}),new d("http://www.w3.org/ns/ttml#styling display",function($,ue,he,Ce){}),new d("http://www.w3.org/ns/ttml#styling displayAlign",function($,ue,he,Ce){ue.style.display="flex",ue.style.flexDirection="column",Ce==="before"?ue.style.justifyContent="flex-start":Ce==="center"?ue.style.justifyContent="center":Ce==="after"&&(ue.style.justifyContent="flex-end")}),new d("http://www.w3.org/ns/ttml#styling extent",function($,ue,he,Ce){$.regionH=Ce.h.toUsedLength($.w,$.h),$.regionW=Ce.w.toUsedLength($.w,$.h);var oe=0,be=0,Pe=he.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Pe&&(oe=Pe[0].toUsedLength($.w,$.h)+Pe[2].toUsedLength($.w,$.h),be=Pe[1].toUsedLength($.w,$.h)+Pe[3].toUsedLength($.w,$.h)),ue.style.height=$.regionH-oe+"px",ue.style.width=$.regionW-be+"px"}),new d("http://www.w3.org/ns/ttml#styling fontFamily",function($,ue,he,Ce){for(var oe=[],be=0;be<Ce.length;be++)Ce[be]=Ce[be].trim(),Ce[be]==="monospaceSerif"?(oe.push("Courier New"),oe.push('"Liberation Mono"'),oe.push("Courier"),oe.push("monospace")):Ce[be]==="proportionalSansSerif"?(oe.push("Arial"),oe.push("Helvetica"),oe.push('"Liberation Sans"'),oe.push("sans-serif")):Ce[be]==="monospace"?oe.push("monospace"):Ce[be]==="sansSerif"?oe.push("sans-serif"):Ce[be]==="serif"?oe.push("serif"):Ce[be]==="monospaceSansSerif"?(oe.push("Consolas"),oe.push("monospace")):Ce[be]==="proportionalSerif"?oe.push("serif"):oe.push(Ce[be]);if(oe.length>0){for(var Pe=[oe[0]],Ne=1;Ne<oe.length;Ne++)Pe.indexOf(oe[Ne])==-1&&Pe.push(oe[Ne]);oe=Pe}ue.style.fontFamily=oe.join(",")}),new d("http://www.w3.org/ns/ttml#styling shear",function($,ue,he,Ce){if(Ce!==0){var oe=-.9*Ce;$.bpd==="tb"?ue.style.transform="skewX("+oe+"deg)":ue.style.transform="skewY("+oe+"deg)"}}),new d("http://www.w3.org/ns/ttml#styling fontSize",function($,ue,he,Ce){ue.style.fontSize=Ce.toUsedLength($.w,$.h)+"px"}),new d("http://www.w3.org/ns/ttml#styling fontStyle",function($,ue,he,Ce){ue.style.fontStyle=Ce}),new d("http://www.w3.org/ns/ttml#styling fontWeight",function($,ue,he,Ce){ue.style.fontWeight=Ce}),new d("http://www.w3.org/ns/ttml#styling lineHeight",function($,ue,he,Ce){ue.style.lineHeight=Ce==="normal"?"normal":Ce.toUsedLength($.w,$.h)+"px"}),new d("http://www.w3.org/ns/ttml#styling opacity",function($,ue,he,Ce){ue.style.opacity=Ce}),new d("http://www.w3.org/ns/ttml#styling origin",function($,ue,he,Ce){ue.style.top=Ce.h.toUsedLength($.w,$.h)+"px",ue.style.left=Ce.w.toUsedLength($.w,$.h)+"px"}),new d("http://www.w3.org/ns/ttml#styling overflow",function($,ue,he,Ce){ue.style.overflow=Ce}),new d("http://www.w3.org/ns/ttml#styling padding",function($,ue,he,Ce){var oe=[];oe[0]=Ce[0].toUsedLength($.w,$.h)+"px",oe[1]=Ce[3].toUsedLength($.w,$.h)+"px",oe[2]=Ce[2].toUsedLength($.w,$.h)+"px",oe[3]=Ce[1].toUsedLength($.w,$.h)+"px",ue.style.padding=oe.join(" ")}),new d("http://www.w3.org/ns/ttml#styling position",function($,ue,he,Ce){ue.style.top=Ce.h.toUsedLength($.w,$.h)+"px",ue.style.left=Ce.w.toUsedLength($.w,$.h)+"px"}),new d("http://www.w3.org/ns/ttml#styling rubyAlign",function($,ue,he,Ce){ue.style.rubyAlign=Ce==="spaceAround"?"space-around":"center"}),new d("http://www.w3.org/ns/ttml#styling rubyPosition",function($,ue,he,Ce){var oe;Ce!=="before"&&Ce!=="after"||(oe=x?Ce:$.bpd==="tb"||$.bpd==="rl"?Ce==="before"?"over":"under":Ce==="before"?"under":"over",ue.parentElement.style[re]=oe)}),new d("http://www.w3.org/ns/ttml#styling showBackground",null),new d("http://www.w3.org/ns/ttml#styling textAlign",function($,ue,he,Ce){var oe;oe=Ce==="start"?$.ipd==="rl"?"right":"left":Ce==="end"?$.ipd==="rl"?"left":"right":Ce,ue.style.textAlign=oe}),new d("http://www.w3.org/ns/ttml#styling textDecoration",function($,ue,he,Ce){ue.style.textDecoration=Ce.join(" ").replace("lineThrough","line-through")}),new d("http://www.w3.org/ns/ttml#styling textOutline",function($,ue,he,Ce){}),new d("http://www.w3.org/ns/ttml#styling textShadow",function($,ue,he,Ce){var oe=he.styleAttrs[i.byName.textOutline.qname];if(Ce==="none"&&oe==="none")ue.style.textShadow="";else{var be=[];if(oe!=="none"){var Pe="rgba("+oe.color[0].toString()+","+oe.color[1].toString()+","+oe.color[2].toString()+","+(oe.color[3]/255).toString()+")";be.push("1px 1px 1px "+Pe),be.push("-1px 1px 1px "+Pe),be.push("1px -1px 1px "+Pe),be.push("-1px -1px 1px "+Pe)}if(Ce!=="none")for(var Ne=0;Ne<Ce.length;Ne++)be.push(Ce[Ne].x_off.toUsedLength($.w,$.h)+"px "+Ce[Ne].y_off.toUsedLength($.w,$.h)+"px "+Ce[Ne].b_radius.toUsedLength($.w,$.h)+"px rgba("+Ce[Ne].color[0].toString()+","+Ce[Ne].color[1].toString()+","+Ce[Ne].color[2].toString()+","+(Ce[Ne].color[3]/255).toString()+")");ue.style.textShadow=be.join(",")}}),new d("http://www.w3.org/ns/ttml#styling textCombine",function($,ue,he,Ce){ue.style.textCombineUpright=Ce}),new d("http://www.w3.org/ns/ttml#styling textEmphasis",function($,ue,he,Ce){}),new d("http://www.w3.org/ns/ttml#styling unicodeBidi",function($,ue,he,Ce){var oe;oe=Ce==="bidiOverride"?"bidi-override":Ce,ue.style.unicodeBidi=oe}),new d("http://www.w3.org/ns/ttml#styling visibility",function($,ue,he,Ce){ue.style.visibility=Ce}),new d("http://www.w3.org/ns/ttml#styling wrapOption",function($,ue,he,Ce){Ce==="wrap"?he.space==="preserve"?ue.style.whiteSpace="pre-wrap":ue.style.whiteSpace="normal":he.space==="preserve"?ue.style.whiteSpace="pre":ue.style.whiteSpace="noWrap"}),new d("http://www.w3.org/ns/ttml#styling writingMode",function($,ue,he,Ce){Ce==="lrtb"||Ce==="lr"||Ce==="rltb"||Ce==="rl"?ue.style.writingMode="horizontal-tb":Ce==="tblr"?ue.style.writingMode="vertical-lr":Ce!=="tbrl"&&Ce!=="tb"||(ue.style.writingMode="vertical-rl")}),new d("http://www.w3.org/ns/ttml#styling zIndex",function($,ue,he,Ce){ue.style.zIndex=Ce}),new d("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function($,ue,he,Ce){$.displayForcedOnlyMode&&Ce===!1&&(ue.style.visibility="hidden")})],Z={},z=0;z<I.length;z++)Z[I[z].qname]=I[z];var x="webkitRubyPosition"in window.getComputedStyle(document.documentElement),re=x?"webkitRubyPosition":"rubyPosition",k="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",te="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function ce($,ue){if($&&$.error&&$.error(ue))throw ue}})(Y,typeof imscNames>"u"?v(210):imscNames,typeof imscStyles>"u"?v(6811):imscStyles,typeof imscUtils>"u"?v(5926):imscUtils)},4080:function(U,Y,v){(function(j,A,o,i){j.generateISD=function(d,I,Z){var z,x=new m(d),re={},k={},te=d.head.styling.initials[o.byName.showBackground.qname],ce=d.head.styling.initials[o.byName.backgroundColor.qname];for(var $ in d.head.layout.regions)if(d.head.layout.regions.hasOwnProperty($)){var ue=d.head.layout.regions[$],he=ue.styleAttrs[o.byName.showBackground.qname]||te,Ce=ue.styleAttrs[o.byName.backgroundColor.qname]||ce;k[ue.id]=(he==="always"||he===void 0)&&Ce!==void 0&&!(I<ue.begin||I>=ue.end)}for(var oe in d.body&&d.body.regionID&&(k[d.body.regionID]=!0),z=d.body!==null?function Pe(Ne,me){if(me.contents){var Le={};for(var qe in me)me.hasOwnProperty(qe)&&(Le[qe]=me[qe]);return Le.contents=[],me.contents.filter(function($e){return!(Ne<$e.begin||Ne>=$e.end)}).forEach(function($e){var Re=Pe(Ne,$e);Re.regionID&&(k[Re.regionID]=!0),Re!==null&&Le.contents.push(Re)}),Le}return me}(I,d.body):null,k[""]!==void 0&&(k[""]=!0),k)if(k[oe]){var be=_(d,I,d.head.layout.regions[oe],z,null,"",d.head.layout.regions[oe],Z,re);be!==null&&x.contents.push(be.element)}return x};var E=[o.byName.color.qname,o.byName.textCombine.qname,o.byName.textDecoration.qname,o.byName.textEmphasis.qname,o.byName.textOutline.qname,o.byName.textShadow.qname];function _(d,I,Z,z,x,re,k,te,ce){if(I<k.begin||I>=k.end)return null;var $="regionID"in k&&k.regionID!==""?k.regionID:re;if(x!==null&&$!==Z.id&&(!("contents"in k)||"contents"in k&&k.contents.length===0||$!==""))return null;var ue=new r(k);if("sets"in k)for(var he=0;he<k.sets.length;he++)I<k.sets[he].begin||I>=k.sets[he].end||(ue.styleAttrs[k.sets[he].qname]=k.sets[he].value);var Ce={};for(var oe in ue.styleAttrs)if(ue.styleAttrs.hasOwnProperty(oe)&&(Ce[oe]=!0,ue.kind==="region"&&oe===o.byName.writingMode.qname&&!(o.byName.direction.qname in ue.styleAttrs))){var be=ue.styleAttrs[oe];be==="lrtb"||be==="lr"?ue.styleAttrs[o.byName.direction.qname]="ltr":be!=="rltb"&&be!=="rl"||(ue.styleAttrs[o.byName.direction.qname]="rtl")}if(x!==null)for(var Pe=0;Pe<o.all.length;Pe++){var Ne=o.all[Pe];if(Ne.qname===o.byName.textDecoration.qname){var me=x.styleAttrs[Ne.qname],Le=ue.styleAttrs[Ne.qname],qe=[];Le===void 0?qe=me:Le.indexOf("none")===-1?((Le.indexOf("noUnderline")===-1&&me.indexOf("underline")!==-1||Le.indexOf("underline")!==-1)&&qe.push("underline"),(Le.indexOf("noLineThrough")===-1&&me.indexOf("lineThrough")!==-1||Le.indexOf("lineThrough")!==-1)&&qe.push("lineThrough"),(Le.indexOf("noOverline")===-1&&me.indexOf("overline")!==-1||Le.indexOf("overline")!==-1)&&qe.push("overline")):qe.push("none"),ue.styleAttrs[Ne.qname]=qe}else if(Ne.qname!==o.byName.fontSize.qname||Ne.qname in ue.styleAttrs||ue.kind!=="span"||ue.styleAttrs[o.byName.ruby.qname]!=="textContainer")if(Ne.qname!==o.byName.fontSize.qname||Ne.qname in ue.styleAttrs||ue.kind!=="span"||ue.styleAttrs[o.byName.ruby.qname]!=="text")Ne.inherit&&Ne.qname in x.styleAttrs&&!(Ne.qname in ue.styleAttrs)&&(ue.styleAttrs[Ne.qname]=x.styleAttrs[Ne.qname]);else{var $e=x.styleAttrs[o.byName.fontSize.qname];x.styleAttrs[o.byName.ruby.qname]==="textContainer"?ue.styleAttrs[Ne.qname]=$e:ue.styleAttrs[Ne.qname]=new i.ComputedLength(.5*$e.rw,.5*$e.rh)}else{var Re=x.styleAttrs[o.byName.fontSize.qname];ue.styleAttrs[Ne.qname]=new i.ComputedLength(.5*Re.rw,.5*Re.rh)}}for(var Fe=0;Fe<o.all.length;Fe++){var Et=o.all[Fe];if(!(Et.qname in ue.styleAttrs)&&!(Et.qname===o.byName.position.qname&&o.byName.origin.qname in ue.styleAttrs||Et.qname===o.byName.origin.qname&&o.byName.position.qname in ue.styleAttrs)){var gt=d.head.styling.initials[Et.qname]||Et.initial;if(gt!==null&&(ue.kind==="region"||Et.inherit===!1&&gt!==null)){var He=Et.parse(gt);He!==null?(ue.styleAttrs[Et.qname]=He,Ce[Et.qname]=!0):u(te,"Invalid initial value for '"+Et.qname+"' on element '"+ue.kind)}}}for(var ot=0;ot<o.all.length;ot++){var Se=o.all[ot];if(Se.qname in Ce&&Se.compute!==null){var we=Se.compute(d,x,ue,ue.styleAttrs[Se.qname],ce);we!==null?ue.styleAttrs[Se.qname]=we:(ue.styleAttrs[Se.qname]=Se.compute(d,x,ue,Se.parse(Se.initial),ce),u(te,"Style '"+Se.qname+"' on element '"+ue.kind+"' cannot be computed"))}}if(ue.styleAttrs[o.byName.display.qname]==="none")return null;var Ke=null;x===null?Ke=z===null?[]:[z]:"contents"in k&&(Ke=k.contents);for(var y=0;Ke!==null&&y<Ke.length;y++){var p=_(d,I,Z,z,ue,$,Ke[y],te,ce);p!==null&&ue.contents.push(p.element)}for(var N in ue.styleAttrs)if(ue.styleAttrs.hasOwnProperty(N)){var C=!1;if(ue.kind==="span"){var ae=ue.styleAttrs[o.byName.ruby.qname];(C=(ae==="container"||ae==="textContainer"||ae==="baseContainer")&&E.indexOf(N)!==-1)||(C=ae!=="container"&&N===o.byName.rubyAlign.qname),C||(C=!(ae==="textContainer"||ae==="text")&&N===o.byName.rubyPosition.qname)}if(!C){var ne=o.byQName[N];"applies"in ne&&(C=ne.applies.indexOf(ue.kind)===-1)}C&&delete ue.styleAttrs[N]}var Me=ue.styleAttrs[o.byName.ruby.qname];if(ue.kind==="p"||ue.kind==="span"&&(Me==="textContainer"||Me==="text")){var nt=[];f(ue,nt),function(je){for(var Ge,xe=0;xe<je.length;)if((Ge=je[xe]).kind!=="br"&&Ge.space!=="preserve"){var Ye=Ge.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ye)&&(xe===0||(at=je[xe-1]).kind==="br"||/[\r\n\t ]$/.test(at.text))&&(Ye=Ye.substring(1)),Ge.text=Ye,Ye.length===0?je.splice(xe,1):xe++}else xe++;var at,St;for(xe=0;xe<je.length;xe++)(Ge=je[xe]).kind!=="br"&&Ge.space!=="preserve"?/[ ]$/.test(Ge.text)&&(xe===je.length-1||(St=je[xe+1]).kind==="br"||St.space==="preserve"&&/^[\r\n]/.test(St.text))&&(Ge.text=Ge.text.slice(0,-1)):xe++}(nt),R(ue)}return ue.kind==="div"&&o.byName.backgroundImage.qname in ue.styleAttrs||ue.kind==="br"||ue.kind==="image"||"contents"in ue&&ue.contents.length>0||ue.kind==="span"&&ue.text!==null||ue.kind==="region"&&ue.styleAttrs[o.byName.showBackground.qname]==="always"?{region_id:$,element:ue}:null}function f(d,I){if("contents"in d)for(var Z=0;Z<d.contents.length;Z++){var z=d.contents[Z],x=z.styleAttrs[o.byName.ruby.qname];(z.kind!=="span"||x!=="textContainer"&&x!=="text")&&("contents"in z?f(z,I):(z.kind==="span"&&z.text.length!==0||z.kind==="br")&&I.push(z))}}function R(d){if(d.kind==="br")return!1;if("text"in d)return d.text.length===0;if("contents"in d){for(var I=d.contents.length;I--;)R(d.contents[I])&&d.contents.splice(I,1);return d.contents.length===0}}function m(d){this.contents=[],this.aspectRatio=d.aspectRatio,this.lang=d.lang}function r(d){for(var I in this.kind=d.kind||"region",this.lang=d.lang,d.id&&(this.id=d.id),this.styleAttrs={},d.styleAttrs)d.styleAttrs.hasOwnProperty(I)&&(this.styleAttrs[I]=d.styleAttrs[I]);"src"in d&&(this.src=d.src),"type"in d&&(this.type=d.type),"text"in d?this.text=d.text:(this.kind==="region"||"contents"in d)&&(this.contents=[]),"space"in d&&(this.space=d.space)}function u(d,I){if(d&&d.error&&d.error(I))throw I}})(Y,typeof imscNames>"u"?v(210):imscNames,typeof imscStyles>"u"?v(6811):imscStyles,typeof imscUtils>"u"?v(5926):imscUtils)},4403:function(U,Y,v){Y.generateISD=v(4080).generateISD,Y.fromXML=v(3362).fromXML,Y.renderHTML=v(506).render},210:function(U,Y){(function(v){v.ns_tt="http://www.w3.org/ns/ttml",v.ns_tts="http://www.w3.org/ns/ttml#styling",v.ns_ttp="http://www.w3.org/ns/ttml#parameter",v.ns_xml="http://www.w3.org/XML/1998/namespace",v.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",v.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",v.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",v.ns_ebutts="urn:ebu:tt:style"})(Y)},6811:function(U,Y,v){(function(j,A,o){function i(f,R,m,r,u,d,I,Z){this.name=R,this.ns=f,this.qname=f+" "+R,this.inherit=u,this.animatable=d,this.initial=m,this.applies=r,this.parse=I,this.compute=Z}for(var E in j.all=[new i(A.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new i(A.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new i(A.ns_tts,"direction","ltr",["p","span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(f){return f},null),new i(A.ns_tts,"displayAlign","before",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"extent","auto",["tt","region"],!1,!0,function(f){if(f==="auto")return f;var R=f.split(" ");if(R.length!==2)return null;var m=o.parseLength(R[0]),r=o.parseLength(R[1]);return r&&m?{h:r,w:m}:null},function(f,R,m,r,u){var d,I;if(r==="auto")d=new o.ComputedLength(0,1);else if((d=o.toComputedLength(r.h.value,r.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(r==="auto")I=new o.ComputedLength(1,0);else if((I=o.toComputedLength(r.w.value,r.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:d,w:I}}),new i(A.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(f){for(var R=f.split(","),m=[],r=0;r<R.length;r++)R[r]=R[r].trim(),R[r].charAt(0)!=="'"&&R[r].charAt(0)!=='"'&&R[r]==="default"?m.push("monospaceSerif"):m.push(R[r]);return m},null),new i(A.ns_tts,"shear","0%",["p"],!0,!0,o.parseLength,function(f,R,m,r){return r.unit!=="%"?null:Math.abs(r.value)>100?100*Math.sign(r.value):r.value}),new i(A.ns_tts,"fontSize","1c",["span","p"],!0,!0,o.parseLength,function(f,R,m,r,u){return o.toComputedLength(r.value,r.unit,R!==null?R.styleAttrs[j.byName.fontSize.qname]:f.cellLength.h,R!==null?R.styleAttrs[j.byName.fontSize.qname]:f.cellLength.h,f.cellLength.h,f.pxLength.h)}),new i(A.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(f){return f},null),new i(A.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(f){return f},null),new i(A.ns_tts,"lineHeight","normal",["p"],!0,!0,function(f){return f==="normal"?f:o.parseLength(f)},function(f,R,m,r,u){var d;if(r==="normal")d=r;else if((d=o.toComputedLength(r.value,r.unit,m.styleAttrs[j.byName.fontSize.qname],m.styleAttrs[j.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null)return null;return d}),new i(A.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new i(A.ns_tts,"origin","auto",["region"],!1,!0,function(f){if(f==="auto")return f;var R=f.split(" ");if(R.length!==2)return null;var m=o.parseLength(R[0]),r=o.parseLength(R[1]);return r&&m?{h:r,w:m}:null},function(f,R,m,r,u){var d,I;if(r==="auto")d=new o.ComputedLength(0,0);else if((d=o.toComputedLength(r.h.value,r.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(r==="auto")I=new o.ComputedLength(0,0);else if((I=o.toComputedLength(r.w.value,r.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:d,w:I}}),new i(A.ns_tts,"overflow","hidden",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"padding","0px",["region"],!1,!0,function(f){var R=f.split(" ");if(R.length>4)return null;for(var m=[],r=0;r<R.length;r++){var u=o.parseLength(R[r]);if(!u)return null;m.push(u)}return m},function(f,R,m,r,u){var d;if(r.length===1)d=[r[0],r[0],r[0],r[0]];else if(r.length===2)d=[r[0],r[1],r[0],r[1]];else if(r.length===3)d=[r[0],r[1],r[2],r[1]];else{if(r.length!==4)return null;d=[r[0],r[1],r[2],r[3]]}var I=m.styleAttrs[j.byName.writingMode.qname];if(I==="lrtb"||I==="lr")d=[d[0],d[3],d[2],d[1]];else if(I==="rltb"||I==="rl")d=[d[0],d[1],d[2],d[3]];else if(I==="tblr")d=[d[3],d[0],d[1],d[2]];else{if(I!=="tbrl"&&I!=="tb")return null;d=[d[3],d[2],d[1],d[0]]}for(var Z=[],z=0;z<d.length;z++)if(d[z].value===0)Z[z]=new o.ComputedLength(0,0);else if(Z[z]=o.toComputedLength(d[z].value,d[z].unit,m.styleAttrs[j.byName.fontSize.qname],z===0||z===2?m.styleAttrs[j.byName.extent.qname].h:m.styleAttrs[j.byName.extent.qname].w,z===0||z===2?f.cellLength.h:f.cellLength.w,z===0||z===2?f.pxLength.h:f.pxLength.w),Z[z]===null)return null;return Z}),new i(A.ns_tts,"position","top left",["region"],!1,!0,function(f){return o.parsePosition(f)},function(f,R,m,r){var u,d;return(u=o.toComputedLength(r.v.offset.value,r.v.offset.unit,null,new o.ComputedLength(-m.styleAttrs[j.byName.extent.qname].h.rw,f.dimensions.h.rh-m.styleAttrs[j.byName.extent.qname].h.rh),null,f.pxLength.h))===null?null:(r.v.edge==="bottom"&&(u=new o.ComputedLength(-u.rw-m.styleAttrs[j.byName.extent.qname].h.rw,f.dimensions.h.rh-u.rh-m.styleAttrs[j.byName.extent.qname].h.rh)),d=o.toComputedLength(r.h.offset.value,r.h.offset.unit,null,new o.ComputedLength(f.dimensions.w.rw-m.styleAttrs[j.byName.extent.qname].w.rw,-m.styleAttrs[j.byName.extent.qname].w.rh),null,f.pxLength.w),u===null?null:(r.h.edge==="right"&&(d=new o.ComputedLength(f.dimensions.w.rw-d.rw-m.styleAttrs[j.byName.extent.qname].w.rw,-d.rh-m.styleAttrs[j.byName.extent.qname].w.rh)),{h:u,w:d}))}),new i(A.ns_tts,"ruby","none",["span"],!1,!0,function(f){return f},null),new i(A.ns_tts,"rubyAlign","center",["span"],!0,!0,function(f){return f!=="center"&&f!=="spaceAround"?null:f},null),new i(A.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"rubyReserve","none",["p"],!0,!0,function(f){var R=f.split(" "),m=[null,null];if(R.length===0||R.length>2||R[0]!=="none"&&R[0]!=="both"&&R[0]!=="after"&&R[0]!=="before"&&R[0]!=="outside")return null;if(m[0]=R[0],R.length===2&&R[0]!=="none"){var r=o.parseLength(R[1]);if(!r)return null;m[1]=r}return m},function(f,R,m,r,u){if(r[0]==="none")return r;var d;return(d=r[1]===null?new o.ComputedLength(.5*m.styleAttrs[j.byName.fontSize.qname].rw,.5*m.styleAttrs[j.byName.fontSize.qname].rh):o.toComputedLength(r[1].value,r[1].unit,m.styleAttrs[j.byName.fontSize.qname],m.styleAttrs[j.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null?null:[r[0],d]}),new i(A.ns_tts,"showBackground","always",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"textAlign","start",["p"],!0,!0,function(f){return f},function(f,R,m,r,u){return r==="left"?"start":r==="right"?"end":r}),new i(A.ns_tts,"textCombine","none",["span"],!0,!0,function(f){return f==="none"||f==="all"?f:null},null),new i(A.ns_tts,"textDecoration","none",["span"],!0,!0,function(f){return f.split(" ")},null),new i(A.ns_tts,"textEmphasis","none",["span"],!0,!0,function(f){for(var R=f.split(" "),m={style:null,symbol:null,color:null,position:null},r=0;r<R.length;r++)if(R[r]==="none"||R[r]==="auto")m.style=R[r];else if(R[r]==="filled"||R[r]==="open")m.style=R[r];else if(R[r]==="circle"||R[r]==="dot"||R[r]==="sesame")m.symbol=R[r];else if(R[r]==="current")m.color=R[r];else if(R[r]==="outside"||R[r]==="before"||R[r]==="after")m.position=R[r];else if(m.color=o.parseColor(R[r]),m.color===null)return null;return m.style==null&&m.symbol==null?m.style="auto":(m.symbol=m.symbol||"circle",m.style=m.style||"filled"),m.position=m.position||"outside",m.color=m.color||"current",m},null),new i(A.ns_tts,"textOutline","none",["span"],!0,!0,function(f){if(f==="none")return f;var R={},m=f.split(" ");if(m.length===0||m.length>2)return null;var r=o.parseColor(m[0]);if(R.color=r,r!==null&&m.shift(),m.length!==1)return null;var u=o.parseLength(m[0]);return u?(R.thickness=u,R):null},function(f,R,m,r,u){if(r==="none")return r;var d={};return r.color===null?d.color=m.styleAttrs[j.byName.color.qname]:d.color=r.color,d.thickness=o.toComputedLength(r.thickness.value,r.thickness.unit,m.styleAttrs[j.byName.fontSize.qname],m.styleAttrs[j.byName.fontSize.qname],f.cellLength.h,f.pxLength.h),d.thickness===null?null:d}),new i(A.ns_tts,"textShadow","none",["span"],!0,!0,o.parseTextShadow,function(f,R,m,r){if(r==="none")return r;for(var u=[],d=0;d<r.length;d++){var I={};if(I.x_off=o.toComputedLength(r[d][0].value,r[d][0].unit,null,m.styleAttrs[j.byName.fontSize.qname],null,f.pxLength.w),I.x_off===null||(I.y_off=o.toComputedLength(r[d][1].value,r[d][1].unit,null,m.styleAttrs[j.byName.fontSize.qname],null,f.pxLength.h),I.y_off===null))return null;if(r[d][2]===null)I.b_radius=0;else if(I.b_radius=o.toComputedLength(r[d][2].value,r[d][2].unit,null,m.styleAttrs[j.byName.fontSize.qname],null,f.pxLength.h),I.b_radius===null)return null;r[d][3]===null?I.color=m.styleAttrs[j.byName.color.qname]:I.color=r[d][3],u.push(I)}return u}),new i(A.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(f){return f},null),new i(A.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"zIndex","auto",["region"],!1,!0,function(f){var R;return f==="auto"?R=f:(R=parseInt(f),isNaN(R)&&(R=null)),R},null),new i(A.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,function(f,R,m,r,u){return o.toComputedLength(r.value,r.unit,null,null,f.cellLength.w,null)}),new i(A.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(f){return f},null),new i(A.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(f){return f},null),new i(A.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(f){return f==="true"},null),new i(A.ns_itts,"fillLineGap","false",["p"],!0,!0,function(f){return f==="true"},null)],j.byQName={},j.all)j.byQName[j.all[E].qname]=j.all[E];for(var _ in j.byName={},j.all)j.byName[j.all[_].name]=j.all[_]})(Y,typeof imscNames>"u"?v(210):imscNames,typeof imscUtils>"u"?v(5926):imscUtils)},5926:function(U,Y){(function(v){var j=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,A=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};v.parseColor=function(_){var f,R=null,m=i[_.toLowerCase()];return m!==void 0?R=m:(f=j.exec(_))!==null?R=[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),f[4]!==void 0?parseInt(f[4],16):255]:(f=A.exec(_))!==null?R=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),255]:(f=o.exec(_))!==null&&(R=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])]),R};var E=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;v.parseLength=function(_){var f,R=null;return(f=E.exec(_))!==null&&(R={value:parseFloat(f[1]),unit:f[2]}),R},v.parseTextShadow=function(_){for(var f=_.match(/([^\(,\)]|\([^\)]+\))+/g),R=[],m=0;m<f.length;m++){var r=f[m].split(" ");if(r.length===1&&r[0]==="none")return"none";if(r.length>1&&r.length<5){var u=[null,null,null,null],d=v.parseLength(r.shift());if(d===null||(u[0]=d,(d=v.parseLength(r.shift()))===null))return null;if(u[1]=d,r.length===0){R.push(u);continue}if((d=v.parseLength(r[0]))!==null&&(u[2]=d,r.shift()),r.length===0){R.push(u);continue}var I=v.parseColor(r[0]);if(I===null)return null;u[3]=I,R.push(u)}}return R},v.parsePosition=function(_){var f=_.split(" "),R=function(z){return z==="center"||z==="left"||z==="top"||z==="bottom"||z==="right"};if(f.length>4)return null;for(var m=0;m<f.length;m++)if(!R(f[m])){var r=v.parseLength(f[m]);if(r===null)return null;f[m]=r}for(var u={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},d=0;d<f.length;){var I=f[d++];if(R(I)){var Z={value:0,unit:"%"};f.length!==2&&d<f.length&&!R(f[d])&&(Z=f[d++]),I==="right"?(u.h.edge=I,u.h.offset=Z):I==="bottom"?(u.v.edge=I,u.v.offset=Z):I==="left"?u.h.offset=Z:I==="top"&&(u.v.offset=Z)}else{if(f.length!==1&&f.length!==2)return null;d===1?u.h.offset=I:u.v.offset=I}}return u},v.ComputedLength=function(_,f){this.rw=_,this.rh=f},v.ComputedLength.prototype.toUsedLength=function(_,f){return _*this.rw+f*this.rh},v.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},v.toComputedLength=function(_,f,R,m,r,u){return f==="%"&&m?new v.ComputedLength(m.rw*_/100,m.rh*_/100):f==="em"&&R?new v.ComputedLength(R.rw*_,R.rh*_):f==="c"&&r?new v.ComputedLength(_*r.rw,_*r.rh):f==="px"&&u?new v.ComputedLength(_*u.rw,_*u.rh):f==="rh"?new v.ComputedLength(0,_/100):f==="rw"?new v.ComputedLength(_/100,0):null}})(Y)},3516:function(U){U.exports=function(Y){var v=typeof Y=="string"?Y.charCodeAt(0):Y;return v>=97&&v<=122||v>=65&&v<=90}},2219:function(U,Y,v){var j=v(3516),A=v(395);U.exports=function(o){return j(o)||A(o)}},395:function(U){U.exports=function(Y){var v=typeof Y=="string"?Y.charCodeAt(0):Y;return v>=48&&v<=57}},3875:function(U){function Y(A){if(typeof A!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(A))}function v(A,o){for(var i,E="",_=0,f=-1,R=0,m=0;m<=A.length;++m){if(m<A.length)i=A.charCodeAt(m);else{if(i===47)break;i=47}if(i===47){if(!(f===m-1||R===1))if(f!==m-1&&R===2){if(E.length<2||_!==2||E.charCodeAt(E.length-1)!==46||E.charCodeAt(E.length-2)!==46){if(E.length>2){var r=E.lastIndexOf("/");if(r!==E.length-1){r===-1?(E="",_=0):_=(E=E.slice(0,r)).length-1-E.lastIndexOf("/"),f=m,R=0;continue}}else if(E.length===2||E.length===1){E="",_=0,f=m,R=0;continue}}o&&(E.length>0?E+="/..":E="..",_=2)}else E.length>0?E+="/"+A.slice(f+1,m):E=A.slice(f+1,m),_=m-f-1;f=m,R=0}else i===46&&R!==-1?++R:R=-1}return E}var j={resolve:function(){for(var A,o="",i=!1,E=arguments.length-1;E>=-1&&!i;E--){var _;E>=0?_=arguments[E]:(A===void 0&&(A=process.cwd()),_=A),Y(_),_.length!==0&&(o=_+"/"+o,i=_.charCodeAt(0)===47)}return o=v(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(A){if(Y(A),A.length===0)return".";var o=A.charCodeAt(0)===47,i=A.charCodeAt(A.length-1)===47;return(A=v(A,!o)).length!==0||o||(A="."),A.length>0&&i&&(A+="/"),o?"/"+A:A},isAbsolute:function(A){return Y(A),A.length>0&&A.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var A,o=0;o<arguments.length;++o){var i=arguments[o];Y(i),i.length>0&&(A===void 0?A=i:A+="/"+i)}return A===void 0?".":j.normalize(A)},relative:function(A,o){if(Y(A),Y(o),A===o||(A=j.resolve(A))===(o=j.resolve(o)))return"";for(var i=1;i<A.length&&A.charCodeAt(i)===47;++i);for(var E=A.length,_=E-i,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var R=o.length-f,m=_<R?_:R,r=-1,u=0;u<=m;++u){if(u===m){if(R>m){if(o.charCodeAt(f+u)===47)return o.slice(f+u+1);if(u===0)return o.slice(f+u)}else _>m&&(A.charCodeAt(i+u)===47?r=u:u===0&&(r=0));break}var d=A.charCodeAt(i+u);if(d!==o.charCodeAt(f+u))break;d===47&&(r=u)}var I="";for(u=i+r+1;u<=E;++u)u!==E&&A.charCodeAt(u)!==47||(I.length===0?I+="..":I+="/..");return I.length>0?I+o.slice(f+r):(f+=r,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(A){return A},dirname:function(A){if(Y(A),A.length===0)return".";for(var o=A.charCodeAt(0),i=o===47,E=-1,_=!0,f=A.length-1;f>=1;--f)if((o=A.charCodeAt(f))===47){if(!_){E=f;break}}else _=!1;return E===-1?i?"/":".":i&&E===1?"//":A.slice(0,E)},basename:function(A,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');Y(A);var i,E=0,_=-1,f=!0;if(o!==void 0&&o.length>0&&o.length<=A.length){if(o.length===A.length&&o===A)return"";var R=o.length-1,m=-1;for(i=A.length-1;i>=0;--i){var r=A.charCodeAt(i);if(r===47){if(!f){E=i+1;break}}else m===-1&&(f=!1,m=i+1),R>=0&&(r===o.charCodeAt(R)?--R==-1&&(_=i):(R=-1,_=m))}return E===_?_=m:_===-1&&(_=A.length),A.slice(E,_)}for(i=A.length-1;i>=0;--i)if(A.charCodeAt(i)===47){if(!f){E=i+1;break}}else _===-1&&(f=!1,_=i+1);return _===-1?"":A.slice(E,_)},extname:function(A){Y(A);for(var o=-1,i=0,E=-1,_=!0,f=0,R=A.length-1;R>=0;--R){var m=A.charCodeAt(R);if(m!==47)E===-1&&(_=!1,E=R+1),m===46?o===-1?o=R:f!==1&&(f=1):o!==-1&&(f=-1);else if(!_){i=R+1;break}}return o===-1||E===-1||f===0||f===1&&o===E-1&&o===i+1?"":A.slice(o,E)},format:function(A){if(A===null||typeof A!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof A);return function(o,i){var E=i.dir||i.root,_=i.base||(i.name||"")+(i.ext||"");return E?E===i.root?E+_:E+"/"+_:_}(0,A)},parse:function(A){Y(A);var o={root:"",dir:"",base:"",ext:"",name:""};if(A.length===0)return o;var i,E=A.charCodeAt(0),_=E===47;_?(o.root="/",i=1):i=0;for(var f=-1,R=0,m=-1,r=!0,u=A.length-1,d=0;u>=i;--u)if((E=A.charCodeAt(u))!==47)m===-1&&(r=!1,m=u+1),E===46?f===-1?f=u:d!==1&&(d=1):f!==-1&&(d=-1);else if(!r){R=u+1;break}return f===-1||m===-1||d===0||d===1&&f===m-1&&f===R+1?m!==-1&&(o.base=o.name=R===0&&_?A.slice(1,m):A.slice(R,m)):(R===0&&_?(o.name=A.slice(1,f),o.base=A.slice(1,m)):(o.name=A.slice(R,f),o.base=A.slice(R,m)),o.ext=A.slice(f,m)),R>0?o.dir=A.slice(0,R-1):_&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};j.posix=j,U.exports=j},8387:function(U,Y,v){var j=v(1549),A=j.Buffer;function o(E,_){for(var f in E)_[f]=E[f]}function i(E,_,f){return A(E,_,f)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?U.exports=j:(o(j,Y),Y.Buffer=i),o(A,i),i.from=function(E,_,f){if(typeof E=="number")throw new TypeError("Argument must not be a number");return A(E,_,f)},i.alloc=function(E,_,f){if(typeof E!="number")throw new TypeError("Argument must be a number");var R=A(E);return _!==void 0?typeof f=="string"?R.fill(_,f):R.fill(_):R.fill(0),R},i.allocUnsafe=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return A(E)},i.allocUnsafeSlow=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return j.SlowBuffer(E)}},5378:function(U,Y,v){(function(j){j.parser=function(y,p){return new i(y,p)},j.SAXParser=i,j.SAXStream=_,j.createStream=function(y,p){return new _(y,p)},j.MAX_BUFFER_LENGTH=65536;var A,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(y,p){if(!(this instanceof i))return new i(y,p);var N=this;(function(C){for(var ae=0,ne=o.length;ae<ne;ae++)C[o[ae]]=""})(N),N.q=N.c="",N.bufferCheckPosition=j.MAX_BUFFER_LENGTH,N.opt=p||{},N.opt.lowercase=N.opt.lowercase||N.opt.lowercasetags,N.looseCase=N.opt.lowercase?"toLowerCase":"toUpperCase",N.tags=[],N.closed=N.closedRoot=N.sawRoot=!1,N.tag=N.error=null,N.strict=!!y,N.noscript=!(!y&&!N.opt.noscript),N.state=oe.BEGIN,N.strictEntities=N.opt.strictEntities,N.ENTITIES=N.strictEntities?Object.create(j.XML_ENTITIES):Object.create(j.ENTITIES),N.attribList=[],N.opt.xmlns&&(N.ns=Object.create(Z)),N.trackPosition=N.opt.position!==!1,N.trackPosition&&(N.position=N.line=N.column=0),Pe(N,"onready")}j.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(y){function p(){}return p.prototype=y,new p}),Object.keys||(Object.keys=function(y){var p=[];for(var N in y)y.hasOwnProperty(N)&&p.push(N);return p}),i.prototype={end:function(){$e(this)},write:function(y){var p=this;if(this.error)throw this.error;if(p.closed)return qe(p,"Cannot write after close. Assign an onready handler.");if(y===null)return $e(p);typeof y=="object"&&(y=y.toString());for(var N=0,C="";C=Ke(y,N++),p.c=C,C;)switch(p.trackPosition&&(p.position++,C===`
`?(p.line++,p.column=0):p.column++),p.state){case oe.BEGIN:if(p.state=oe.BEGIN_WHITESPACE,C==="\uFEFF")continue;we(p,C);continue;case oe.BEGIN_WHITESPACE:we(p,C);continue;case oe.TEXT:if(p.sawRoot&&!p.closedRoot){for(var ae=N-1;C&&C!=="<"&&C!=="&";)(C=Ke(y,N++))&&p.trackPosition&&(p.position++,C===`
`?(p.line++,p.column=0):p.column++);p.textNode+=y.substring(ae,N-1)}C!=="<"||p.sawRoot&&p.closedRoot&&!p.strict?(!$(f,C)||p.sawRoot&&!p.closedRoot||Re(p,"Text data outside of root node."),C==="&"?p.state=oe.TEXT_ENTITY:p.textNode+=C):(p.state=oe.OPEN_WAKA,p.startTagPosition=p.position);continue;case oe.SCRIPT:C==="<"?p.state=oe.SCRIPT_ENDING:p.script+=C;continue;case oe.SCRIPT_ENDING:C==="/"?p.state=oe.CLOSE_TAG:(p.script+="<"+C,p.state=oe.SCRIPT);continue;case oe.OPEN_WAKA:if(C==="!")p.state=oe.SGML_DECL,p.sgmlDecl="";else if(!ce(f,C))if(ce(z,C))p.state=oe.OPEN_TAG,p.tagName=C;else if(C==="/")p.state=oe.CLOSE_TAG,p.tagName="";else if(C==="?")p.state=oe.PROC_INST,p.procInstName=p.procInstBody="";else{if(Re(p,"Unencoded <"),p.startTagPosition+1<p.position){var ne=p.position-p.startTagPosition;C=new Array(ne).join(" ")+C}p.textNode+="<"+C,p.state=oe.TEXT}continue;case oe.SGML_DECL:(p.sgmlDecl+C).toUpperCase()==="[CDATA["?(Ne(p,"onopencdata"),p.state=oe.CDATA,p.sgmlDecl="",p.cdata=""):p.sgmlDecl+C==="--"?(p.state=oe.COMMENT,p.comment="",p.sgmlDecl=""):(p.sgmlDecl+C).toUpperCase()==="DOCTYPE"?(p.state=oe.DOCTYPE,(p.doctype||p.sawRoot)&&Re(p,"Inappropriately located doctype declaration"),p.doctype="",p.sgmlDecl=""):C===">"?(Ne(p,"onsgmldeclaration",p.sgmlDecl),p.sgmlDecl="",p.state=oe.TEXT):(ce(r,C)&&(p.state=oe.SGML_DECL_QUOTED),p.sgmlDecl+=C);continue;case oe.SGML_DECL_QUOTED:C===p.q&&(p.state=oe.SGML_DECL,p.q=""),p.sgmlDecl+=C;continue;case oe.DOCTYPE:C===">"?(p.state=oe.TEXT,Ne(p,"ondoctype",p.doctype),p.doctype=!0):(p.doctype+=C,C==="["?p.state=oe.DOCTYPE_DTD:ce(r,C)&&(p.state=oe.DOCTYPE_QUOTED,p.q=C));continue;case oe.DOCTYPE_QUOTED:p.doctype+=C,C===p.q&&(p.q="",p.state=oe.DOCTYPE);continue;case oe.DOCTYPE_DTD:p.doctype+=C,C==="]"?p.state=oe.DOCTYPE:ce(r,C)&&(p.state=oe.DOCTYPE_DTD_QUOTED,p.q=C);continue;case oe.DOCTYPE_DTD_QUOTED:p.doctype+=C,C===p.q&&(p.state=oe.DOCTYPE_DTD,p.q="");continue;case oe.COMMENT:C==="-"?p.state=oe.COMMENT_ENDING:p.comment+=C;continue;case oe.COMMENT_ENDING:C==="-"?(p.state=oe.COMMENT_ENDED,p.comment=Le(p.opt,p.comment),p.comment&&Ne(p,"oncomment",p.comment),p.comment=""):(p.comment+="-"+C,p.state=oe.COMMENT);continue;case oe.COMMENT_ENDED:C!==">"?(Re(p,"Malformed comment"),p.comment+="--"+C,p.state=oe.COMMENT):p.state=oe.TEXT;continue;case oe.CDATA:C==="]"?p.state=oe.CDATA_ENDING:p.cdata+=C;continue;case oe.CDATA_ENDING:C==="]"?p.state=oe.CDATA_ENDING_2:(p.cdata+="]"+C,p.state=oe.CDATA);continue;case oe.CDATA_ENDING_2:C===">"?(p.cdata&&Ne(p,"oncdata",p.cdata),Ne(p,"onclosecdata"),p.cdata="",p.state=oe.TEXT):C==="]"?p.cdata+="]":(p.cdata+="]]"+C,p.state=oe.CDATA);continue;case oe.PROC_INST:C==="?"?p.state=oe.PROC_INST_ENDING:ce(f,C)?p.state=oe.PROC_INST_BODY:p.procInstName+=C;continue;case oe.PROC_INST_BODY:if(!p.procInstBody&&ce(f,C))continue;C==="?"?p.state=oe.PROC_INST_ENDING:p.procInstBody+=C;continue;case oe.PROC_INST_ENDING:C===">"?(Ne(p,"onprocessinginstruction",{name:p.procInstName,body:p.procInstBody}),p.procInstName=p.procInstBody="",p.state=oe.TEXT):(p.procInstBody+="?"+C,p.state=oe.PROC_INST_BODY);continue;case oe.OPEN_TAG:ce(x,C)?p.tagName+=C:(Fe(p),C===">"?He(p):C==="/"?p.state=oe.OPEN_TAG_SLASH:($(f,C)&&Re(p,"Invalid character in tag name"),p.state=oe.ATTRIB));continue;case oe.OPEN_TAG_SLASH:C===">"?(He(p,!0),ot(p)):(Re(p,"Forward-slash in opening tag not followed by >"),p.state=oe.ATTRIB);continue;case oe.ATTRIB:if(ce(f,C))continue;C===">"?He(p):C==="/"?p.state=oe.OPEN_TAG_SLASH:ce(z,C)?(p.attribName=C,p.attribValue="",p.state=oe.ATTRIB_NAME):Re(p,"Invalid attribute name");continue;case oe.ATTRIB_NAME:C==="="?p.state=oe.ATTRIB_VALUE:C===">"?(Re(p,"Attribute without value"),p.attribValue=p.attribName,gt(p),He(p)):ce(f,C)?p.state=oe.ATTRIB_NAME_SAW_WHITE:ce(x,C)?p.attribName+=C:Re(p,"Invalid attribute name");continue;case oe.ATTRIB_NAME_SAW_WHITE:if(C==="=")p.state=oe.ATTRIB_VALUE;else{if(ce(f,C))continue;Re(p,"Attribute without value"),p.tag.attributes[p.attribName]="",p.attribValue="",Ne(p,"onattribute",{name:p.attribName,value:""}),p.attribName="",C===">"?He(p):ce(z,C)?(p.attribName=C,p.state=oe.ATTRIB_NAME):(Re(p,"Invalid attribute name"),p.state=oe.ATTRIB)}continue;case oe.ATTRIB_VALUE:if(ce(f,C))continue;ce(r,C)?(p.q=C,p.state=oe.ATTRIB_VALUE_QUOTED):(Re(p,"Unquoted attribute value"),p.state=oe.ATTRIB_VALUE_UNQUOTED,p.attribValue=C);continue;case oe.ATTRIB_VALUE_QUOTED:if(C!==p.q){C==="&"?p.state=oe.ATTRIB_VALUE_ENTITY_Q:p.attribValue+=C;continue}gt(p),p.q="",p.state=oe.ATTRIB_VALUE_CLOSED;continue;case oe.ATTRIB_VALUE_CLOSED:ce(f,C)?p.state=oe.ATTRIB:C===">"?He(p):C==="/"?p.state=oe.OPEN_TAG_SLASH:ce(z,C)?(Re(p,"No whitespace between attributes"),p.attribName=C,p.attribValue="",p.state=oe.ATTRIB_NAME):Re(p,"Invalid attribute name");continue;case oe.ATTRIB_VALUE_UNQUOTED:if($(u,C)){C==="&"?p.state=oe.ATTRIB_VALUE_ENTITY_U:p.attribValue+=C;continue}gt(p),C===">"?He(p):p.state=oe.ATTRIB;continue;case oe.CLOSE_TAG:if(p.tagName)C===">"?ot(p):ce(x,C)?p.tagName+=C:p.script?(p.script+="</"+p.tagName,p.tagName="",p.state=oe.SCRIPT):($(f,C)&&Re(p,"Invalid tagname in closing tag"),p.state=oe.CLOSE_TAG_SAW_WHITE);else{if(ce(f,C))continue;$(z,C)?p.script?(p.script+="</"+C,p.state=oe.SCRIPT):Re(p,"Invalid tagname in closing tag."):p.tagName=C}continue;case oe.CLOSE_TAG_SAW_WHITE:if(ce(f,C))continue;C===">"?ot(p):Re(p,"Invalid characters in closing tag");continue;case oe.TEXT_ENTITY:case oe.ATTRIB_VALUE_ENTITY_Q:case oe.ATTRIB_VALUE_ENTITY_U:var Me,nt;switch(p.state){case oe.TEXT_ENTITY:Me=oe.TEXT,nt="textNode";break;case oe.ATTRIB_VALUE_ENTITY_Q:Me=oe.ATTRIB_VALUE_QUOTED,nt="attribValue";break;case oe.ATTRIB_VALUE_ENTITY_U:Me=oe.ATTRIB_VALUE_UNQUOTED,nt="attribValue"}C===";"?(p[nt]+=Se(p),p.entity="",p.state=Me):ce(p.entity.length?k:re,C)?p.entity+=C:(Re(p,"Invalid character in entity name"),p[nt]+="&"+p.entity+C,p.entity="",p.state=Me);continue;default:throw new Error(p,"Unknown state: "+p.state)}return p.position>=p.bufferCheckPosition&&function(je){for(var Ge=Math.max(j.MAX_BUFFER_LENGTH,10),xe=0,Ye=0,at=o.length;Ye<at;Ye++){var St=je[o[Ye]].length;if(St>Ge)switch(o[Ye]){case"textNode":me(je);break;case"cdata":Ne(je,"oncdata",je.cdata),je.cdata="";break;case"script":Ne(je,"onscript",je.script),je.script="";break;default:qe(je,"Max buffer length exceeded: "+o[Ye])}xe=Math.max(xe,St)}var ft=j.MAX_BUFFER_LENGTH-xe;je.bufferCheckPosition=ft+je.position}(p),p},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var y;me(y=this),y.cdata!==""&&(Ne(y,"oncdata",y.cdata),y.cdata=""),y.script!==""&&(Ne(y,"onscript",y.script),y.script="")}};try{A=v(182).Stream}catch{A=function(){}}var E=j.EVENTS.filter(function(y){return y!=="error"&&y!=="end"});function _(y,p){if(!(this instanceof _))return new _(y,p);A.apply(this),this._parser=new i(y,p),this.writable=!0,this.readable=!0;var N=this;this._parser.onend=function(){N.emit("end")},this._parser.onerror=function(C){N.emit("error",C),N._parser.error=null},this._decoder=null,E.forEach(function(C){Object.defineProperty(N,"on"+C,{get:function(){return N._parser["on"+C]},set:function(ae){if(!ae)return N.removeAllListeners(C),N._parser["on"+C]=ae,ae;N.on(C,ae)},enumerable:!0,configurable:!1})})}_.prototype=Object.create(A.prototype,{constructor:{value:_}}),_.prototype.write=function(y){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(y)){if(!this._decoder){var p=v(7503).s;this._decoder=new p("utf8")}y=this._decoder.write(y)}return this._parser.write(y.toString()),this.emit("data",y),!0},_.prototype.end=function(y){return y&&y.length&&this.write(y),this._parser.end(),!0},_.prototype.on=function(y,p){var N=this;return N._parser["on"+y]||E.indexOf(y)===-1||(N._parser["on"+y]=function(){var C=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,y),N.emit.apply(N,C)}),A.prototype.on.call(N,y,p)};var f=`\r
	 `,R="0124356789",m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=`'"`,u=f+">",d="http://www.w3.org/XML/1998/namespace",I="http://www.w3.org/2000/xmlns/",Z={xml:d,xmlns:I};f=te(f),R=te(R),m=te(m);var z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function te(y){return y.split("").reduce(function(p,N){return p[N]=!0,p},{})}function ce(y,p){return function(N){return Object.prototype.toString.call(N)==="[object RegExp]"}(y)?!!p.match(y):y[p]}function $(y,p){return!ce(y,p)}r=te(r),u=te(u);var ue,he,Ce,oe=0;for(var be in j.STATE={BEGIN:oe++,BEGIN_WHITESPACE:oe++,TEXT:oe++,TEXT_ENTITY:oe++,OPEN_WAKA:oe++,SGML_DECL:oe++,SGML_DECL_QUOTED:oe++,DOCTYPE:oe++,DOCTYPE_QUOTED:oe++,DOCTYPE_DTD:oe++,DOCTYPE_DTD_QUOTED:oe++,COMMENT_STARTING:oe++,COMMENT:oe++,COMMENT_ENDING:oe++,COMMENT_ENDED:oe++,CDATA:oe++,CDATA_ENDING:oe++,CDATA_ENDING_2:oe++,PROC_INST:oe++,PROC_INST_BODY:oe++,PROC_INST_ENDING:oe++,OPEN_TAG:oe++,OPEN_TAG_SLASH:oe++,ATTRIB:oe++,ATTRIB_NAME:oe++,ATTRIB_NAME_SAW_WHITE:oe++,ATTRIB_VALUE:oe++,ATTRIB_VALUE_QUOTED:oe++,ATTRIB_VALUE_CLOSED:oe++,ATTRIB_VALUE_UNQUOTED:oe++,ATTRIB_VALUE_ENTITY_Q:oe++,ATTRIB_VALUE_ENTITY_U:oe++,CLOSE_TAG:oe++,CLOSE_TAG_SAW_WHITE:oe++,SCRIPT:oe++,SCRIPT_ENDING:oe++},j.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},j.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(j.ENTITIES).forEach(function(y){var p=j.ENTITIES[y],N=typeof p=="number"?String.fromCharCode(p):p;j.ENTITIES[y]=N}),j.STATE)j.STATE[j.STATE[be]]=be;function Pe(y,p,N){y[p]&&y[p](N)}function Ne(y,p,N){y.textNode&&me(y),Pe(y,p,N)}function me(y){y.textNode=Le(y.opt,y.textNode),y.textNode&&Pe(y,"ontext",y.textNode),y.textNode=""}function Le(y,p){return y.trim&&(p=p.trim()),y.normalize&&(p=p.replace(/\s+/g," ")),p}function qe(y,p){return me(y),y.trackPosition&&(p+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c),p=new Error(p),y.error=p,Pe(y,"onerror",p),y}function $e(y){return y.sawRoot&&!y.closedRoot&&Re(y,"Unclosed root tag"),y.state!==oe.BEGIN&&y.state!==oe.BEGIN_WHITESPACE&&y.state!==oe.TEXT&&qe(y,"Unexpected end"),me(y),y.c="",y.closed=!0,Pe(y,"onend"),i.call(y,y.strict,y.opt),y}function Re(y,p){if(typeof y!="object"||!(y instanceof i))throw new Error("bad call to strictFail");y.strict&&qe(y,p)}function Fe(y){y.strict||(y.tagName=y.tagName[y.looseCase]());var p=y.tags[y.tags.length-1]||y,N=y.tag={name:y.tagName,attributes:{}};y.opt.xmlns&&(N.ns=p.ns),y.attribList.length=0,Ne(y,"onopentagstart",N)}function Et(y,p){var N=y.indexOf(":")<0?["",y]:y.split(":"),C=N[0],ae=N[1];return p&&y==="xmlns"&&(C="xmlns",ae=""),{prefix:C,local:ae}}function gt(y){if(y.strict||(y.attribName=y.attribName[y.looseCase]()),y.attribList.indexOf(y.attribName)!==-1||y.tag.attributes.hasOwnProperty(y.attribName))y.attribName=y.attribValue="";else{if(y.opt.xmlns){var p=Et(y.attribName,!0),N=p.prefix,C=p.local;if(N==="xmlns")if(C==="xml"&&y.attribValue!==d)Re(y,"xml: prefix must be bound to "+d+`
Actual: `+y.attribValue);else if(C==="xmlns"&&y.attribValue!==I)Re(y,"xmlns: prefix must be bound to "+I+`
Actual: `+y.attribValue);else{var ae=y.tag,ne=y.tags[y.tags.length-1]||y;ae.ns===ne.ns&&(ae.ns=Object.create(ne.ns)),ae.ns[C]=y.attribValue}y.attribList.push([y.attribName,y.attribValue])}else y.tag.attributes[y.attribName]=y.attribValue,Ne(y,"onattribute",{name:y.attribName,value:y.attribValue});y.attribName=y.attribValue=""}}function He(y,p){if(y.opt.xmlns){var N=y.tag,C=Et(y.tagName);N.prefix=C.prefix,N.local=C.local,N.uri=N.ns[C.prefix]||"",N.prefix&&!N.uri&&(Re(y,"Unbound namespace prefix: "+JSON.stringify(y.tagName)),N.uri=C.prefix);var ae=y.tags[y.tags.length-1]||y;N.ns&&ae.ns!==N.ns&&Object.keys(N.ns).forEach(function(Yt){Ne(y,"onopennamespace",{prefix:Yt,uri:N.ns[Yt]})});for(var ne=0,Me=y.attribList.length;ne<Me;ne++){var nt=y.attribList[ne],je=nt[0],Ge=nt[1],xe=Et(je,!0),Ye=xe.prefix,at=xe.local,St=Ye===""?"":N.ns[Ye]||"",ft={name:je,value:Ge,prefix:Ye,local:at,uri:St};Ye&&Ye!=="xmlns"&&!St&&(Re(y,"Unbound namespace prefix: "+JSON.stringify(Ye)),ft.uri=Ye),y.tag.attributes[je]=ft,Ne(y,"onattribute",ft)}y.attribList.length=0}y.tag.isSelfClosing=!!p,y.sawRoot=!0,y.tags.push(y.tag),Ne(y,"onopentag",y.tag),p||(y.noscript||y.tagName.toLowerCase()!=="script"?y.state=oe.TEXT:y.state=oe.SCRIPT,y.tag=null,y.tagName=""),y.attribName=y.attribValue="",y.attribList.length=0}function ot(y){if(!y.tagName)return Re(y,"Weird empty close tag."),y.textNode+="</>",void(y.state=oe.TEXT);if(y.script){if(y.tagName!=="script")return y.script+="</"+y.tagName+">",y.tagName="",void(y.state=oe.SCRIPT);Ne(y,"onscript",y.script),y.script=""}var p=y.tags.length,N=y.tagName;y.strict||(N=N[y.looseCase]());for(var C=N;p--&&y.tags[p].name!==C;)Re(y,"Unexpected close tag");if(p<0)return Re(y,"Unmatched closing tag: "+y.tagName),y.textNode+="</"+y.tagName+">",void(y.state=oe.TEXT);y.tagName=N;for(var ae=y.tags.length;ae-- >p;){var ne=y.tag=y.tags.pop();y.tagName=y.tag.name,Ne(y,"onclosetag",y.tagName);var Me={};for(var nt in ne.ns)Me[nt]=ne.ns[nt];var je=y.tags[y.tags.length-1]||y;y.opt.xmlns&&ne.ns!==je.ns&&Object.keys(ne.ns).forEach(function(Ge){var xe=ne.ns[Ge];Ne(y,"onclosenamespace",{prefix:Ge,uri:xe})})}p===0&&(y.closedRoot=!0),y.tagName=y.attribValue=y.attribName="",y.attribList.length=0,y.state=oe.TEXT}function Se(y){var p,N=y.entity,C=N.toLowerCase(),ae="";return y.ENTITIES[N]?y.ENTITIES[N]:y.ENTITIES[C]?y.ENTITIES[C]:((N=C).charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),ae=(p=parseInt(N,16)).toString(16)):(N=N.slice(1),ae=(p=parseInt(N,10)).toString(10))),N=N.replace(/^0+/,""),ae.toLowerCase()!==N?(Re(y,"Invalid character entity"),"&"+y.entity+";"):String.fromCodePoint(p))}function we(y,p){p==="<"?(y.state=oe.OPEN_WAKA,y.startTagPosition=y.position):$(f,p)&&(Re(y,"Non-whitespace before first tag."),y.textNode=p,y.state=oe.TEXT)}function Ke(y,p){var N="";return p<y.length&&(N=y.charAt(p)),N}oe=j.STATE,String.fromCodePoint||(ue=String.fromCharCode,he=Math.floor,Ce=function(){var y,p,N=16384,C=[],ae=-1,ne=arguments.length;if(!ne)return"";for(var Me="";++ae<ne;){var nt=Number(arguments[ae]);if(!isFinite(nt)||nt<0||nt>1114111||he(nt)!==nt)throw RangeError("Invalid code point: "+nt);nt<=65535?C.push(nt):(y=55296+((nt-=65536)>>10),p=nt%1024+56320,C.push(y,p)),(ae+1===ne||C.length>N)&&(Me+=ue.apply(null,C),C.length=0)}return Me},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ce,configurable:!0,writable:!0}):String.fromCodePoint=Ce)})(Y)},182:function(U,Y,v){U.exports=A;var j=v(1159).EventEmitter;function A(){j.call(this)}v(1765)(A,j),A.Readable=v(2846),A.Writable=v(8318),A.Duplex=v(6138),A.Transform=v(9798),A.PassThrough=v(5472),A.finished=v(8800),A.pipeline=v(7295),A.Stream=A,A.prototype.pipe=function(o,i){var E=this;function _(I){o.writable&&o.write(I)===!1&&E.pause&&E.pause()}function f(){E.readable&&E.resume&&E.resume()}E.on("data",_),o.on("drain",f),o._isStdio||i&&i.end===!1||(E.on("end",m),E.on("close",r));var R=!1;function m(){R||(R=!0,o.end())}function r(){R||(R=!0,typeof o.destroy=="function"&&o.destroy())}function u(I){if(d(),j.listenerCount(this,"error")===0)throw I}function d(){E.removeListener("data",_),o.removeListener("drain",f),E.removeListener("end",m),E.removeListener("close",r),E.removeListener("error",u),o.removeListener("error",u),E.removeListener("end",d),E.removeListener("close",d),o.removeListener("close",d)}return E.on("error",u),o.on("error",u),E.on("end",d),E.on("close",d),o.on("close",d),o.emit("pipe",E),o}},1765:function(U){typeof Object.create=="function"?U.exports=function(Y,v){v&&(Y.super_=v,Y.prototype=Object.create(v.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(Y,v){if(v){Y.super_=v;var j=function(){};j.prototype=v.prototype,Y.prototype=new j,Y.prototype.constructor=Y}}},3690:function(U){var Y={};function v(A,o,i){i||(i=Error);var E=function(_){var f,R;function m(r,u,d){return _.call(this,function(I,Z,z){return typeof o=="string"?o:o(I,Z,z)}(r,u,d))||this}return R=_,(f=m).prototype=Object.create(R.prototype),f.prototype.constructor=f,f.__proto__=R,m}(i);E.prototype.name=i.name,E.prototype.code=A,Y[A]=E}function j(A,o){if(Array.isArray(A)){var i=A.length;return A=A.map(function(E){return String(E)}),i>2?"one of ".concat(o," ").concat(A.slice(0,i-1).join(", "),", or ")+A[i-1]:i===2?"one of ".concat(o," ").concat(A[0]," or ").concat(A[1]):"of ".concat(o," ").concat(A[0])}return"of ".concat(o," ").concat(String(A))}v("ERR_INVALID_OPT_VALUE",function(A,o){return'The value "'+o+'" is invalid for option "'+A+'"'},TypeError),v("ERR_INVALID_ARG_TYPE",function(A,o,i){var E,_,f,R,m;if(typeof o=="string"&&(_="not ",o.substr(0,_.length)===_)?(E="must not be",o=o.replace(/^not /,"")):E="must be",function(u,d,I){return(I===void 0||I>u.length)&&(I=u.length),u.substring(I-d.length,I)===d}(A," argument"))f="The ".concat(A," ").concat(E," ").concat(j(o,"type"));else{var r=(typeof m!="number"&&(m=0),m+1>(R=A).length||R.indexOf(".",m)===-1?"argument":"property");f='The "'.concat(A,'" ').concat(r," ").concat(E," ").concat(j(o,"type"))}return f+". Received type ".concat(typeof i)},TypeError),v("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),v("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),v("ERR_STREAM_PREMATURE_CLOSE","Premature close"),v("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),v("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),v("ERR_STREAM_WRITE_AFTER_END","write after end"),v("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),v("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.q=Y},6138:function(U,Y,v){var j=Object.keys||function(r){var u=[];for(var d in r)u.push(d);return u};U.exports=f;var A=v(2846),o=v(8318);v(1765)(f,A);for(var i=j(o.prototype),E=0;E<i.length;E++){var _=i[E];f.prototype[_]||(f.prototype[_]=o.prototype[_])}function f(r){if(!(this instanceof f))return new f(r);A.call(this,r),o.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",R)))}function R(){this._writableState.ended||process.nextTick(m,this)}function m(r){r.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},5472:function(U,Y,v){U.exports=A;var j=v(9798);function A(o){if(!(this instanceof A))return new A(o);j.call(this,o)}v(1765)(A,j),A.prototype._transform=function(o,i,E){E(null,o)}},2846:function(U,Y,v){var j;U.exports=ue,ue.ReadableState=$,v(1159).EventEmitter;var A,o=function(Se,we){return Se.listeners(we).length},i=v(9299),E=v(1549).Buffer,_=v.g.Uint8Array||function(){},f=v(964);A=f&&f.debuglog?f.debuglog("stream"):function(){};var R,m,r,u=v(8393),d=v(6163),I=v(7269).getHighWaterMark,Z=v(3690).q,z=Z.ERR_INVALID_ARG_TYPE,x=Z.ERR_STREAM_PUSH_AFTER_EOF,re=Z.ERR_METHOD_NOT_IMPLEMENTED,k=Z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;v(1765)(ue,i);var te=d.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function $(Se,we,Ke){j=j||v(6138),Se=Se||{},typeof Ke!="boolean"&&(Ke=we instanceof j),this.objectMode=!!Se.objectMode,Ke&&(this.objectMode=this.objectMode||!!Se.readableObjectMode),this.highWaterMark=I(this,Se,"readableHighWaterMark",Ke),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Se.emitClose!==!1,this.autoDestroy=!!Se.autoDestroy,this.destroyed=!1,this.defaultEncoding=Se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Se.encoding&&(R||(R=v(7503).s),this.decoder=new R(Se.encoding),this.encoding=Se.encoding)}function ue(Se){if(j=j||v(6138),!(this instanceof ue))return new ue(Se);var we=this instanceof j;this._readableState=new $(Se,this,we),this.readable=!0,Se&&(typeof Se.read=="function"&&(this._read=Se.read),typeof Se.destroy=="function"&&(this._destroy=Se.destroy)),i.call(this)}function he(Se,we,Ke,y,p){A("readableAddChunk",we);var N,C=Se._readableState;if(we===null)C.reading=!1,function(ae,ne){if(A("onEofChunk"),!ne.ended){if(ne.decoder){var Me=ne.decoder.end();Me&&Me.length&&(ne.buffer.push(Me),ne.length+=ne.objectMode?1:Me.length)}ne.ended=!0,ne.sync?Pe(ae):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,Ne(ae)))}}(Se,C);else if(p||(N=function(ae,ne){var Me,nt;return nt=ne,E.isBuffer(nt)||nt instanceof _||typeof ne=="string"||ne===void 0||ae.objectMode||(Me=new z("chunk",["string","Buffer","Uint8Array"],ne)),Me}(C,we)),N)te(Se,N);else if(C.objectMode||we&&we.length>0)if(typeof we=="string"||C.objectMode||Object.getPrototypeOf(we)===E.prototype||(we=function(ae){return E.from(ae)}(we)),y)C.endEmitted?te(Se,new k):Ce(Se,C,we,!0);else if(C.ended)te(Se,new x);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!Ke?(we=C.decoder.write(we),C.objectMode||we.length!==0?Ce(Se,C,we,!1):me(Se,C)):Ce(Se,C,we,!1)}else y||(C.reading=!1,me(Se,C));return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function Ce(Se,we,Ke,y){we.flowing&&we.length===0&&!we.sync?(we.awaitDrain=0,Se.emit("data",Ke)):(we.length+=we.objectMode?1:Ke.length,y?we.buffer.unshift(Ke):we.buffer.push(Ke),we.needReadable&&Pe(Se)),me(Se,we)}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Se){this._readableState&&(this._readableState.destroyed=Se)}}),ue.prototype.destroy=d.destroy,ue.prototype._undestroy=d.undestroy,ue.prototype._destroy=function(Se,we){we(Se)},ue.prototype.push=function(Se,we){var Ke,y=this._readableState;return y.objectMode?Ke=!0:typeof Se=="string"&&((we=we||y.defaultEncoding)!==y.encoding&&(Se=E.from(Se,we),we=""),Ke=!0),he(this,Se,we,!1,Ke)},ue.prototype.unshift=function(Se){return he(this,Se,null,!0,!1)},ue.prototype.isPaused=function(){return this._readableState.flowing===!1},ue.prototype.setEncoding=function(Se){R||(R=v(7503).s);var we=new R(Se);this._readableState.decoder=we,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ke=this._readableState.buffer.head,y="";Ke!==null;)y+=we.write(Ke.data),Ke=Ke.next;return this._readableState.buffer.clear(),y!==""&&this._readableState.buffer.push(y),this._readableState.length=y.length,this};var oe=1073741824;function be(Se,we){return Se<=0||we.length===0&&we.ended?0:we.objectMode?1:Se!=Se?we.flowing&&we.length?we.buffer.head.data.length:we.length:(Se>we.highWaterMark&&(we.highWaterMark=function(Ke){return Ke>=oe?Ke=oe:(Ke--,Ke|=Ke>>>1,Ke|=Ke>>>2,Ke|=Ke>>>4,Ke|=Ke>>>8,Ke|=Ke>>>16,Ke++),Ke}(Se)),Se<=we.length?Se:we.ended?we.length:(we.needReadable=!0,0))}function Pe(Se){var we=Se._readableState;A("emitReadable",we.needReadable,we.emittedReadable),we.needReadable=!1,we.emittedReadable||(A("emitReadable",we.flowing),we.emittedReadable=!0,process.nextTick(Ne,Se))}function Ne(Se){var we=Se._readableState;A("emitReadable_",we.destroyed,we.length,we.ended),we.destroyed||!we.length&&!we.ended||(Se.emit("readable"),we.emittedReadable=!1),we.needReadable=!we.flowing&&!we.ended&&we.length<=we.highWaterMark,Fe(Se)}function me(Se,we){we.readingMore||(we.readingMore=!0,process.nextTick(Le,Se,we))}function Le(Se,we){for(;!we.reading&&!we.ended&&(we.length<we.highWaterMark||we.flowing&&we.length===0);){var Ke=we.length;if(A("maybeReadMore read 0"),Se.read(0),Ke===we.length)break}we.readingMore=!1}function qe(Se){var we=Se._readableState;we.readableListening=Se.listenerCount("readable")>0,we.resumeScheduled&&!we.paused?we.flowing=!0:Se.listenerCount("data")>0&&Se.resume()}function $e(Se){A("readable nexttick read 0"),Se.read(0)}function Re(Se,we){A("resume",we.reading),we.reading||Se.read(0),we.resumeScheduled=!1,Se.emit("resume"),Fe(Se),we.flowing&&!we.reading&&Se.read(0)}function Fe(Se){var we=Se._readableState;for(A("flow",we.flowing);we.flowing&&Se.read()!==null;);}function Et(Se,we){return we.length===0?null:(we.objectMode?Ke=we.buffer.shift():!Se||Se>=we.length?(Ke=we.decoder?we.buffer.join(""):we.buffer.length===1?we.buffer.first():we.buffer.concat(we.length),we.buffer.clear()):Ke=we.buffer.consume(Se,we.decoder),Ke);var Ke}function gt(Se){var we=Se._readableState;A("endReadable",we.endEmitted),we.endEmitted||(we.ended=!0,process.nextTick(He,we,Se))}function He(Se,we){if(A("endReadableNT",Se.endEmitted,Se.length),!Se.endEmitted&&Se.length===0&&(Se.endEmitted=!0,we.readable=!1,we.emit("end"),Se.autoDestroy)){var Ke=we._writableState;(!Ke||Ke.autoDestroy&&Ke.finished)&&we.destroy()}}function ot(Se,we){for(var Ke=0,y=Se.length;Ke<y;Ke++)if(Se[Ke]===we)return Ke;return-1}ue.prototype.read=function(Se){A("read",Se),Se=parseInt(Se,10);var we=this._readableState,Ke=Se;if(Se!==0&&(we.emittedReadable=!1),Se===0&&we.needReadable&&((we.highWaterMark!==0?we.length>=we.highWaterMark:we.length>0)||we.ended))return A("read: emitReadable",we.length,we.ended),we.length===0&&we.ended?gt(this):Pe(this),null;if((Se=be(Se,we))===0&&we.ended)return we.length===0&&gt(this),null;var y,p=we.needReadable;return A("need readable",p),(we.length===0||we.length-Se<we.highWaterMark)&&A("length less than watermark",p=!0),we.ended||we.reading?A("reading or ended",p=!1):p&&(A("do read"),we.reading=!0,we.sync=!0,we.length===0&&(we.needReadable=!0),this._read(we.highWaterMark),we.sync=!1,we.reading||(Se=be(Ke,we))),(y=Se>0?Et(Se,we):null)===null?(we.needReadable=we.length<=we.highWaterMark,Se=0):(we.length-=Se,we.awaitDrain=0),we.length===0&&(we.ended||(we.needReadable=!0),Ke!==Se&&we.ended&&gt(this)),y!==null&&this.emit("data",y),y},ue.prototype._read=function(Se){te(this,new re("_read()"))},ue.prototype.pipe=function(Se,we){var Ke=this,y=this._readableState;switch(y.pipesCount){case 0:y.pipes=Se;break;case 1:y.pipes=[y.pipes,Se];break;default:y.pipes.push(Se)}y.pipesCount+=1,A("pipe count=%d opts=%j",y.pipesCount,we);var p=we&&we.end===!1||Se===process.stdout||Se===process.stderr?Ge:N;function N(){A("onend"),Se.end()}y.endEmitted?process.nextTick(p):Ke.once("end",p),Se.on("unpipe",function xe(Ye,at){A("onunpipe"),Ye===Ke&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,A("cleanup"),Se.removeListener("close",nt),Se.removeListener("finish",je),Se.removeListener("drain",C),Se.removeListener("error",Me),Se.removeListener("unpipe",xe),Ke.removeListener("end",N),Ke.removeListener("end",Ge),Ke.removeListener("data",ne),ae=!0,!y.awaitDrain||Se._writableState&&!Se._writableState.needDrain||C())});var C=function(xe){return function(){var Ye=xe._readableState;A("pipeOnDrain",Ye.awaitDrain),Ye.awaitDrain&&Ye.awaitDrain--,Ye.awaitDrain===0&&o(xe,"data")&&(Ye.flowing=!0,Fe(xe))}}(Ke);Se.on("drain",C);var ae=!1;function ne(xe){A("ondata");var Ye=Se.write(xe);A("dest.write",Ye),Ye===!1&&((y.pipesCount===1&&y.pipes===Se||y.pipesCount>1&&ot(y.pipes,Se)!==-1)&&!ae&&(A("false write response, pause",y.awaitDrain),y.awaitDrain++),Ke.pause())}function Me(xe){A("onerror",xe),Ge(),Se.removeListener("error",Me),o(Se,"error")===0&&te(Se,xe)}function nt(){Se.removeListener("finish",je),Ge()}function je(){A("onfinish"),Se.removeListener("close",nt),Ge()}function Ge(){A("unpipe"),Ke.unpipe(Se)}return Ke.on("data",ne),function(xe,Ye,at){if(typeof xe.prependListener=="function")return xe.prependListener(Ye,at);xe._events&&xe._events[Ye]?Array.isArray(xe._events[Ye])?xe._events[Ye].unshift(at):xe._events[Ye]=[at,xe._events[Ye]]:xe.on(Ye,at)}(Se,"error",Me),Se.once("close",nt),Se.once("finish",je),Se.emit("pipe",Ke),y.flowing||(A("pipe resume"),Ke.resume()),Se},ue.prototype.unpipe=function(Se){var we=this._readableState,Ke={hasUnpiped:!1};if(we.pipesCount===0)return this;if(we.pipesCount===1)return Se&&Se!==we.pipes||(Se||(Se=we.pipes),we.pipes=null,we.pipesCount=0,we.flowing=!1,Se&&Se.emit("unpipe",this,Ke)),this;if(!Se){var y=we.pipes,p=we.pipesCount;we.pipes=null,we.pipesCount=0,we.flowing=!1;for(var N=0;N<p;N++)y[N].emit("unpipe",this,{hasUnpiped:!1});return this}var C=ot(we.pipes,Se);return C===-1||(we.pipes.splice(C,1),we.pipesCount-=1,we.pipesCount===1&&(we.pipes=we.pipes[0]),Se.emit("unpipe",this,Ke)),this},ue.prototype.on=function(Se,we){var Ke=i.prototype.on.call(this,Se,we),y=this._readableState;return Se==="data"?(y.readableListening=this.listenerCount("readable")>0,y.flowing!==!1&&this.resume()):Se==="readable"&&(y.endEmitted||y.readableListening||(y.readableListening=y.needReadable=!0,y.flowing=!1,y.emittedReadable=!1,A("on readable",y.length,y.reading),y.length?Pe(this):y.reading||process.nextTick($e,this))),Ke},ue.prototype.addListener=ue.prototype.on,ue.prototype.removeListener=function(Se,we){var Ke=i.prototype.removeListener.call(this,Se,we);return Se==="readable"&&process.nextTick(qe,this),Ke},ue.prototype.removeAllListeners=function(Se){var we=i.prototype.removeAllListeners.apply(this,arguments);return Se!=="readable"&&Se!==void 0||process.nextTick(qe,this),we},ue.prototype.resume=function(){var Se=this._readableState;return Se.flowing||(A("resume"),Se.flowing=!Se.readableListening,function(we,Ke){Ke.resumeScheduled||(Ke.resumeScheduled=!0,process.nextTick(Re,we,Ke))}(this,Se)),Se.paused=!1,this},ue.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ue.prototype.wrap=function(Se){var we=this,Ke=this._readableState,y=!1;for(var p in Se.on("end",function(){if(A("wrapped end"),Ke.decoder&&!Ke.ended){var C=Ke.decoder.end();C&&C.length&&we.push(C)}we.push(null)}),Se.on("data",function(C){A("wrapped data"),Ke.decoder&&(C=Ke.decoder.write(C)),Ke.objectMode&&C==null||(Ke.objectMode||C&&C.length)&&(we.push(C)||(y=!0,Se.pause()))}),Se)this[p]===void 0&&typeof Se[p]=="function"&&(this[p]=function(C){return function(){return Se[C].apply(Se,arguments)}}(p));for(var N=0;N<ce.length;N++)Se.on(ce[N],this.emit.bind(this,ce[N]));return this._read=function(C){A("wrapped _read",C),y&&(y=!1,Se.resume())},this},typeof Symbol=="function"&&(ue.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=v(7299)),m(this)}),Object.defineProperty(ue.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ue.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ue.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Se){this._readableState&&(this._readableState.flowing=Se)}}),ue._fromList=Et,Object.defineProperty(ue.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(ue.from=function(Se,we){return r===void 0&&(r=v(6233)),r(ue,Se,we)})},9798:function(U,Y,v){U.exports=R;var j=v(3690).q,A=j.ERR_METHOD_NOT_IMPLEMENTED,o=j.ERR_MULTIPLE_CALLBACK,i=j.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=j.ERR_TRANSFORM_WITH_LENGTH_0,_=v(6138);function f(u,d){var I=this._transformState;I.transforming=!1;var Z=I.writecb;if(Z===null)return this.emit("error",new o);I.writechunk=null,I.writecb=null,d!=null&&this.push(d),Z(u);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function R(u){if(!(this instanceof R))return new R(u);_.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",m)}function m(){var u=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(d,I){r(u,d,I)})}function r(u,d,I){if(d)return u.emit("error",d);if(I!=null&&u.push(I),u._writableState.length)throw new E;if(u._transformState.transforming)throw new i;return u.push(null)}v(1765)(R,_),R.prototype.push=function(u,d){return this._transformState.needTransform=!1,_.prototype.push.call(this,u,d)},R.prototype._transform=function(u,d,I){I(new A("_transform()"))},R.prototype._write=function(u,d,I){var Z=this._transformState;if(Z.writecb=I,Z.writechunk=u,Z.writeencoding=d,!Z.transforming){var z=this._readableState;(Z.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},R.prototype._read=function(u){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},R.prototype._destroy=function(u,d){_.prototype._destroy.call(this,u,function(I){d(I)})}},8318:function(U,Y,v){function j(me){var Le=this;this.next=null,this.entry=null,this.finish=function(){(function(qe,$e,Re){var Fe=qe.entry;for(qe.entry=null;Fe;){var Et=Fe.callback;$e.pendingcb--,Et(void 0),Fe=Fe.next}$e.corkedRequestsFree.next=qe})(Le,me)}}var A;U.exports=ue,ue.WritableState=$;var o,i={deprecate:v(7839)},E=v(9299),_=v(1549).Buffer,f=v.g.Uint8Array||function(){},R=v(6163),m=v(7269).getHighWaterMark,r=v(3690).q,u=r.ERR_INVALID_ARG_TYPE,d=r.ERR_METHOD_NOT_IMPLEMENTED,I=r.ERR_MULTIPLE_CALLBACK,Z=r.ERR_STREAM_CANNOT_PIPE,z=r.ERR_STREAM_DESTROYED,x=r.ERR_STREAM_NULL_VALUES,re=r.ERR_STREAM_WRITE_AFTER_END,k=r.ERR_UNKNOWN_ENCODING,te=R.errorOrDestroy;function ce(){}function $(me,Le,qe){A=A||v(6138),me=me||{},typeof qe!="boolean"&&(qe=Le instanceof A),this.objectMode=!!me.objectMode,qe&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=m(this,me,"writableHighWaterMark",qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $e=me.decodeStrings===!1;this.decodeStrings=!$e,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){(function(Fe,Et){var gt=Fe._writableState,He=gt.sync,ot=gt.writecb;if(typeof ot!="function")throw new I;if(function(we){we.writing=!1,we.writecb=null,we.length-=we.writelen,we.writelen=0}(gt),Et)(function(we,Ke,y,p,N){--Ke.pendingcb,y?(process.nextTick(N,p),process.nextTick(Ne,we,Ke),we._writableState.errorEmitted=!0,te(we,p)):(N(p),we._writableState.errorEmitted=!0,te(we,p),Ne(we,Ke))})(Fe,gt,He,Et,ot);else{var Se=be(gt)||Fe.destroyed;Se||gt.corked||gt.bufferProcessing||!gt.bufferedRequest||oe(Fe,gt),He?process.nextTick(Ce,Fe,gt,Se,ot):Ce(Fe,gt,Se,ot)}})(Le,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.autoDestroy=!!me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function ue(me){var Le=this instanceof(A=A||v(6138));if(!Le&&!o.call(ue,this))return new ue(me);this._writableState=new $(me,this,Le),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),E.call(this)}function he(me,Le,qe,$e,Re,Fe,Et){Le.writelen=$e,Le.writecb=Et,Le.writing=!0,Le.sync=!0,Le.destroyed?Le.onwrite(new z("write")):qe?me._writev(Re,Le.onwrite):me._write(Re,Fe,Le.onwrite),Le.sync=!1}function Ce(me,Le,qe,$e){qe||function(Re,Fe){Fe.length===0&&Fe.needDrain&&(Fe.needDrain=!1,Re.emit("drain"))}(me,Le),Le.pendingcb--,$e(),Ne(me,Le)}function oe(me,Le){Le.bufferProcessing=!0;var qe=Le.bufferedRequest;if(me._writev&&qe&&qe.next){var $e=Le.bufferedRequestCount,Re=new Array($e),Fe=Le.corkedRequestsFree;Fe.entry=qe;for(var Et=0,gt=!0;qe;)Re[Et]=qe,qe.isBuf||(gt=!1),qe=qe.next,Et+=1;Re.allBuffers=gt,he(me,Le,!0,Le.length,Re,"",Fe.finish),Le.pendingcb++,Le.lastBufferedRequest=null,Fe.next?(Le.corkedRequestsFree=Fe.next,Fe.next=null):Le.corkedRequestsFree=new j(Le),Le.bufferedRequestCount=0}else{for(;qe;){var He=qe.chunk,ot=qe.encoding,Se=qe.callback;if(he(me,Le,!1,Le.objectMode?1:He.length,He,ot,Se),qe=qe.next,Le.bufferedRequestCount--,Le.writing)break}qe===null&&(Le.lastBufferedRequest=null)}Le.bufferedRequest=qe,Le.bufferProcessing=!1}function be(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function Pe(me,Le){me._final(function(qe){Le.pendingcb--,qe&&te(me,qe),Le.prefinished=!0,me.emit("prefinish"),Ne(me,Le)})}function Ne(me,Le){var qe=be(Le);if(qe&&(function(Re,Fe){Fe.prefinished||Fe.finalCalled||(typeof Re._final!="function"||Fe.destroyed?(Fe.prefinished=!0,Re.emit("prefinish")):(Fe.pendingcb++,Fe.finalCalled=!0,process.nextTick(Pe,Re,Fe)))}(me,Le),Le.pendingcb===0&&(Le.finished=!0,me.emit("finish"),Le.autoDestroy))){var $e=me._readableState;(!$e||$e.autoDestroy&&$e.endEmitted)&&me.destroy()}return qe}v(1765)(ue,E),$.prototype.getBuffer=function(){for(var me=this.bufferedRequest,Le=[];me;)Le.push(me),me=me.next;return Le},function(){try{Object.defineProperty($.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(me){return!!o.call(this,me)||this===ue&&me&&me._writableState instanceof $}})):o=function(me){return me instanceof this},ue.prototype.pipe=function(){te(this,new Z)},ue.prototype.write=function(me,Le,qe){var $e,Re=this._writableState,Fe=!1,Et=!Re.objectMode&&($e=me,_.isBuffer($e)||$e instanceof f);return Et&&!_.isBuffer(me)&&(me=function(gt){return _.from(gt)}(me)),typeof Le=="function"&&(qe=Le,Le=null),Et?Le="buffer":Le||(Le=Re.defaultEncoding),typeof qe!="function"&&(qe=ce),Re.ending?function(gt,He){var ot=new re;te(gt,ot),process.nextTick(He,ot)}(this,qe):(Et||function(gt,He,ot,Se){var we;return ot===null?we=new x:typeof ot=="string"||He.objectMode||(we=new u("chunk",["string","Buffer"],ot)),!we||(te(gt,we),process.nextTick(Se,we),!1)}(this,Re,me,qe))&&(Re.pendingcb++,Fe=function(gt,He,ot,Se,we,Ke){if(!ot){var y=function(ae,ne,Me){return ae.objectMode||ae.decodeStrings===!1||typeof ne!="string"||(ne=_.from(ne,Me)),ne}(He,Se,we);Se!==y&&(ot=!0,we="buffer",Se=y)}var p=He.objectMode?1:Se.length;He.length+=p;var N=He.length<He.highWaterMark;if(N||(He.needDrain=!0),He.writing||He.corked){var C=He.lastBufferedRequest;He.lastBufferedRequest={chunk:Se,encoding:we,isBuf:ot,callback:Ke,next:null},C?C.next=He.lastBufferedRequest:He.bufferedRequest=He.lastBufferedRequest,He.bufferedRequestCount+=1}else he(gt,He,!1,p,Se,we,Ke);return N}(this,Re,Et,me,Le,qe)),Fe},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,me.writing||me.corked||me.bufferProcessing||!me.bufferedRequest||oe(this,me))},ue.prototype.setDefaultEncoding=function(me){if(typeof me=="string"&&(me=me.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((me+"").toLowerCase())>-1))throw new k(me);return this._writableState.defaultEncoding=me,this},Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ue.prototype._write=function(me,Le,qe){qe(new d("_write()"))},ue.prototype._writev=null,ue.prototype.end=function(me,Le,qe){var $e=this._writableState;return typeof me=="function"?(qe=me,me=null,Le=null):typeof Le=="function"&&(qe=Le,Le=null),me!=null&&this.write(me,Le),$e.corked&&($e.corked=1,this.uncork()),$e.ending||function(Re,Fe,Et){Fe.ending=!0,Ne(Re,Fe),Et&&(Fe.finished?process.nextTick(Et):Re.once("finish",Et)),Fe.ended=!0,Re.writable=!1}(this,$e,qe),this},Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(me){this._writableState&&(this._writableState.destroyed=me)}}),ue.prototype.destroy=R.destroy,ue.prototype._undestroy=R.undestroy,ue.prototype._destroy=function(me,Le){Le(me)}},7299:function(U,Y,v){var j;function A(x,re,k){return re in x?Object.defineProperty(x,re,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[re]=k,x}var o=v(8800),i=Symbol("lastResolve"),E=Symbol("lastReject"),_=Symbol("error"),f=Symbol("ended"),R=Symbol("lastPromise"),m=Symbol("handlePromise"),r=Symbol("stream");function u(x,re){return{value:x,done:re}}function d(x){var re=x[i];if(re!==null){var k=x[r].read();k!==null&&(x[R]=null,x[i]=null,x[E]=null,re(u(k,!1)))}}function I(x){process.nextTick(d,x)}var Z=Object.getPrototypeOf(function(){}),z=Object.setPrototypeOf((A(j={get stream(){return this[r]},next:function(){var x=this,re=this[_];if(re!==null)return Promise.reject(re);if(this[f])return Promise.resolve(u(void 0,!0));if(this[r].destroyed)return new Promise(function($,ue){process.nextTick(function(){x[_]?ue(x[_]):$(u(void 0,!0))})});var k,te=this[R];if(te)k=new Promise(function($,ue){return function(he,Ce){$.then(function(){ue[f]?he(u(void 0,!0)):ue[m](he,Ce)},Ce)}}(te,this));else{var ce=this[r].read();if(ce!==null)return Promise.resolve(u(ce,!1));k=new Promise(this[m])}return this[R]=k,k}},Symbol.asyncIterator,function(){return this}),A(j,"return",function(){var x=this;return new Promise(function(re,k){x[r].destroy(null,function(te){te?k(te):re(u(void 0,!0))})})}),j),Z);U.exports=function(x){var re,k=Object.create(z,(A(re={},r,{value:x,writable:!0}),A(re,i,{value:null,writable:!0}),A(re,E,{value:null,writable:!0}),A(re,_,{value:null,writable:!0}),A(re,f,{value:x._readableState.endEmitted,writable:!0}),A(re,m,{value:function(te,ce){var $=k[r].read();$?(k[R]=null,k[i]=null,k[E]=null,te(u($,!1))):(k[i]=te,k[E]=ce)},writable:!0}),re));return k[R]=null,o(x,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=k[E];return ce!==null&&(k[R]=null,k[i]=null,k[E]=null,ce(te)),void(k[_]=te)}var $=k[i];$!==null&&(k[R]=null,k[i]=null,k[E]=null,$(u(void 0,!0))),k[f]=!0}),x.on("readable",I.bind(null,k)),k}},8393:function(U,Y,v){function j(f,R){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(f);R&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(f,u).enumerable})),m.push.apply(m,r)}return m}function A(f,R,m){return R in f?Object.defineProperty(f,R,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[R]=m,f}function o(f,R){for(var m=0;m<R.length;m++){var r=R[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}var i=v(1549).Buffer,E=v(9862).inspect,_=E&&E.custom||"inspect";U.exports=function(){function f(){(function(r,u){if(!(r instanceof u))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var R,m;return R=f,m=[{key:"push",value:function(r){var u={data:r,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(r){var u={data:r,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=r+u.data;return d}},{key:"concat",value:function(r){if(this.length===0)return i.alloc(0);for(var u,d,I,Z=i.allocUnsafe(r>>>0),z=this.head,x=0;z;)u=z.data,d=Z,I=x,i.prototype.copy.call(u,d,I),x+=z.data.length,z=z.next;return Z}},{key:"consume",value:function(r,u){var d;return r<this.head.data.length?(d=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):d=r===this.head.data.length?this.shift():u?this._getString(r):this._getBuffer(r),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var u=this.head,d=1,I=u.data;for(r-=I.length;u=u.next;){var Z=u.data,z=r>Z.length?Z.length:r;if(z===Z.length?I+=Z:I+=Z.slice(0,r),(r-=z)==0){z===Z.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=Z.slice(z));break}++d}return this.length-=d,I}},{key:"_getBuffer",value:function(r){var u=i.allocUnsafe(r),d=this.head,I=1;for(d.data.copy(u),r-=d.data.length;d=d.next;){var Z=d.data,z=r>Z.length?Z.length:r;if(Z.copy(u,u.length-r,0,z),(r-=z)==0){z===Z.length?(++I,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=Z.slice(z));break}++I}return this.length-=I,u}},{key:_,value:function(r,u){return E(this,function(d){for(var I=1;I<arguments.length;I++){var Z=arguments[I]!=null?arguments[I]:{};I%2?j(Object(Z),!0).forEach(function(z){A(d,z,Z[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(Z)):j(Object(Z)).forEach(function(z){Object.defineProperty(d,z,Object.getOwnPropertyDescriptor(Z,z))})}return d}({},u,{depth:0,customInspect:!1}))}}],m&&o(R.prototype,m),f}()},6163:function(U){function Y(A,o){j(A,o),v(A)}function v(A){A._writableState&&!A._writableState.emitClose||A._readableState&&!A._readableState.emitClose||A.emit("close")}function j(A,o){A.emit("error",o)}U.exports={destroy:function(A,o){var i=this,E=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return E||_?(o?o(A):A&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(j,this,A)):process.nextTick(j,this,A)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(A||null,function(f){!o&&f?i._writableState?i._writableState.errorEmitted?process.nextTick(v,i):(i._writableState.errorEmitted=!0,process.nextTick(Y,i,f)):process.nextTick(Y,i,f):o?(process.nextTick(v,i),o(f)):process.nextTick(v,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(A,o){var i=A._readableState,E=A._writableState;i&&i.autoDestroy||E&&E.autoDestroy?A.destroy(o):A.emit("error",o)}}},8800:function(U,Y,v){var j=v(3690).q.ERR_STREAM_PREMATURE_CLOSE;function A(){}U.exports=function o(i,E,_){if(typeof E=="function")return o(i,null,E);E||(E={}),_=function(re){var k=!1;return function(){if(!k){k=!0;for(var te=arguments.length,ce=new Array(te),$=0;$<te;$++)ce[$]=arguments[$];re.apply(this,ce)}}}(_||A);var f=E.readable||E.readable!==!1&&i.readable,R=E.writable||E.writable!==!1&&i.writable,m=function(){i.writable||u()},r=i._writableState&&i._writableState.finished,u=function(){R=!1,r=!0,f||_.call(i)},d=i._readableState&&i._readableState.endEmitted,I=function(){f=!1,d=!0,R||_.call(i)},Z=function(re){_.call(i,re)},z=function(){var re;return f&&!d?(i._readableState&&i._readableState.ended||(re=new j),_.call(i,re)):R&&!r?(i._writableState&&i._writableState.ended||(re=new j),_.call(i,re)):void 0},x=function(){i.req.on("finish",u)};return function(re){return re.setHeader&&typeof re.abort=="function"}(i)?(i.on("complete",u),i.on("abort",z),i.req?x():i.on("request",x)):R&&!i._writableState&&(i.on("end",m),i.on("close",m)),i.on("end",I),i.on("finish",u),E.error!==!1&&i.on("error",Z),i.on("close",z),function(){i.removeListener("complete",u),i.removeListener("abort",z),i.removeListener("request",x),i.req&&i.req.removeListener("finish",u),i.removeListener("end",m),i.removeListener("close",m),i.removeListener("finish",u),i.removeListener("end",I),i.removeListener("error",Z),i.removeListener("close",z)}}},6233:function(U){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(U,Y,v){var j,A=v(3690).q,o=A.ERR_MISSING_ARGS,i=A.ERR_STREAM_DESTROYED;function E(r){if(r)throw r}function _(r,u,d,I){I=function(x){var re=!1;return function(){re||(re=!0,x.apply(void 0,arguments))}}(I);var Z=!1;r.on("close",function(){Z=!0}),j===void 0&&(j=v(8800)),j(r,{readable:u,writable:d},function(x){if(x)return I(x);Z=!0,I()});var z=!1;return function(x){if(!Z&&!z)return z=!0,function(re){return re.setHeader&&typeof re.abort=="function"}(r)?r.abort():typeof r.destroy=="function"?r.destroy():void I(x||new i("pipe"))}}function f(r){r()}function R(r,u){return r.pipe(u)}function m(r){return r.length?typeof r[r.length-1]!="function"?E:r.pop():E}U.exports=function(){for(var r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];var I,Z=m(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new o("streams");var z=u.map(function(x,re){var k=re<u.length-1;return _(x,k,re>0,function(te){I||(I=te),te&&z.forEach(f),k||(z.forEach(f),Z(I))})});return u.reduce(R)}},7269:function(U,Y,v){var j=v(3690).q.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:function(A,o,i,E){var _=function(f,R,m){return f.highWaterMark!=null?f.highWaterMark:R?f[m]:null}(o,E,i);if(_!=null){if(!isFinite(_)||Math.floor(_)!==_||_<0)throw new j(E?i:"highWaterMark",_);return Math.floor(_)}return A.objectMode?16:16384}}},9299:function(U,Y,v){U.exports=v(1159).EventEmitter},7503:function(U,Y,v){var j=v(8387).Buffer,A=j.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(d){var I;switch(this.encoding=function(Z){var z=function(x){if(!x)return"utf8";for(var re;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(re)return;x=(""+x).toLowerCase(),re=!0}}(Z);if(typeof z!="string"&&(j.isEncoding===A||!A(Z)))throw new Error("Unknown encoding: "+Z);return z||Z}(d),this.encoding){case"utf16le":this.text=_,this.end=f,I=4;break;case"utf8":this.fillLast=E,I=4;break;case"base64":this.text=R,this.end=m,I=3;break;default:return this.write=r,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(I)}function i(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function E(d){var I=this.lastTotal-this.lastNeed,Z=function(z,x,re){if((192&x[0])!=128)return z.lastNeed=0,"�";if(z.lastNeed>1&&x.length>1){if((192&x[1])!=128)return z.lastNeed=1,"�";if(z.lastNeed>2&&x.length>2&&(192&x[2])!=128)return z.lastNeed=2,"�"}}(this,d);return Z!==void 0?Z:this.lastNeed<=d.length?(d.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,I,0,d.length),void(this.lastNeed-=d.length))}function _(d,I){if((d.length-I)%2==0){var Z=d.toString("utf16le",I);if(Z){var z=Z.charCodeAt(Z.length-1);if(z>=55296&&z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],Z.slice(0,-1)}return Z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",I,d.length-1)}function f(d){var I=d&&d.length?this.write(d):"";if(this.lastNeed){var Z=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,Z)}return I}function R(d,I){var Z=(d.length-I)%3;return Z===0?d.toString("base64",I):(this.lastNeed=3-Z,this.lastTotal=3,Z===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",I,d.length-Z))}function m(d){var I=d&&d.length?this.write(d):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function r(d){return d.toString(this.encoding)}function u(d){return d&&d.length?this.write(d):""}Y.s=o,o.prototype.write=function(d){if(d.length===0)return"";var I,Z;if(this.lastNeed){if((I=this.fillLast(d))===void 0)return"";Z=this.lastNeed,this.lastNeed=0}else Z=0;return Z<d.length?I?I+this.text(d,Z):this.text(d,Z):I||""},o.prototype.end=function(d){var I=d&&d.length?this.write(d):"";return this.lastNeed?I+"�":I},o.prototype.text=function(d,I){var Z=function(x,re,k){var te=re.length-1;if(te<k)return 0;var ce=i(re[te]);return ce>=0?(ce>0&&(x.lastNeed=ce-1),ce):--te<k||ce===-2?0:(ce=i(re[te]))>=0?(ce>0&&(x.lastNeed=ce-2),ce):--te<k||ce===-2?0:(ce=i(re[te]))>=0?(ce>0&&(ce===2?ce=0:x.lastNeed=ce-3),ce):0}(this,d,I);if(!this.lastNeed)return d.toString("utf8",I);this.lastTotal=Z;var z=d.length-(Z-this.lastNeed);return d.copy(this.lastChar,0,z),d.toString("utf8",I,z)},o.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},1067:function(U,Y,v){var j;(function(A,o){var i="function",E="undefined",_="object",f="string",R="major",m="model",r="name",u="type",d="vendor",I="version",Z="architecture",z="console",x="mobile",re="tablet",k="smarttv",te="wearable",ce="embedded",$="Amazon",ue="Apple",he="ASUS",Ce="BlackBerry",oe="Browser",be="Chrome",Pe="Firefox",Ne="Google",me="Huawei",Le="LG",qe="Microsoft",$e="Motorola",Re="Opera",Fe="Samsung",Et="Sharp",gt="Sony",He="Xiaomi",ot="Zebra",Se="Facebook",we="Chromium OS",Ke="Mac OS",y=function(Ye){for(var at={},St=0;St<Ye.length;St++)at[Ye[St].toUpperCase()]=Ye[St];return at},p=function(Ye,at){return typeof Ye===f&&N(at).indexOf(N(Ye))!==-1},N=function(Ye){return Ye.toLowerCase()},C=function(Ye,at){if(typeof Ye===f)return Ye=Ye.replace(/^\s\s*/,""),typeof at===E?Ye:Ye.substring(0,500)},ae=function(Ye,at){for(var St,ft,Yt,Ot,Gt,Zt,fn=0;fn<at.length&&!Gt;){var Sn=at[fn],kn=at[fn+1];for(St=ft=0;St<Sn.length&&!Gt&&Sn[St];)if(Gt=Sn[St++].exec(Ye))for(Yt=0;Yt<kn.length;Yt++)Zt=Gt[++ft],typeof(Ot=kn[Yt])===_&&Ot.length>0?Ot.length===2?typeof Ot[1]==i?this[Ot[0]]=Ot[1].call(this,Zt):this[Ot[0]]=Ot[1]:Ot.length===3?typeof Ot[1]!==i||Ot[1].exec&&Ot[1].test?this[Ot[0]]=Zt?Zt.replace(Ot[1],Ot[2]):o:this[Ot[0]]=Zt?Ot[1].call(this,Zt,Ot[2]):o:Ot.length===4&&(this[Ot[0]]=Zt?Ot[3].call(this,Zt.replace(Ot[1],Ot[2])):o):this[Ot]=Zt||o;fn+=2}},ne=function(Ye,at){for(var St in at)if(typeof at[St]===_&&at[St].length>0){for(var ft=0;ft<at[St].length;ft++)if(p(at[St][ft],Ye))return St==="?"?o:St}else if(p(at[St],Ye))return St==="?"?o:St;return Ye},Me={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},nt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[I,[r,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[I,[r,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[r,I],[/opios[\/ ]+([\w\.]+)/i],[I,[r,Re+" Mini"]],[/\bopr\/([\w\.]+)/i],[I,[r,Re]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[I,[r,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[r,I],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[I,[r,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[I,[r,"WeChat"]],[/konqueror\/([\w\.]+)/i],[I,[r,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[I,[r,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[I,[r,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[I,[r,"Smart Lenovo "+oe]],[/(avast|avg)\/([\w\.]+)/i],[[r,/(.+)/,"$1 Secure "+oe],I],[/\bfocus\/([\w\.]+)/i],[I,[r,Pe+" Focus"]],[/\bopt\/([\w\.]+)/i],[I,[r,Re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[I,[r,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[I,[r,"Dolphin"]],[/coast\/([\w\.]+)/i],[I,[r,Re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[I,[r,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[I,[r,Pe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[r,"360 "+oe]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[r,/(.+)/,"$1 "+oe],I],[/samsungbrowser\/([\w\.]+)/i],[I,[r,Fe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],I],[/metasr[\/ ]?([\d\.]+)/i],[I,[r,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[r,"Sogou Mobile"],I],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[r,I],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[r],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[r,Se],I],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[r,I],[/\bgsa\/([\w\.]+) .*safari\//i],[I,[r,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[I,[r,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[I,[r,be+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[r,be+" WebView"],I],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[I,[r,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[r,I],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[I,[r,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[I,r],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[r,[I,ne,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[r,I],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[r,"Netscape"],I],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[I,[r,Pe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[r,I],[/(cobalt)\/([\w\.]+)/i],[r,[I,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Z,"amd64"]],[/(ia32(?=;))/i],[[Z,N]],[/((?:i[346]|x)86)[;\)]/i],[[Z,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Z,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Z,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Z,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Z,/ower/,"",N]],[/(sun4\w)[;\)]/i],[[Z,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Z,N]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[d,Fe],[u,re]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[d,Fe],[u,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[d,ue],[u,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[d,ue],[u,re]],[/(macintosh);/i],[m,[d,ue]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[d,Et],[u,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[d,me],[u,re]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[d,me],[u,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[d,He],[u,x]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[d,He],[u,re]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[d,"OPPO"],[u,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[d,"Vivo"],[u,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[d,"Realme"],[u,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[d,$e],[u,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[d,$e],[u,re]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[d,Le],[u,re]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[d,Le],[u,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[d,"Lenovo"],[u,re]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[d,"Nokia"],[u,x]],[/(pixel c)\b/i],[m,[d,Ne],[u,re]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[d,Ne],[u,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[d,gt],[u,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[d,gt],[u,re]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[d,"OnePlus"],[u,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[d,$],[u,re]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[d,$],[u,x]],[/(playbook);[-\w\),; ]+(rim)/i],[m,d,[u,re]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[d,Ce],[u,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[d,he],[u,re]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[d,he],[u,x]],[/(nexus 9)/i],[m,[d,"HTC"],[u,re]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[m,/_/g," "],[u,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[d,"Acer"],[u,re]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[d,"Meizu"],[u,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[d,"Ulefone"],[u,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,m,[u,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,m,[u,re]],[/(surface duo)/i],[m,[d,qe],[u,re]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[d,"Fairphone"],[u,x]],[/(u304aa)/i],[m,[d,"AT&T"],[u,x]],[/\bsie-(\w*)/i],[m,[d,"Siemens"],[u,x]],[/\b(rct\w+) b/i],[m,[d,"RCA"],[u,re]],[/\b(venue[\d ]{2,7}) b/i],[m,[d,"Dell"],[u,re]],[/\b(q(?:mv|ta)\w+) b/i],[m,[d,"Verizon"],[u,re]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[d,"Barnes & Noble"],[u,re]],[/\b(tm\d{3}\w+) b/i],[m,[d,"NuVision"],[u,re]],[/\b(k88) b/i],[m,[d,"ZTE"],[u,re]],[/\b(nx\d{3}j) b/i],[m,[d,"ZTE"],[u,x]],[/\b(gen\d{3}) b.+49h/i],[m,[d,"Swiss"],[u,x]],[/\b(zur\d{3}) b/i],[m,[d,"Swiss"],[u,re]],[/\b((zeki)?tb.*\b) b/i],[m,[d,"Zeki"],[u,re]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],m,[u,re]],[/\b(ns-?\w{0,9}) b/i],[m,[d,"Insignia"],[u,re]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[d,"NextBook"],[u,re]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],m,[u,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],m,[u,x]],[/\b(ph-1) /i],[m,[d,"Essential"],[u,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[d,"Envizen"],[u,re]],[/\b(trio[-\w\. ]+) b/i],[m,[d,"MachSpeed"],[u,re]],[/\btu_(1491) b/i],[m,[d,"Rotor"],[u,re]],[/(shield[\w ]+) b/i],[m,[d,"Nvidia"],[u,re]],[/(sprint) (\w+)/i],[d,m,[u,x]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[d,qe],[u,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[d,ot],[u,re]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[d,ot],[u,x]],[/smart-tv.+(samsung)/i],[d,[u,k]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[d,Fe],[u,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,Le],[u,k]],[/(apple) ?tv/i],[d,[m,ue+" TV"],[u,k]],[/crkey/i],[[m,be+"cast"],[d,Ne],[u,k]],[/droid.+aft(\w+)( bui|\))/i],[m,[d,$],[u,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[d,Et],[u,k]],[/(bravia[\w ]+)( bui|\))/i],[m,[d,gt],[u,k]],[/(mitv-\w{5}) bui/i],[m,[d,He],[u,k]],[/Hbbtv.*(technisat) (.*);/i],[d,m,[u,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,C],[m,C],[u,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,m,[u,z]],[/droid.+; (shield) bui/i],[m,[d,"Nvidia"],[u,z]],[/(playstation [345portablevi]+)/i],[m,[d,gt],[u,z]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[d,qe],[u,z]],[/((pebble))app/i],[d,m,[u,te]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[d,ue],[u,te]],[/droid.+; (glass) \d/i],[m,[d,Ne],[u,te]],[/droid.+; (wt63?0{2,3})\)/i],[m,[d,ot],[u,te]],[/(quest( 2| pro)?)/i],[m,[d,Se],[u,te]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[u,ce]],[/(aeobc)\b/i],[m,[d,$],[u,ce]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[u,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[u,re]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,re]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,x]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[I,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[I,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[r,I],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[I,r]],os:[[/microsoft (windows) (vista|xp)/i],[r,I],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[r,[I,ne,Me]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[I,ne,Me],[r,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[I,/_/g,"."],[r,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[r,Ke],[I,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[I,r],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[r,I],[/\(bb(10);/i],[I,[r,Ce]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[I,[r,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[I,[r,Pe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[I,[r,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[I,[r,"watchOS"]],[/crkey\/([\d\.]+)/i],[I,[r,be+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[r,we],I],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[r,I],[/(sunos) ?([\w\.\d]*)/i],[[r,"Solaris"],I],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[r,I]]},je=function(Ye,at){if(typeof Ye===_&&(at=Ye,Ye=o),!(this instanceof je))return new je(Ye,at).getResult();var St=typeof A!==E&&A.navigator?A.navigator:o,ft=Ye||(St&&St.userAgent?St.userAgent:""),Yt=St&&St.userAgentData?St.userAgentData:o,Ot=at?function(Zt,fn){var Sn={};for(var kn in Zt)fn[kn]&&fn[kn].length%2==0?Sn[kn]=fn[kn].concat(Zt[kn]):Sn[kn]=Zt[kn];return Sn}(nt,at):nt,Gt=St&&St.userAgent==ft;return this.getBrowser=function(){var Zt,fn={};return fn[r]=o,fn[I]=o,ae.call(fn,ft,Ot.browser),fn[R]=typeof(Zt=fn[I])===f?Zt.replace(/[^\d\.]/g,"").split(".")[0]:o,Gt&&St&&St.brave&&typeof St.brave.isBrave==i&&(fn[r]="Brave"),fn},this.getCPU=function(){var Zt={};return Zt[Z]=o,ae.call(Zt,ft,Ot.cpu),Zt},this.getDevice=function(){var Zt={};return Zt[d]=o,Zt[m]=o,Zt[u]=o,ae.call(Zt,ft,Ot.device),Gt&&!Zt[u]&&Yt&&Yt.mobile&&(Zt[u]=x),Gt&&Zt[m]=="Macintosh"&&St&&typeof St.standalone!==E&&St.maxTouchPoints&&St.maxTouchPoints>2&&(Zt[m]="iPad",Zt[u]=re),Zt},this.getEngine=function(){var Zt={};return Zt[r]=o,Zt[I]=o,ae.call(Zt,ft,Ot.engine),Zt},this.getOS=function(){var Zt={};return Zt[r]=o,Zt[I]=o,ae.call(Zt,ft,Ot.os),Gt&&!Zt[r]&&Yt&&Yt.platform!="Unknown"&&(Zt[r]=Yt.platform.replace(/chrome os/i,we).replace(/macos/i,Ke)),Zt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ft},this.setUA=function(Zt){return ft=typeof Zt===f&&Zt.length>500?C(Zt,500):Zt,this},this.setUA(ft),this};je.VERSION="1.0.37",je.BROWSER=y([r,I,R]),je.CPU=y([Z]),je.DEVICE=y([m,d,u,z,x,k,re,te,ce]),je.ENGINE=je.OS=y([r,I]),typeof Y!==E?(U.exports&&(Y=U.exports=je),Y.UAParser=je):v.amdO?(j=(function(){return je}).call(Y,v,Y,U))===o||(U.exports=j):typeof A!==E&&(A.UAParser=je);var Ge=typeof A!==E&&(A.jQuery||A.Zepto);if(Ge&&!Ge.ua){var xe=new je;Ge.ua=xe.getResult(),Ge.ua.get=function(){return xe.getUA()},Ge.ua.set=function(Ye){xe.setUA(Ye);var at=xe.getResult();for(var St in at)Ge.ua[St]=at[St]}}})(typeof window=="object"?window:this)},7839:function(U,Y,v){function j(A){try{if(!v.g.localStorage)return!1}catch{return!1}var o=v.g.localStorage[A];return o!=null&&String(o).toLowerCase()==="true"}U.exports=function(A,o){if(j("noDeprecation"))return A;var i=!1;return function(){if(!i){if(j("throwDeprecation"))throw new Error(o);j("traceDeprecation")?console.trace(o):console.warn(o),i=!0}return A.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(U){U.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(U){U.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(U){U.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(U){U.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(U){U.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(U){U.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},l={};function T(U){var Y=l[U];if(Y!==void 0)return Y.exports;var v=l[U]={exports:{}};return n[U].call(v.exports,v,v.exports,T),v.exports}T.amdO={},T.n=function(U){var Y=U&&U.__esModule?function(){return U.default}:function(){return U};return T.d(Y,{a:Y}),Y},T.d=function(U,Y){for(var v in Y)T.o(Y,v)&&!T.o(U,v)&&Object.defineProperty(U,v,{enumerable:!0,get:Y[v]})},T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),T.o=function(U,Y){return Object.prototype.hasOwnProperty.call(U,Y)};var D={};return function(){T.d(D,{default:function(){return _}}),T(8416);var U,Y=T(1715),v=T(8080),j=T(1737),A=T(1139),o=function(){var f,R="application/dash+xml";function m(u,d,I){if(!u||!/^VIDEO$/i.test(u.nodeName))return null;if(u._dashjs_player)return u._dashjs_player;var Z,z=u.id||u.name||"video element";if(!(d=d||[].slice.call(u.querySelectorAll("source")).filter(function(x){return x.type==R})[0])&&u.src)(d=document.createElement("source")).src=u.src;else if(!d&&!u.src)return null;return I=I||{},(Z=(0,A.Z)(I).create()).initialize(u,d.src,u.autoplay),f||(f=Z.getDebug().getLogger()),f.debug("Converted "+z+" to dash.js player and added content: "+d.src),u._dashjs_player=Z,Z}function r(u){return/^VIDEO$/i.test(u.nodeName)?u:r(u.parentNode)}return{create:m,createAll:function(u,d){var I=[];u=u||"[data-dashjs-player]";for(var Z=(d=d||document).querySelectorAll(u),z=0;z<Z.length;z++){var x=m(Z[z],null);I.push(x)}for(var re=d.querySelectorAll('source[type="'+R+'"]'),k=0;k<re.length;k++){var te=m(r(re[k]),null);I.push(te)}return I}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?o.createAll():U=window.setInterval(function(){window.dashjs&&(window.clearInterval(U),o.createAll())},500):window.addEventListener("load",function f(){window.removeEventListener("load",f),o.createAll()}));var i=o,E=T(6398);dashjs.Protection=j.default,dashjs.MetricsReporting=v.default,dashjs.MediaPlayerFactory=i,dashjs.Debug=E.Z,dashjs.supportsMediaSource=Y.B;var _=dashjs}(),D.default}()})})(Um);var aT=Um.exports;const Zm=bp(aT),oT=(()=>{if(typeof window>"u")return"http://localhost:5001";const{protocol:e,hostname:t}=window.location;return`${e}//${t}:5001`})(),Qi=oT.replace(/\/$/,""),sT=null,Ap={info:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs border-zinc-700 bg-zinc-800/60 text-zinc-200",warn:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs border-zinc-700 bg-amber-600/20 text-amber-200",ok:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs border-zinc-700 bg-emerald-600/20 text-emerald-200",err:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs border-zinc-700 bg-rose-600/20 text-rose-200"},al=Zm.MediaPlayer.events,zi=e=>nn.jsxs(nn.Fragment,{children:[nn.jsxs("span",{className:"relative flex h-3 w-3",children:[nn.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-current opacity-60"}),nn.jsx("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-current"})]}),nn.jsx("span",{children:e})]});function wp(){const e=Zm.MediaPlayer().create();return e.updateSettings({streaming:{delay:{liveDelay:Number.NaN,liveDelayFragmentCount:3,useSuggestedPresentationDelay:!0},liveCatchup:{enabled:!0,maxDrift:1,playbackRate:{min:-.2,max:.2}},buffer:{fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:6,bufferTimeAtTopQuality:8,bufferTimeAtTopQualityLongForm:8},text:{defaultEnabled:!1}}}),e}function lT({user:e,onLogout:t,onUnauthorized:n}){const[l,T]=_n.useState(null),[D,U]=_n.useState(!1),[Y,v]=_n.useState(null),[j,A]=_n.useState(sT),[o,i]=_n.useState({type:"info",message:"Initializing…"}),[E,_]=_n.useState(!0),[f,R]=_n.useState(""),m=_n.useRef(null),r=_n.useRef(null),u=_n.useRef(!1),d=_n.useRef(null),I=_n.useRef(0),Z=_n.useRef(!1),z=_n.useRef(()=>{}),x=_n.useCallback((Ne,me)=>{i({type:Ne,message:me})},[]),re=_n.useCallback((Ne="Waiting for MPD…")=>{_(!0),x("warn",zi(Ne))},[x]),k=_n.useCallback(()=>{_(!1)},[]),te=_n.useCallback(async Ne=>{try{const me=await fetch(Ne,{method:"HEAD",cache:"no-store"});return me.ok?me:me.status===405||me.status===501?await fetch(Ne,{method:"GET",cache:"no-store"}):me}catch{return{ok:!1,status:0}}},[]),ce=_n.useCallback(()=>{var Le;const Ne=r.current,me=m.current;if(Ne){try{Ne.__onStreamInitialized&&(Ne.off(al.STREAM_INITIALIZED,Ne.__onStreamInitialized),Ne.__onStreamInitialized=void 0),Ne.__onStreamError&&(Ne.off(al.ERROR,Ne.__onStreamError),Ne.__onStreamError=void 0)}catch{}try{Ne.reset()}catch{}try{(Le=Ne.destroy)==null||Le.call(Ne)}catch{}r.current=null}if(me)try{me.pause(),me.removeAttribute("src"),me.load(),delete me.dataset.started}catch{}},[]),$=_n.useCallback(()=>{if(u.current||!j)return;u.current=!0,I.current=0,re(),x("info",zi("Checking MPD…"));const Ne=async()=>{var qe;const me=`${j}${j.includes("?")?"&":"?"}probe=${Date.now()}`,Le=await te(me);if(Le.ok){if(I.current+=1,x("info",zi(`MPD OK (${I.current}/2)…`)),I.current>=2){u.current=!1,d.current&&(window.clearTimeout(d.current),d.current=null),await new Promise($e=>setTimeout($e,500)),x("info",zi("Attaching player…")),(qe=z.current)==null||qe.call(z);return}}else{I.current=0;const $e=Le.status||"net";x("warn",zi(`Waiting for MPD (status: ${$e})…`))}d.current=window.setTimeout(Ne,1e3)};Ne()},[te,j,x,re]),ue=_n.useCallback(()=>{const Ne=m.current;if(!Ne||!j)return;ce();const me=wp();r.current=me;const Le=`${j}${j.includes("?")?"&":"?"}ts=${Date.now()}`,qe=()=>{var Fe;k(),x("ok","Live");const Re=m.current;if(Re){const Et=(Fe=Re.play)==null?void 0:Fe.call(Re);Et==null||Et.catch(()=>{})}},$e=Re=>{var Et;const Fe=((Et=Re==null?void 0:Re.event)==null?void 0:Et.status)||(Re==null?void 0:Re.status)||0;x("warn",zi(`Player error (${Fe||"network"}) — rechecking`)),ce(),u.current=!1,I.current=0,re("Recovering from player error…"),$()};me.__onStreamInitialized=qe,me.__onStreamError=$e,me.on(al.STREAM_INITIALIZED,qe),me.on(al.ERROR,$e),Ne.dataset.started||(Ne.muted=!0,Ne.dataset.started="1"),Ne.autoplay=!0,Ne.playsInline=!0;try{me.setAutoPlay(!0),me.initialize(Ne,null,!0),me.attachSource(Le)}catch(Re){console.error("Failed to initialise dash.js player",Re),x("warn",zi("Player failed, retrying…")),ce(),re("Player failed, retrying…"),$()}},[k,j,x,re,$,ce]);_n.useEffect(()=>{z.current=ue},[ue]);const he=_n.useCallback(async()=>{try{const Ne=await fetch(`${Qi}/transcode/status`,{credentials:"include"});if(Ne.status===401)return n(),null;if(!Ne.ok)throw new Error(`Backend responded with ${Ne.status}`);const me=await Ne.json();return T(me),me!=null&&me.manifest_url&&A(me.manifest_url),v(null),me}catch(Ne){return v(Ne instanceof Error?Ne.message:String(Ne)),null}},[n]);_n.useEffect(()=>{r.current=wp(),he();const Ne=window.setInterval(()=>{he()},5e3);return()=>{window.clearInterval(Ne),ce(),d.current&&window.clearTimeout(d.current)}},[he,ce]),_n.useEffect(()=>{l!=null&&l.running&&j&&!Z.current&&(Z.current=!0,$()),l!=null&&l.running||(Z.current=!1,u.current=!1,d.current&&(window.clearTimeout(d.current),d.current=null),re("Transcoder offline"))},[j,re,$,l==null?void 0:l.running]),_n.useEffect(()=>{let Ne=null;const me=()=>{var $e,Re;const Le=r.current,qe=m.current;if(Le&&qe)try{const Fe=(($e=Le.isDynamic)==null?void 0:$e.call(Le))??!1,Et=typeof Le.duration=="function"?Le.duration():NaN,gt=qe.currentTime||0,He=Fe&&!Number.isNaN(Et)?Math.max(0,Et-gt):0,ot=(Re=qe.buffered)!=null&&Re.length?Math.max(0,qe.buffered.end(qe.buffered.length-1)-gt):0;R(`Latency: ${He.toFixed(2)}s · Buffered: ${ot.toFixed(2)}s · Position: ${gt.toFixed(2)}s`)}catch{R("")}else R("");Ne=window.requestAnimationFrame(me)};return me(),()=>{Ne&&window.cancelAnimationFrame(Ne)}},[]),_n.useEffect(()=>{let Ne=0,me=0;const Le=window.setInterval(()=>{var Fe,Et;const qe=r.current,$e=m.current;if(!qe||!$e){me=0;return}const Re=$e.currentTime||0;if(Math.abs(Re-Ne)<.05?me+=1:me=0,Ne=Re,me>=5&&((Fe=qe.isDynamic)!=null&&Fe.call(qe))){const gt=(Et=qe.duration)==null?void 0:Et.call(qe);typeof gt=="number"&&!Number.isNaN(gt)&&($e.currentTime=Math.max(0,gt-.5),me=0)}},1e3);return()=>{window.clearInterval(Le)}},[]);const Ce=Ap[o.type]||Ap.info,oe=_n.useMemo(()=>nn.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900 p-5 space-y-3",children:[nn.jsxs("div",{className:"flex items-center justify-between",children:[nn.jsx("h2",{className:"text-base font-semibold text-zinc-200",children:"Player Metrics"}),nn.jsxs("span",{className:"text-xs text-zinc-400",children:["Signed in as ",nn.jsx("span",{className:"font-medium text-amber-400",children:e.username})]})]}),nn.jsx("p",{className:"text-sm text-zinc-300",children:f||"Awaiting playback…"})]}),[f,e.username]),be=_n.useCallback(async()=>{U(!0),v(null);try{const Ne=await fetch(`${Qi}/transcode/start`,{method:"POST",credentials:"include"});if(Ne.status===401){n();return}if(!Ne.ok)throw new Error(`Failed to start transcoder (${Ne.status})`);x("info",zi("Starting transcoder…")),re("Starting transcoder…"),u.current=!1,I.current=0,A(null),he()}catch(Ne){v(Ne instanceof Error?Ne.message:String(Ne))}finally{U(!1)}},[he,n,re,x]),Pe=_n.useCallback(async()=>{U(!0),v(null);try{const Ne=await fetch(`${Qi}/transcode/stop`,{method:"POST",credentials:"include"});if(Ne.status===401){n();return}if(!Ne.ok)throw new Error(`Failed to stop transcoder (${Ne.status})`);ce(),A(null),re("Transcoder stopped"),U(!1),he()}catch(Ne){v(Ne instanceof Error?Ne.message:String(Ne))}finally{U(!1)}},[he,n,re,ce]);return nn.jsxs("main",{className:"flex h-screen flex-col bg-gradient-to-b from-zinc-950 via-zinc-950 to-zinc-900 text-zinc-100",children:[nn.jsxs("header",{className:"flex items-center justify-between border-b border-zinc-800/80 bg-zinc-900/90 px-10 py-4",children:[nn.jsx("span",{className:"text-lg font-semibold text-white",children:"Publex"}),nn.jsxs("nav",{className:"flex items-center gap-6 text-sm text-zinc-300",children:[nn.jsxs("span",{className:"hidden sm:inline",children:["Welcome, ",nn.jsx("span",{className:"font-medium text-amber-400",children:e.username})]}),nn.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-zinc-700 px-4 py-1.5 text-sm font-medium text-zinc-200 transition hover:border-amber-500 hover:text-amber-300",children:"Sign out"})]})]}),nn.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[nn.jsx("div",{className:"flex min-w-0 flex-[3] items-center justify-center bg-black px-0 py-10 lg:px-0",children:nn.jsxs("div",{className:"relative flex h-full w-full max-h-full max-w-full items-center justify-center",children:[nn.jsx("video",{ref:m,id:"dash-player",autoPlay:!0,muted:!0,playsInline:!0,controls:!0,tabIndex:0,className:"max-h-full max-w-full object-contain focus:outline-none",onClick:Ne=>{Ne.preventDefault();const me=m.current;me&&me.paused&&me.play().catch(()=>{})},onPause:Ne=>{const me=Ne.currentTarget;me.paused&&(Ne.preventDefault(),me.play().catch(()=>{}))},onContextMenu:Ne=>Ne.preventDefault()}),E?nn.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/85",children:nn.jsxs("div",{className:"space-y-2 text-center text-amber-300",children:[nn.jsx("div",{className:"mx-auto h-4 w-4",children:nn.jsxs("span",{className:"relative flex h-4 w-4",children:[nn.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-500/70 opacity-75"}),nn.jsx("span",{className:"relative inline-flex h-4 w-4 rounded-full bg-amber-300"})]})}),nn.jsx("p",{className:"text-base font-semibold",children:"Stream offline"}),nn.jsx("p",{className:"text-xs text-amber-200/70",children:"Waiting for MPD…"})]})}):null,Y?nn.jsx("p",{className:"absolute bottom-6 left-1/2 w-10/12 max-w-md -translate-x-1/2 rounded-xl border border-rose-500/40 bg-rose-500/20 px-4 py-3 text-center text-sm text-rose-100",children:Y}):null]})}),nn.jsxs("div",{className:"flex min-w-0 flex-[1] flex-col gap-6 overflow-y-auto border-l border-zinc-900 bg-zinc-950/95 px-6 py-10 lg:px-8",children:[nn.jsxs("header",{className:"space-y-4",children:[nn.jsxs("div",{children:[nn.jsx("h1",{className:"text-3xl font-semibold text-amber-500",children:"Transcoder Control Panel"}),nn.jsxs("p",{className:"mt-2 text-sm text-zinc-300",children:["Backend: ",nn.jsx("code",{className:"rounded bg-zinc-900 px-2 py-1 text-xs text-amber-400",children:Qi})]}),nn.jsxs("p",{className:"text-sm text-zinc-300",children:["Manifest: ",nn.jsx("code",{className:"rounded bg-zinc-900 px-2 py-1 text-xs text-amber-400",children:j??"pending…"})]})]}),nn.jsx("span",{className:Ce,children:o.message})]}),nn.jsxs("div",{className:"grid gap-3 rounded-2xl border border-amber-500/30 bg-zinc-900/80 p-5",children:[nn.jsx("button",{type:"button",onClick:be,disabled:D||(l==null?void 0:l.running),className:"inline-flex items-center justify-center rounded-full bg-amber-500 px-6 py-2.5 text-base font-semibold text-zinc-950 transition hover:bg-amber-400 disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",children:"Play / Start Transcoder"}),nn.jsx("button",{type:"button",onClick:Pe,disabled:D||!(l!=null&&l.running),className:"inline-flex items-center justify-center rounded-full bg-rose-500 px-6 py-2.5 text-base font-semibold text-zinc-50 transition hover:bg-rose-400 disabled:cursor-not-allowed disabled:bg-zinc-700 disabled:text-zinc-400",children:"Stop Transcoder"})]}),oe,nn.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900 p-5",children:[nn.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[nn.jsx("h2",{className:"text-lg font-semibold text-zinc-200",children:"Backend Status"}),nn.jsxs("span",{className:"text-xs text-zinc-500",children:["User: ",e.email]})]}),nn.jsx("pre",{className:"max-h-[50vh] overflow-auto break-words rounded-2xl bg-zinc-950/90 p-5 text-xs text-zinc-200",children:l?JSON.stringify(l,null,2):"Fetching backend status…"})]})]})]})]})}function uT(){const[e,t]=_n.useState(null),[n,l]=_n.useState(!0),[T,D]=_n.useState("login"),[U,Y]=_n.useState(null),[v,j]=_n.useState(!1),A=_n.useCallback(m=>{D(m),Y(null)},[]),o=_n.useCallback(async()=>{try{const m=await fetch(`${Qi}/auth/session`,{credentials:"include"});if(!m.ok)throw new Error(`Session check failed (${m.status})`);const r=await m.json();t((r==null?void 0:r.user)??null),Y(null)}catch{t(null)}finally{l(!1)}},[]);_n.useEffect(()=>{o()},[o]);const i=_n.useCallback(()=>{t(null),A("login"),Y("Session expired. Please sign in again.")},[A]),E=_n.useCallback(async(m,r)=>{if(!m||!r){Y("Identifier and password are required.");return}j(!0),Y(null);try{const u=await fetch(`${Qi}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({identifier:m,password:r})}),d=await u.json().catch(()=>null);if(!u.ok){Y((d==null?void 0:d.error)??"Unable to sign in.");return}t((d==null?void 0:d.user)??null),A("login")}catch(u){Y(u instanceof Error?u.message:"Unable to sign in.")}finally{j(!1),l(!1)}},[A]),_=_n.useCallback(async(m,r,u)=>{if(!m||!r||!u){Y("Username, email, and password are required.");return}j(!0),Y(null);try{const d=await fetch(`${Qi}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:m,email:r,password:u})}),I=await d.json().catch(()=>null);if(!d.ok){Y((I==null?void 0:I.error)??"Unable to create account.");return}t((I==null?void 0:I.user)??null),A("login")}catch(d){Y(d instanceof Error?d.message:"Unable to create account.")}finally{j(!1),l(!1)}},[A]),f=_n.useCallback(async()=>{try{await fetch(`${Qi}/auth/logout`,{method:"POST",credentials:"include"})}catch{}t(null),A("login")},[A]),R=_n.useCallback(()=>{Y(null)},[]);return{user:e,initializing:n,authMode:T,setAuthMode:A,authError:U,clearAuthError:R,pending:v,login:E,register:_,logout:f,reloadSession:o,handleUnauthorized:i}}function cT(){const{user:e,initializing:t,authMode:n,setAuthMode:l,authError:T,clearAuthError:D,pending:U,login:Y,register:v,logout:j,handleUnauthorized:A}=uT();return t?nn.jsx("main",{className:"flex min-h-screen items-center justify-center bg-gradient-to-b from-zinc-950 via-zinc-950 to-zinc-900 text-zinc-300",children:nn.jsx("span",{className:"text-sm",children:"Checking session…"})}):e?nn.jsx(lT,{user:e,onLogout:j,onUnauthorized:A}):nn.jsx(iT,{mode:n,setMode:l,pending:U,error:T,onLogin:(o,i)=>(D(),Y(o,i)),onRegister:(o,i,E)=>(D(),v(o,i,E))})}const Bm=document.getElementById("root");if(!Bm)throw new Error("Root element #root not found");cc.createRoot(Bm).render(nn.jsx(qv.StrictMode,{children:nn.jsx(cT,{})}));
